(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=a(u);fetch(u.href,f)}})();var Ac={exports:{}},Ma={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function yE(){if(Zp)return Ma;Zp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:l,type:r,key:h,ref:u!==void 0?u:null,props:f}}return Ma.Fragment=n,Ma.jsx=a,Ma.jsxs=a,Ma}var Pp;function vE(){return Pp||(Pp=1,Ac.exports=yE()),Ac.exports}var Q=vE(),Nc={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function EE(){if(Wp)return ie;Wp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=v&&b[v]||b["@@iterator"],typeof b=="function"?b:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function B(b,H,V){this.props=b,this.context=H,this.refs=k,this.updater=V||O}B.prototype.isReactComponent={},B.prototype.setState=function(b,H){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,H,"setState")},B.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function I(){}I.prototype=B.prototype;function F(b,H,V){this.props=b,this.context=H,this.refs=k,this.updater=V||O}var Y=F.prototype=new I;Y.constructor=F,N(Y,B.prototype),Y.isPureReactComponent=!0;var fe=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},je=Object.prototype.hasOwnProperty;function Ue(b,H,V,j,Z,de){return V=de.ref,{$$typeof:l,type:b,key:H,ref:V!==void 0?V:null,props:de}}function Be(b,H){return Ue(b.type,H,void 0,void 0,void 0,b.props)}function we(b){return typeof b=="object"&&b!==null&&b.$$typeof===l}function ct(b){var H={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(V){return H[V]})}var xt=/\/+/g;function lt(b,H){return typeof b=="object"&&b!==null&&b.key!=null?ct(""+b.key):H.toString(36)}function li(){}function ai(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(li,li):(b.status="pending",b.then(function(H){b.status==="pending"&&(b.status="fulfilled",b.value=H)},function(H){b.status==="pending"&&(b.status="rejected",b.reason=H)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function at(b,H,V,j,Z){var de=typeof b;(de==="undefined"||de==="boolean")&&(b=null);var ne=!1;if(b===null)ne=!0;else switch(de){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(b.$$typeof){case l:case n:ne=!0;break;case y:return ne=b._init,at(ne(b._payload),H,V,j,Z)}}if(ne)return Z=Z(b),ne=j===""?"."+lt(b,0):j,fe(Z)?(V="",ne!=null&&(V=ne.replace(xt,"$&/")+"/"),at(Z,H,V,"",function(Nn){return Nn})):Z!=null&&(we(Z)&&(Z=Be(Z,V+(Z.key==null||b&&b.key===Z.key?"":(""+Z.key).replace(xt,"$&/")+"/")+ne)),H.push(Z)),1;ne=0;var St=j===""?".":j+":";if(fe(b))for(var Oe=0;Oe<b.length;Oe++)j=b[Oe],de=St+lt(j,Oe),ne+=at(j,H,V,de,Z);else if(Oe=S(b),typeof Oe=="function")for(b=Oe.call(b),Oe=0;!(j=b.next()).done;)j=j.value,de=St+lt(j,Oe++),ne+=at(j,H,V,de,Z);else if(de==="object"){if(typeof b.then=="function")return at(ai(b),H,V,j,Z);throw H=String(b),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ne}function M(b,H,V){if(b==null)return b;var j=[],Z=0;return at(b,j,"","",function(de){return H.call(V,de,Z++)}),j}function G(b){if(b._status===-1){var H=b._result;H=H(),H.then(function(V){(b._status===0||b._status===-1)&&(b._status=1,b._result=V)},function(V){(b._status===0||b._status===-1)&&(b._status=2,b._result=V)}),b._status===-1&&(b._status=0,b._result=H)}if(b._status===1)return b._result.default;throw b._result}var J=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function be(){}return ie.Children={map:M,forEach:function(b,H,V){M(b,function(){H.apply(this,arguments)},V)},count:function(b){var H=0;return M(b,function(){H++}),H},toArray:function(b){return M(b,function(H){return H})||[]},only:function(b){if(!we(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ie.Component=B,ie.Fragment=a,ie.Profiler=u,ie.PureComponent=F,ie.StrictMode=r,ie.Suspense=_,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,ie.__COMPILER_RUNTIME={__proto__:null,c:function(b){return te.H.useMemoCache(b)}},ie.cache=function(b){return function(){return b.apply(null,arguments)}},ie.cloneElement=function(b,H,V){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var j=N({},b.props),Z=b.key,de=void 0;if(H!=null)for(ne in H.ref!==void 0&&(de=void 0),H.key!==void 0&&(Z=""+H.key),H)!je.call(H,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&H.ref===void 0||(j[ne]=H[ne]);var ne=arguments.length-2;if(ne===1)j.children=V;else if(1<ne){for(var St=Array(ne),Oe=0;Oe<ne;Oe++)St[Oe]=arguments[Oe+2];j.children=St}return Ue(b.type,Z,void 0,void 0,de,j)},ie.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},ie.createElement=function(b,H,V){var j,Z={},de=null;if(H!=null)for(j in H.key!==void 0&&(de=""+H.key),H)je.call(H,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(Z[j]=H[j]);var ne=arguments.length-2;if(ne===1)Z.children=V;else if(1<ne){for(var St=Array(ne),Oe=0;Oe<ne;Oe++)St[Oe]=arguments[Oe+2];Z.children=St}if(b&&b.defaultProps)for(j in ne=b.defaultProps,ne)Z[j]===void 0&&(Z[j]=ne[j]);return Ue(b,de,void 0,void 0,null,Z)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(b){return{$$typeof:p,render:b}},ie.isValidElement=we,ie.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:G}},ie.memo=function(b,H){return{$$typeof:m,type:b,compare:H===void 0?null:H}},ie.startTransition=function(b){var H=te.T,V={};te.T=V;try{var j=b(),Z=te.S;Z!==null&&Z(V,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(be,J)}catch(de){J(de)}finally{te.T=H}},ie.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},ie.use=function(b){return te.H.use(b)},ie.useActionState=function(b,H,V){return te.H.useActionState(b,H,V)},ie.useCallback=function(b,H){return te.H.useCallback(b,H)},ie.useContext=function(b){return te.H.useContext(b)},ie.useDebugValue=function(){},ie.useDeferredValue=function(b,H){return te.H.useDeferredValue(b,H)},ie.useEffect=function(b,H,V){var j=te.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(b,H)},ie.useId=function(){return te.H.useId()},ie.useImperativeHandle=function(b,H,V){return te.H.useImperativeHandle(b,H,V)},ie.useInsertionEffect=function(b,H){return te.H.useInsertionEffect(b,H)},ie.useLayoutEffect=function(b,H){return te.H.useLayoutEffect(b,H)},ie.useMemo=function(b,H){return te.H.useMemo(b,H)},ie.useOptimistic=function(b,H){return te.H.useOptimistic(b,H)},ie.useReducer=function(b,H,V){return te.H.useReducer(b,H,V)},ie.useRef=function(b){return te.H.useRef(b)},ie.useState=function(b){return te.H.useState(b)},ie.useSyncExternalStore=function(b,H,V){return te.H.useSyncExternalStore(b,H,V)},ie.useTransition=function(){return te.H.useTransition()},ie.version="19.1.0",ie}var Jp;function mf(){return Jp||(Jp=1,Nc.exports=EE()),Nc.exports}var U=mf(),Dc={exports:{}},za={},wc={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function SE(){return $p||($p=1,function(l){function n(M,G){var J=M.length;M.push(G);e:for(;0<J;){var be=J-1>>>1,b=M[be];if(0<u(b,G))M[be]=G,M[J]=b,J=be;else break e}}function a(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var G=M[0],J=M.pop();if(J!==G){M[0]=J;e:for(var be=0,b=M.length,H=b>>>1;be<H;){var V=2*(be+1)-1,j=M[V],Z=V+1,de=M[Z];if(0>u(j,J))Z<b&&0>u(de,j)?(M[be]=de,M[Z]=J,be=Z):(M[be]=j,M[V]=J,be=V);else if(Z<b&&0>u(de,J))M[be]=de,M[Z]=J,be=Z;else break e}}return G}function u(M,G){var J=M.sortIndex-G.sortIndex;return J!==0?J:M.id-G.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var _=[],m=[],y=1,v=null,S=3,O=!1,N=!1,k=!1,B=!1,I=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function fe(M){for(var G=a(m);G!==null;){if(G.callback===null)r(m);else if(G.startTime<=M)r(m),G.sortIndex=G.expirationTime,n(_,G);else break;G=a(m)}}function te(M){if(k=!1,fe(M),!N)if(a(_)!==null)N=!0,je||(je=!0,lt());else{var G=a(m);G!==null&&at(te,G.startTime-M)}}var je=!1,Ue=-1,Be=5,we=-1;function ct(){return B?!0:!(l.unstable_now()-we<Be)}function xt(){if(B=!1,je){var M=l.unstable_now();we=M;var G=!0;try{e:{N=!1,k&&(k=!1,F(Ue),Ue=-1),O=!0;var J=S;try{t:{for(fe(M),v=a(_);v!==null&&!(v.expirationTime>M&&ct());){var be=v.callback;if(typeof be=="function"){v.callback=null,S=v.priorityLevel;var b=be(v.expirationTime<=M);if(M=l.unstable_now(),typeof b=="function"){v.callback=b,fe(M),G=!0;break t}v===a(_)&&r(_),fe(M)}else r(_);v=a(_)}if(v!==null)G=!0;else{var H=a(m);H!==null&&at(te,H.startTime-M),G=!1}}break e}finally{v=null,S=J,O=!1}G=void 0}}finally{G?lt():je=!1}}}var lt;if(typeof Y=="function")lt=function(){Y(xt)};else if(typeof MessageChannel<"u"){var li=new MessageChannel,ai=li.port2;li.port1.onmessage=xt,lt=function(){ai.postMessage(null)}}else lt=function(){I(xt,0)};function at(M,G){Ue=I(function(){M(l.unstable_now())},G)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(M){M.callback=null},l.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<M?Math.floor(1e3/M):5},l.unstable_getCurrentPriorityLevel=function(){return S},l.unstable_next=function(M){switch(S){case 1:case 2:case 3:var G=3;break;default:G=S}var J=S;S=G;try{return M()}finally{S=J}},l.unstable_requestPaint=function(){B=!0},l.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=S;S=M;try{return G()}finally{S=J}},l.unstable_scheduleCallback=function(M,G,J){var be=l.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?be+J:be):J=be,M){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=J+b,M={id:y++,callback:G,priorityLevel:M,startTime:J,expirationTime:b,sortIndex:-1},J>be?(M.sortIndex=J,n(m,M),a(_)===null&&M===a(m)&&(k?(F(Ue),Ue=-1):k=!0,at(te,J-be))):(M.sortIndex=b,n(_,M),N||O||(N=!0,je||(je=!0,lt()))),M},l.unstable_shouldYield=ct,l.unstable_wrapCallback=function(M){var G=S;return function(){var J=S;S=G;try{return M.apply(this,arguments)}finally{S=J}}}}(Oc)),Oc}var e_;function bE(){return e_||(e_=1,wc.exports=SE()),wc.exports}var xc={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function CE(){if(t_)return ut;t_=1;var l=mf();function n(_){var m="https://react.dev/errors/"+_;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+_+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(_,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:_,containerInfo:m,implementation:y}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,m){if(_==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ut.createPortal=function(_,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return f(_,m,null,y)},ut.flushSync=function(_){var m=h.T,y=r.p;try{if(h.T=null,r.p=2,_)return _()}finally{h.T=m,r.p=y,r.d.f()}},ut.preconnect=function(_,m){typeof _=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(_,m))},ut.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},ut.preinit=function(_,m){if(typeof _=="string"&&m&&typeof m.as=="string"){var y=m.as,v=p(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,O=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(_,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:O}):y==="script"&&r.d.X(_,{crossOrigin:v,integrity:S,fetchPriority:O,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ut.preinitModule=function(_,m){if(typeof _=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=p(m.as,m.crossOrigin);r.d.M(_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(_)},ut.preload=function(_,m){if(typeof _=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=p(y,m.crossOrigin);r.d.L(_,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ut.preloadModule=function(_,m){if(typeof _=="string")if(m){var y=p(m.as,m.crossOrigin);r.d.m(_,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(_)},ut.requestFormReset=function(_){r.d.r(_)},ut.unstable_batchedUpdates=function(_,m){return _(m)},ut.useFormState=function(_,m,y){return h.H.useFormState(_,m,y)},ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},ut.version="19.1.0",ut}var n_;function TE(){if(n_)return xc.exports;n_=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),xc.exports=CE(),xc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function RE(){if(i_)return za;i_=1;var l=bE(),n=mf(),a=TE();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(r(188))}function _(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){i=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return p(o),e;if(c===s)return p(o),t;c=c.sibling}throw Error(r(188))}if(i.return!==s.return)i=o,s=c;else{for(var d=!1,g=o.child;g;){if(g===i){d=!0,i=o,s=c;break}if(g===s){d=!0,s=o,i=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===i){d=!0,i=c,s=o;break}if(g===s){d=!0,s=c,i=o;break}g=g.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),we=Symbol.for("react.activity"),ct=Symbol.for("react.memo_cache_sentinel"),xt=Symbol.iterator;function lt(e){return e===null||typeof e!="object"?null:(e=xt&&e[xt]||e["@@iterator"],typeof e=="function"?e:null)}var li=Symbol.for("react.client.reference");function ai(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===li?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case je:return"SuspenseList";case we:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case Y:return(e.displayName||"Context")+".Provider";case F:return(e._context.displayName||"Context")+".Consumer";case fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ue:return t=e.displayName||null,t!==null?t:ai(e.type)||"Memo";case Be:t=e._payload,e=e._init;try{return ai(e(t))}catch{}}return null}var at=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},be=[],b=-1;function H(e){return{current:e}}function V(e){0>b||(e.current=be[b],be[b]=null,b--)}function j(e,t){b++,be[b]=e.current,e.current=t}var Z=H(null),de=H(null),ne=H(null),St=H(null);function Oe(e,t){switch(j(ne,t),j(de,e),j(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cp(t),e=Tp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(Z),j(Z,e)}function Nn(){V(Z),V(de),V(ne)}function cu(e){e.memoizedState!==null&&j(St,e);var t=Z.current,i=Tp(t,e.type);t!==i&&(j(de,e),j(Z,i))}function fs(e){de.current===e&&(V(Z),V(de)),St.current===e&&(V(St),Na._currentValue=J)}var fu=Object.prototype.hasOwnProperty,hu=l.unstable_scheduleCallback,du=l.unstable_cancelCallback,Py=l.unstable_shouldYield,Wy=l.unstable_requestPaint,Zt=l.unstable_now,Jy=l.unstable_getCurrentPriorityLevel,ih=l.unstable_ImmediatePriority,lh=l.unstable_UserBlockingPriority,hs=l.unstable_NormalPriority,$y=l.unstable_LowPriority,ah=l.unstable_IdlePriority,ev=l.log,tv=l.unstable_setDisableYieldValue,Ll=null,bt=null;function Dn(e){if(typeof ev=="function"&&tv(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Ll,e)}catch{}}var Ct=Math.clz32?Math.clz32:lv,nv=Math.log,iv=Math.LN2;function lv(e){return e>>>=0,e===0?32:31-(nv(e)/iv|0)|0}var ds=256,ms=4194304;function si(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ps(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var g=s&134217727;return g!==0?(s=g&~c,s!==0?o=si(s):(d&=g,d!==0?o=si(d):i||(i=g&~e,i!==0&&(o=si(i))))):(g=s&~c,g!==0?o=si(g):d!==0?o=si(d):i||(i=s&~e,i!==0&&(o=si(i)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:o}function Hl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function av(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sh(){var e=ds;return ds<<=1,(ds&4194048)===0&&(ds=256),e}function rh(){var e=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),e}function mu(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Il(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sv(e,t,i,s,o,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var g=e.entanglements,E=e.expirationTimes,A=e.hiddenUpdates;for(i=d&~i;0<i;){var x=31-Ct(i),L=1<<x;g[x]=0,E[x]=-1;var D=A[x];if(D!==null)for(A[x]=null,x=0;x<D.length;x++){var w=D[x];w!==null&&(w.lane&=-536870913)}i&=~L}s!==0&&uh(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function uh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ct(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&4194090}function oh(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Ct(i),o=1<<s;o&t|e[s]&t&&(e[s]|=t),i&=~o}}function pu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _u(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ch(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Gp(e.type))}function rv(e,t){var i=G.p;try{return G.p=e,t()}finally{G.p=i}}var wn=Math.random().toString(36).slice(2),st="__reactFiber$"+wn,ht="__reactProps$"+wn,Li="__reactContainer$"+wn,gu="__reactEvents$"+wn,uv="__reactListeners$"+wn,ov="__reactHandles$"+wn,fh="__reactResources$"+wn,Bl="__reactMarker$"+wn;function yu(e){delete e[st],delete e[ht],delete e[gu],delete e[uv],delete e[ov]}function Hi(e){var t=e[st];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Li]||i[st]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Dp(e);e!==null;){if(i=e[st])return i;e=Dp(e)}return t}e=i,i=e.parentNode}return null}function Ii(e){if(e=e[st]||e[Li]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function kl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Bi(e){var t=e[fh];return t||(t=e[fh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Bl]=!0}var hh=new Set,dh={};function ri(e,t){ki(e,t),ki(e+"Capture",t)}function ki(e,t){for(dh[e]=t,e=0;e<t.length;e++)hh.add(t[e])}var cv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mh={},ph={};function fv(e){return fu.call(ph,e)?!0:fu.call(mh,e)?!1:cv.test(e)?ph[e]=!0:(mh[e]=!0,!1)}function _s(e,t,i){if(fv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function gs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function nn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}var vu,_h;function qi(e){if(vu===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);vu=t&&t[1]||"",_h=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vu+e+_h}var Eu=!1;function Su(e,t){if(!e||Eu)return"";Eu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(w){var D=w}Reflect.construct(e,[],L)}else{try{L.call()}catch(w){D=w}e.call(L.prototype)}}else{try{throw Error()}catch(w){D=w}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(w){if(w&&D&&typeof w.stack=="string")return[w.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),d=c[0],g=c[1];if(d&&g){var E=d.split(`
`),A=g.split(`
`);for(o=s=0;s<E.length&&!E[s].includes("DetermineComponentFrameRoot");)s++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(s===E.length||o===A.length)for(s=E.length-1,o=A.length-1;1<=s&&0<=o&&E[s]!==A[o];)o--;for(;1<=s&&0<=o;s--,o--)if(E[s]!==A[o]){if(s!==1||o!==1)do if(s--,o--,0>o||E[s]!==A[o]){var x=`
`+E[s].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=s&&0<=o);break}}}finally{Eu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?qi(i):""}function hv(e){switch(e.tag){case 26:case 27:case 5:return qi(e.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return Su(e.type,!1);case 11:return Su(e.type.render,!1);case 1:return Su(e.type,!0);case 31:return qi("Activity");default:return""}}function gh(e){try{var t="";do t+=hv(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dv(e){var t=yh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){s=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=dv(e))}function vh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=yh(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mv=/[\n"\\]/g;function zt(e){return e.replace(mv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function bu(e,t,i,s,o,c,d,g){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Cu(e,d,Mt(t)):i!=null?Cu(e,d,Mt(i)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Mt(g):e.removeAttribute("name")}function Eh(e,t,i,s,o,c,d,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+Mt(i):"",t=t!=null?""+Mt(t):i,g||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=g?e.checked:!!s,e.defaultChecked=!!s,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function Cu(e,t,i){t==="number"&&vs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ji(e,t,i,s){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Mt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Sh(e,t,i){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Mt(i):""}function bh(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(at(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Mt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s)}function Yi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var pv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ch(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||pv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Th(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&i[o]!==s&&Ch(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&Ch(e,c,t[c])}function Tu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _v=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(e){return gv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ru=null;function Au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gi=null,Vi=null;function Rh(e){var t=Ii(e);if(t&&(e=t.stateNode)){var i=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(bu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+zt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var o=s[ht]||null;if(!o)throw Error(r(90));bu(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&vh(s)}break e;case"textarea":Sh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ji(e,!!i.multiple,t,!1)}}}var Nu=!1;function Ah(e,t,i){if(Nu)return e(t,i);Nu=!0;try{var s=e(t);return s}finally{if(Nu=!1,(Gi!==null||Vi!==null)&&(ar(),Gi&&(t=Gi,e=Vi,Vi=Gi=null,Rh(t),e)))for(t=0;t<e.length;t++)Rh(e[t])}}function ql(e,t){var i=e.stateNode;if(i===null)return null;var s=i[ht]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=!1;if(ln)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){Du=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{Du=!1}var On=null,wu=null,Ss=null;function Nh(){if(Ss)return Ss;var e,t=wu,i=t.length,s,o="value"in On?On.value:On.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(s=1;s<=d&&t[i-s]===o[c-s];s++);return Ss=o.slice(e,1<s?1-s:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function Dh(){return!1}function dt(e){function t(i,s,o,c,d){this._reactName=i,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Cs:Dh,this.isPropagationStopped=Dh,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=dt(ui),Yl=y({},ui,{view:0,detail:0}),yv=dt(Yl),Ou,xu,Gl,Rs=y({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gl&&(Gl&&e.type==="mousemove"?(Ou=e.screenX-Gl.screenX,xu=e.screenY-Gl.screenY):xu=Ou=0,Gl=e),Ou)},movementY:function(e){return"movementY"in e?e.movementY:xu}}),wh=dt(Rs),vv=y({},Rs,{dataTransfer:0}),Ev=dt(vv),Sv=y({},Yl,{relatedTarget:0}),Mu=dt(Sv),bv=y({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Cv=dt(bv),Tv=y({},ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rv=dt(Tv),Av=y({},ui,{data:0}),Oh=dt(Av),Nv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wv[e])?!!t[e]:!1}function zu(){return Ov}var xv=y({},Yl,{key:function(e){if(e.key){var t=Nv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mv=dt(xv),zv=y({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=dt(zv),Uv=y({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),Lv=dt(Uv),Hv=y({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iv=dt(Hv),Bv=y({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kv=dt(Bv),qv=y({},ui,{newState:0,oldState:0}),jv=dt(qv),Yv=[9,13,27,32],Uu=ln&&"CompositionEvent"in window,Vl=null;ln&&"documentMode"in document&&(Vl=document.documentMode);var Gv=ln&&"TextEvent"in window&&!Vl,Mh=ln&&(!Uu||Vl&&8<Vl&&11>=Vl),zh=" ",Uh=!1;function Lh(e,t){switch(e){case"keyup":return Yv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qi=!1;function Vv(e,t){switch(e){case"compositionend":return Hh(t);case"keypress":return t.which!==32?null:(Uh=!0,zh);case"textInput":return e=t.data,e===zh&&Uh?null:e;default:return null}}function Qv(e,t){if(Qi)return e==="compositionend"||!Uu&&Lh(e,t)?(e=Nh(),Ss=wu=On=null,Qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mh&&t.locale!=="ko"?null:t.data;default:return null}}var Xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xv[e.type]:t==="textarea"}function Bh(e,t,i,s){Gi?Vi?Vi.push(s):Vi=[s]:Gi=s,t=fr(t,"onChange"),0<t.length&&(i=new Ts("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Ql=null,Xl=null;function Kv(e){yp(e,0)}function As(e){var t=kl(e);if(vh(t))return e}function kh(e,t){if(e==="change")return t}var qh=!1;if(ln){var Lu;if(ln){var Hu="oninput"in document;if(!Hu){var jh=document.createElement("div");jh.setAttribute("oninput","return;"),Hu=typeof jh.oninput=="function"}Lu=Hu}else Lu=!1;qh=Lu&&(!document.documentMode||9<document.documentMode)}function Yh(){Ql&&(Ql.detachEvent("onpropertychange",Gh),Xl=Ql=null)}function Gh(e){if(e.propertyName==="value"&&As(Xl)){var t=[];Bh(t,Xl,e,Au(e)),Ah(Kv,t)}}function Fv(e,t,i){e==="focusin"?(Yh(),Ql=t,Xl=i,Ql.attachEvent("onpropertychange",Gh)):e==="focusout"&&Yh()}function Zv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return As(Xl)}function Pv(e,t){if(e==="click")return As(t)}function Wv(e,t){if(e==="input"||e==="change")return As(t)}function Jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Jv;function Kl(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var o=i[s];if(!fu.call(t,o)||!Tt(e[o],t[o]))return!1}return!0}function Vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qh(e,t){var i=Vh(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Vh(i)}}function Xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=vs(e.document)}return t}function Iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $v=ln&&"documentMode"in document&&11>=document.documentMode,Xi=null,Bu=null,Fl=null,ku=!1;function Fh(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ku||Xi==null||Xi!==vs(s)||(s=Xi,"selectionStart"in s&&Iu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fl&&Kl(Fl,s)||(Fl=s,s=fr(Bu,"onSelect"),0<s.length&&(t=new Ts("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Xi)))}function oi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ki={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},qu={},Zh={};ln&&(Zh=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function ci(e){if(qu[e])return qu[e];if(!Ki[e])return e;var t=Ki[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Zh)return qu[e]=t[i];return e}var Ph=ci("animationend"),Wh=ci("animationiteration"),Jh=ci("animationstart"),e0=ci("transitionrun"),t0=ci("transitionstart"),n0=ci("transitioncancel"),$h=ci("transitionend"),ed=new Map,ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ju.push("scrollEnd");function jt(e,t){ed.set(e,t),ri(t,[e])}var td=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var i=td.get(e);return i!==void 0?i:(t={value:e,source:t,stack:gh(t)},td.set(e,t),t)}return{value:e,source:t,stack:gh(t)}}var Lt=[],Fi=0,Yu=0;function Ns(){for(var e=Fi,t=Yu=Fi=0;t<e;){var i=Lt[t];Lt[t++]=null;var s=Lt[t];Lt[t++]=null;var o=Lt[t];Lt[t++]=null;var c=Lt[t];if(Lt[t++]=null,s!==null&&o!==null){var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}c!==0&&nd(i,o,c)}}function Ds(e,t,i,s){Lt[Fi++]=e,Lt[Fi++]=t,Lt[Fi++]=i,Lt[Fi++]=s,Yu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Gu(e,t,i,s){return Ds(e,t,i,s),ws(e)}function Zi(e,t){return Ds(e,null,null,t),ws(e)}function nd(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,s=c.alternate,s!==null&&(s.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-Ct(i),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=i|536870912),c):null}function ws(e){if(50<va)throw va=0,Po=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pi={};function i0(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,i,s){return new i0(e,t,i,s)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function an(e,t){var i=e.alternate;return i===null?(i=Rt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function id(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Os(e,t,i,s,o,c){var d=0;if(s=e,typeof e=="function")Vu(e)&&(d=1);else if(typeof e=="string")d=aE(e,i,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case we:return e=Rt(31,i,t,o),e.elementType=we,e.lanes=c,e;case N:return fi(i.children,o,c,t);case k:d=8,o|=24;break;case B:return e=Rt(12,i,t,o|2),e.elementType=B,e.lanes=c,e;case te:return e=Rt(13,i,t,o),e.elementType=te,e.lanes=c,e;case je:return e=Rt(19,i,t,o),e.elementType=je,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case Y:d=10;break e;case F:d=9;break e;case fe:d=11;break e;case Ue:d=14;break e;case Be:d=16,s=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Rt(d,i,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function fi(e,t,i,s){return e=Rt(7,e,s,t),e.lanes=i,e}function Qu(e,t,i){return e=Rt(6,e,null,t),e.lanes=i,e}function Xu(e,t,i){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wi=[],Ji=0,xs=null,Ms=0,Ht=[],It=0,hi=null,sn=1,rn="";function di(e,t){Wi[Ji++]=Ms,Wi[Ji++]=xs,xs=e,Ms=t}function ld(e,t,i){Ht[It++]=sn,Ht[It++]=rn,Ht[It++]=hi,hi=e;var s=sn;e=rn;var o=32-Ct(s)-1;s&=~(1<<o),i+=1;var c=32-Ct(t)+o;if(30<c){var d=o-o%5;c=(s&(1<<d)-1).toString(32),s>>=d,o-=d,sn=1<<32-Ct(t)+o|i<<o|s,rn=c+e}else sn=1<<c|i<<o|s,rn=e}function Ku(e){e.return!==null&&(di(e,1),ld(e,1,0))}function Fu(e){for(;e===xs;)xs=Wi[--Ji],Wi[Ji]=null,Ms=Wi[--Ji],Wi[Ji]=null;for(;e===hi;)hi=Ht[--It],Ht[It]=null,rn=Ht[--It],Ht[It]=null,sn=Ht[--It],Ht[It]=null}var ft=null,Le=null,pe=!1,mi=null,Pt=!1,Zu=Error(r(519));function pi(e){var t=Error(r(418,""));throw Wl(Ut(t,e)),Zu}function ad(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[st]=e,t[ht]=s,i){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(i=0;i<Sa.length;i++)oe(Sa[i],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),Eh(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ys(t);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),bh(t,s.value,s.defaultValue,s.children),ys(t)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||bp(t.textContent,i)?(s.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),s.onScroll!=null&&oe("scroll",t),s.onScrollEnd!=null&&oe("scrollend",t),s.onClick!=null&&(t.onclick=hr),t=!0):t=!1,t||pi(e)}function sd(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:ft=ft.return}}function Zl(e){if(e!==ft)return!1;if(!pe)return sd(e),pe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||hc(e.type,e.memoizedProps)),i=!i),i&&Le&&pi(e),sd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Le=Gt(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Le=null}}else t===27?(t=Le,Xn(e.type)?(e=_c,_c=null,Le=e):Le=t):Le=ft?Gt(e.stateNode.nextSibling):null;return!0}function Pl(){Le=ft=null,pe=!1}function rd(){var e=mi;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),mi=null),e}function Wl(e){mi===null?mi=[e]:mi.push(e)}var Pu=H(null),_i=null,un=null;function xn(e,t,i){j(Pu,t._currentValue),t._currentValue=i}function on(e){e._currentValue=Pu.current,V(Pu)}function Wu(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Ju(e,t,i,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var d=o.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=o;for(var E=0;E<t.length;E++)if(g.context===t[E]){c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),Wu(c.return,i,e),s||(d=null);break e}c=g.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),Wu(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function Jl(e,t,i,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var g=o.type;Tt(o.pendingProps.value,d.value)||(e!==null?e.push(g):e=[g])}}else if(o===St.current){if(d=o.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Na):e=[Na])}o=o.return}e!==null&&Ju(t,e,i,s),t.flags|=262144}function zs(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gi(e){_i=e,un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return ud(_i,e)}function Us(e,t){return _i===null&&gi(e),ud(e,t)}function ud(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},un===null){if(e===null)throw Error(r(308));un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else un=un.next=t;return i}var l0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},a0=l.unstable_scheduleCallback,s0=l.unstable_NormalPriority,Ve={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $u(){return{controller:new l0,data:new Map,refCount:0}}function $l(e){e.refCount--,e.refCount===0&&a0(s0,function(){e.controller.abort()})}var ea=null,eo=0,$i=0,el=null;function r0(e,t){if(ea===null){var i=ea=[];eo=0,$i=ic(),el={status:"pending",value:void 0,then:function(s){i.push(s)}}}return eo++,t.then(od,od),t}function od(){if(--eo===0&&ea!==null){el!==null&&(el.status="fulfilled");var e=ea;ea=null,$i=0,el=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function u0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),s}var cd=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&r0(e,t),cd!==null&&cd(e,t)};var yi=H(null);function to(){var e=yi.current;return e!==null?e:Re.pooledCache}function Ls(e,t){t===null?j(yi,yi.current):j(yi,t.pool)}function fd(){var e=to();return e===null?null:{parent:Ve._currentValue,pool:e}}var ta=Error(r(460)),hd=Error(r(474)),Hs=Error(r(542)),no={then:function(){}};function dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Is(){}function md(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Is,Is),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e;default:if(typeof t.status=="string")t.then(Is,Is);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e}throw na=t,ta}}var na=null;function pd(){if(na===null)throw Error(r(459));var e=na;return na=null,e}function _d(e){if(e===ta||e===Hs)throw Error(r(483))}var Mn=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Un(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ge&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=ws(e),nd(e,null,i),t}return Ds(e,s,t,i),ws(e)}function ia(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,oh(e,i)}}function ao(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var so=!1;function la(){if(so){var e=el;if(e!==null)throw e}}function aa(e,t,i,s){so=!1;var o=e.updateQueue;Mn=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var E=g,A=E.next;E.next=null,d===null?c=A:d.next=A,d=E;var x=e.alternate;x!==null&&(x=x.updateQueue,g=x.lastBaseUpdate,g!==d&&(g===null?x.firstBaseUpdate=A:g.next=A,x.lastBaseUpdate=E))}if(c!==null){var L=o.baseState;d=0,x=A=E=null,g=c;do{var D=g.lane&-536870913,w=D!==g.lane;if(w?(he&D)===D:(s&D)===D){D!==0&&D===$i&&(so=!0),x!==null&&(x=x.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var $=e,P=g;D=t;var Se=i;switch(P.tag){case 1:if($=P.payload,typeof $=="function"){L=$.call(Se,L,D);break e}L=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=P.payload,D=typeof $=="function"?$.call(Se,L,D):$,D==null)break e;L=y({},L,D);break e;case 2:Mn=!0}}D=g.callback,D!==null&&(e.flags|=64,w&&(e.flags|=8192),w=o.callbacks,w===null?o.callbacks=[D]:w.push(D))}else w={lane:D,tag:g.tag,payload:g.payload,callback:g.callback,next:null},x===null?(A=x=w,E=L):x=x.next=w,d|=D;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;w=g,g=w.next,w.next=null,o.lastBaseUpdate=w,o.shared.pending=null}}while(!0);x===null&&(E=L),o.baseState=E,o.firstBaseUpdate=A,o.lastBaseUpdate=x,c===null&&(o.shared.lanes=0),Yn|=d,e.lanes=d,e.memoizedState=L}}function gd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function yd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)gd(i[e],t)}var tl=H(null),Bs=H(0);function vd(e,t){e=_n,j(Bs,e),j(tl,t),_n=e|t.baseLanes}function ro(){j(Bs,_n),j(tl,tl.current)}function uo(){_n=Bs.current,V(tl),V(Bs)}var Ln=0,le=null,ve=null,Ye=null,ks=!1,nl=!1,vi=!1,qs=0,sa=0,il=null,o0=0;function ke(){throw Error(r(321))}function oo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Tt(e[i],t[i]))return!1;return!0}function co(e,t,i,s,o,c){return Ln=c,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?nm:im,vi=!1,c=i(s,o),vi=!1,nl&&(c=Sd(t,i,s,o)),Ed(e),c}function Ed(e){M.H=Xs;var t=ve!==null&&ve.next!==null;if(Ln=0,Ye=ve=le=null,ks=!1,sa=0,il=null,t)throw Error(r(300));e===null||Fe||(e=e.dependencies,e!==null&&zs(e)&&(Fe=!0))}function Sd(e,t,i,s){le=e;var o=0;do{if(nl&&(il=null),sa=0,nl=!1,25<=o)throw Error(r(301));if(o+=1,Ye=ve=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}M.H=_0,c=t(i,s)}while(nl);return c}function c0(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?ra(t):t,e=e.useState()[0],(ve!==null?ve.memoizedState:null)!==e&&(le.flags|=1024),t}function fo(){var e=qs!==0;return qs=0,e}function ho(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function mo(e){if(ks){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ks=!1}Ln=0,Ye=ve=le=null,nl=!1,sa=qs=0,il=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?le.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Ge(){if(ve===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Ye===null?le.memoizedState:Ye.next;if(t!==null)Ye=t,ve=e;else{if(e===null)throw le.alternate===null?Error(r(467)):Error(r(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Ye===null?le.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function po(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ra(e){var t=sa;return sa+=1,il===null&&(il=[]),e=md(il,e,t),t=le,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?nm:im),e}function js(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ra(e);if(e.$$typeof===Y)return rt(e)}throw Error(r(438,String(e)))}function _o(e){var t=null,i=le.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=le.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=po(),le.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=ct;return t.index++,i}function cn(e,t){return typeof t=="function"?t(e):t}function Ys(e){var t=Ge();return go(t,ve,e)}function go(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var g=d=null,E=null,A=t,x=!1;do{var L=A.lane&-536870913;if(L!==A.lane?(he&L)===L:(Ln&L)===L){var D=A.revertLane;if(D===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),L===$i&&(x=!0);else if((Ln&D)===D){A=A.next,D===$i&&(x=!0);continue}else L={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},E===null?(g=E=L,d=c):E=E.next=L,le.lanes|=D,Yn|=D;L=A.action,vi&&i(c,L),c=A.hasEagerState?A.eagerState:i(c,L)}else D={lane:L,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},E===null?(g=E=D,d=c):E=E.next=D,le.lanes|=L,Yn|=L;A=A.next}while(A!==null&&A!==t);if(E===null?d=c:E.next=g,!Tt(c,e.memoizedState)&&(Fe=!0,x&&(i=el,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=E,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function yo(e){var t=Ge(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);Tt(c,t.memoizedState)||(Fe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,s]}function bd(e,t,i){var s=le,o=Ge(),c=pe;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!Tt((ve||o).memoizedState,i);d&&(o.memoizedState=i,Fe=!0),o=o.queue;var g=Rd.bind(null,s,o,e);if(ua(2048,8,g,[e]),o.getSnapshot!==t||d||Ye!==null&&Ye.memoizedState.tag&1){if(s.flags|=2048,ll(9,Gs(),Td.bind(null,s,o,i,t),null),Re===null)throw Error(r(349));c||(Ln&124)!==0||Cd(s,t,i)}return i}function Cd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=le.updateQueue,t===null?(t=po(),le.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Td(e,t,i,s){t.value=i,t.getSnapshot=s,Ad(t)&&Nd(e)}function Rd(e,t,i){return i(function(){Ad(t)&&Nd(e)})}function Ad(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Tt(e,i)}catch{return!0}}function Nd(e){var t=Zi(e,2);t!==null&&Ot(t,e,2)}function vo(e){var t=mt();if(typeof e=="function"){var i=e;if(e=i(),vi){Dn(!0);try{i()}finally{Dn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},t}function Dd(e,t,i,s){return e.baseState=i,go(e,ve,typeof s=="function"?s:cn)}function f0(e,t,i,s,o){if(Qs(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};M.T!==null?i(!0):c.isTransition=!1,s(c),i=t.pending,i===null?(c.next=t.pending=c,wd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function wd(e,t){var i=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=M.T,d={};M.T=d;try{var g=i(o,s),E=M.S;E!==null&&E(d,g),Od(e,t,g)}catch(A){Eo(e,t,A)}finally{M.T=c}}else try{c=i(o,s),Od(e,t,c)}catch(A){Eo(e,t,A)}}function Od(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){xd(e,t,s)},function(s){return Eo(e,t,s)}):xd(e,t,i)}function xd(e,t,i){t.status="fulfilled",t.value=i,Md(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,wd(e,i)))}function Eo(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Md(t),t=t.next;while(t!==s)}e.action=null}function Md(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zd(e,t){return t}function Ud(e,t){if(pe){var i=Re.formState;if(i!==null){e:{var s=le;if(pe){if(Le){t:{for(var o=Le,c=Pt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Gt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Le=Gt(o.nextSibling),s=o.data==="F!";break e}}pi(s)}s=!1}s&&(t=i[0])}}return i=mt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zd,lastRenderedState:t},i.queue=s,i=$d.bind(null,le,s),s.dispatch=i,s=vo(!1),c=Ro.bind(null,le,!1,s.queue),s=mt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,i=f0.bind(null,le,o,c,i),o.dispatch=i,s.memoizedState=e,[t,i,!1]}function Ld(e){var t=Ge();return Hd(t,ve,e)}function Hd(e,t,i){if(t=go(e,t,zd)[0],e=Ys(cn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ra(t)}catch(d){throw d===ta?Hs:d}else s=t;t=Ge();var o=t.queue,c=o.dispatch;return i!==t.memoizedState&&(le.flags|=2048,ll(9,Gs(),h0.bind(null,o,i),null)),[s,c,e]}function h0(e,t){e.action=t}function Id(e){var t=Ge(),i=ve;if(i!==null)return Hd(t,i,e);Ge(),t=t.memoizedState,i=Ge();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function ll(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=le.updateQueue,t===null&&(t=po(),le.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Gs(){return{destroy:void 0,resource:void 0}}function Bd(){return Ge().memoizedState}function Vs(e,t,i,s){var o=mt();s=s===void 0?null:s,le.flags|=e,o.memoizedState=ll(1|t,Gs(),i,s)}function ua(e,t,i,s){var o=Ge();s=s===void 0?null:s;var c=o.memoizedState.inst;ve!==null&&s!==null&&oo(s,ve.memoizedState.deps)?o.memoizedState=ll(t,c,i,s):(le.flags|=e,o.memoizedState=ll(1|t,c,i,s))}function kd(e,t){Vs(8390656,8,e,t)}function qd(e,t){ua(2048,8,e,t)}function jd(e,t){return ua(4,2,e,t)}function Yd(e,t){return ua(4,4,e,t)}function Gd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vd(e,t,i){i=i!=null?i.concat([e]):null,ua(4,4,Gd.bind(null,t,e),i)}function So(){}function Qd(e,t){var i=Ge();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&oo(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Xd(e,t){var i=Ge();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&oo(t,s[1]))return s[0];if(s=e(),vi){Dn(!0);try{e()}finally{Dn(!1)}}return i.memoizedState=[s,t],s}function bo(e,t,i){return i===void 0||(Ln&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Zm(),le.lanes|=e,Yn|=e,i)}function Kd(e,t,i,s){return Tt(i,t)?i:tl.current!==null?(e=bo(e,i,s),Tt(e,t)||(Fe=!0),e):(Ln&42)===0?(Fe=!0,e.memoizedState=i):(e=Zm(),le.lanes|=e,Yn|=e,t)}function Fd(e,t,i,s,o){var c=G.p;G.p=c!==0&&8>c?c:8;var d=M.T,g={};M.T=g,Ro(e,!1,t,i);try{var E=o(),A=M.S;if(A!==null&&A(g,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var x=u0(E,s);oa(e,t,x,wt(e))}else oa(e,t,s,wt(e))}catch(L){oa(e,t,{then:function(){},status:"rejected",reason:L},wt())}finally{G.p=c,M.T=d}}function d0(){}function Co(e,t,i,s){if(e.tag!==5)throw Error(r(476));var o=Zd(e).queue;Fd(e,o,t,J,i===null?d0:function(){return Pd(e),i(s)})}function Zd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:J},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pd(e){var t=Zd(e).next.queue;oa(e,t,{},wt())}function To(){return rt(Na)}function Wd(){return Ge().memoizedState}function Jd(){return Ge().memoizedState}function m0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=wt();e=zn(i);var s=Un(t,e,i);s!==null&&(Ot(s,t,i),ia(s,t,i)),t={cache:$u()},e.payload=t;return}t=t.return}}function p0(e,t,i){var s=wt();i={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Qs(e)?em(t,i):(i=Gu(e,t,i,s),i!==null&&(Ot(i,e,s),tm(i,t,s)))}function $d(e,t,i){var s=wt();oa(e,t,i,s)}function oa(e,t,i,s){var o={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))em(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,g=c(d,i);if(o.hasEagerState=!0,o.eagerState=g,Tt(g,d))return Ds(e,t,o,0),Re===null&&Ns(),!1}catch{}finally{}if(i=Gu(e,t,o,s),i!==null)return Ot(i,e,s),tm(i,t,s),!0}return!1}function Ro(e,t,i,s){if(s={lane:2,revertLane:ic(),action:s,hasEagerState:!1,eagerState:null,next:null},Qs(e)){if(t)throw Error(r(479))}else t=Gu(e,i,s,2),t!==null&&Ot(t,e,2)}function Qs(e){var t=e.alternate;return e===le||t!==null&&t===le}function em(e,t){nl=ks=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function tm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,oh(e,i)}}var Xs={readContext:rt,use:js,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke},nm={readContext:rt,use:js,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:kd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Vs(4194308,4,Gd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){Vs(4,2,e,t)},useMemo:function(e,t){var i=mt();t=t===void 0?null:t;var s=e();if(vi){Dn(!0);try{e()}finally{Dn(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=mt();if(i!==void 0){var o=i(t);if(vi){Dn(!0);try{i(t)}finally{Dn(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=p0.bind(null,le,e),[s.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=vo(e);var t=e.queue,i=$d.bind(null,le,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:So,useDeferredValue:function(e,t){var i=mt();return bo(i,e,t)},useTransition:function(){var e=vo(!1);return e=Fd.bind(null,le,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=le,o=mt();if(pe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Re===null)throw Error(r(349));(he&124)!==0||Cd(s,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,kd(Rd.bind(null,s,c,e),[e]),s.flags|=2048,ll(9,Gs(),Td.bind(null,s,c,i,t),null),i},useId:function(){var e=mt(),t=Re.identifierPrefix;if(pe){var i=rn,s=sn;i=(s&~(1<<32-Ct(s)-1)).toString(32)+i,t=""+t+"R"+i,i=qs++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=o0++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:To,useFormState:Ud,useActionState:Ud,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ro.bind(null,le,!0,i),i.dispatch=t,[e,t]},useMemoCache:_o,useCacheRefresh:function(){return mt().memoizedState=m0.bind(null,le)}},im={readContext:rt,use:js,useCallback:Qd,useContext:rt,useEffect:qd,useImperativeHandle:Vd,useInsertionEffect:jd,useLayoutEffect:Yd,useMemo:Xd,useReducer:Ys,useRef:Bd,useState:function(){return Ys(cn)},useDebugValue:So,useDeferredValue:function(e,t){var i=Ge();return Kd(i,ve.memoizedState,e,t)},useTransition:function(){var e=Ys(cn)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:ra(e),t]},useSyncExternalStore:bd,useId:Wd,useHostTransitionStatus:To,useFormState:Ld,useActionState:Ld,useOptimistic:function(e,t){var i=Ge();return Dd(i,ve,e,t)},useMemoCache:_o,useCacheRefresh:Jd},_0={readContext:rt,use:js,useCallback:Qd,useContext:rt,useEffect:qd,useImperativeHandle:Vd,useInsertionEffect:jd,useLayoutEffect:Yd,useMemo:Xd,useReducer:yo,useRef:Bd,useState:function(){return yo(cn)},useDebugValue:So,useDeferredValue:function(e,t){var i=Ge();return ve===null?bo(i,e,t):Kd(i,ve.memoizedState,e,t)},useTransition:function(){var e=yo(cn)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:ra(e),t]},useSyncExternalStore:bd,useId:Wd,useHostTransitionStatus:To,useFormState:Id,useActionState:Id,useOptimistic:function(e,t){var i=Ge();return ve!==null?Dd(i,ve,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:_o,useCacheRefresh:Jd},al=null,ca=0;function Ks(e){var t=ca;return ca+=1,al===null&&(al=[]),md(al,e,t)}function fa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fs(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function lm(e){var t=e._init;return t(e._payload)}function am(e){function t(T,C){if(e){var R=T.deletions;R===null?(T.deletions=[C],T.flags|=16):R.push(C)}}function i(T,C){if(!e)return null;for(;C!==null;)t(T,C),C=C.sibling;return null}function s(T){for(var C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function o(T,C){return T=an(T,C),T.index=0,T.sibling=null,T}function c(T,C,R){return T.index=R,e?(R=T.alternate,R!==null?(R=R.index,R<C?(T.flags|=67108866,C):R):(T.flags|=67108866,C)):(T.flags|=1048576,C)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function g(T,C,R,z){return C===null||C.tag!==6?(C=Qu(R,T.mode,z),C.return=T,C):(C=o(C,R),C.return=T,C)}function E(T,C,R,z){var X=R.type;return X===N?x(T,C,R.props.children,z,R.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Be&&lm(X)===C.type)?(C=o(C,R.props),fa(C,R),C.return=T,C):(C=Os(R.type,R.key,R.props,null,T.mode,z),fa(C,R),C.return=T,C)}function A(T,C,R,z){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=Xu(R,T.mode,z),C.return=T,C):(C=o(C,R.children||[]),C.return=T,C)}function x(T,C,R,z,X){return C===null||C.tag!==7?(C=fi(R,T.mode,z,X),C.return=T,C):(C=o(C,R),C.return=T,C)}function L(T,C,R){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Qu(""+C,T.mode,R),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return R=Os(C.type,C.key,C.props,null,T.mode,R),fa(R,C),R.return=T,R;case O:return C=Xu(C,T.mode,R),C.return=T,C;case Be:var z=C._init;return C=z(C._payload),L(T,C,R)}if(at(C)||lt(C))return C=fi(C,T.mode,R,null),C.return=T,C;if(typeof C.then=="function")return L(T,Ks(C),R);if(C.$$typeof===Y)return L(T,Us(T,C),R);Fs(T,C)}return null}function D(T,C,R,z){var X=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return X!==null?null:g(T,C,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return R.key===X?E(T,C,R,z):null;case O:return R.key===X?A(T,C,R,z):null;case Be:return X=R._init,R=X(R._payload),D(T,C,R,z)}if(at(R)||lt(R))return X!==null?null:x(T,C,R,z,null);if(typeof R.then=="function")return D(T,C,Ks(R),z);if(R.$$typeof===Y)return D(T,C,Us(T,R),z);Fs(T,R)}return null}function w(T,C,R,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return T=T.get(R)||null,g(C,T,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return T=T.get(z.key===null?R:z.key)||null,E(C,T,z,X);case O:return T=T.get(z.key===null?R:z.key)||null,A(C,T,z,X);case Be:var ae=z._init;return z=ae(z._payload),w(T,C,R,z,X)}if(at(z)||lt(z))return T=T.get(R)||null,x(C,T,z,X,null);if(typeof z.then=="function")return w(T,C,R,Ks(z),X);if(z.$$typeof===Y)return w(T,C,R,Us(C,z),X);Fs(C,z)}return null}function $(T,C,R,z){for(var X=null,ae=null,K=C,W=C=0,Pe=null;K!==null&&W<R.length;W++){K.index>W?(Pe=K,K=null):Pe=K.sibling;var me=D(T,K,R[W],z);if(me===null){K===null&&(K=Pe);break}e&&K&&me.alternate===null&&t(T,K),C=c(me,C,W),ae===null?X=me:ae.sibling=me,ae=me,K=Pe}if(W===R.length)return i(T,K),pe&&di(T,W),X;if(K===null){for(;W<R.length;W++)K=L(T,R[W],z),K!==null&&(C=c(K,C,W),ae===null?X=K:ae.sibling=K,ae=K);return pe&&di(T,W),X}for(K=s(K);W<R.length;W++)Pe=w(K,T,W,R[W],z),Pe!==null&&(e&&Pe.alternate!==null&&K.delete(Pe.key===null?W:Pe.key),C=c(Pe,C,W),ae===null?X=Pe:ae.sibling=Pe,ae=Pe);return e&&K.forEach(function(Wn){return t(T,Wn)}),pe&&di(T,W),X}function P(T,C,R,z){if(R==null)throw Error(r(151));for(var X=null,ae=null,K=C,W=C=0,Pe=null,me=R.next();K!==null&&!me.done;W++,me=R.next()){K.index>W?(Pe=K,K=null):Pe=K.sibling;var Wn=D(T,K,me.value,z);if(Wn===null){K===null&&(K=Pe);break}e&&K&&Wn.alternate===null&&t(T,K),C=c(Wn,C,W),ae===null?X=Wn:ae.sibling=Wn,ae=Wn,K=Pe}if(me.done)return i(T,K),pe&&di(T,W),X;if(K===null){for(;!me.done;W++,me=R.next())me=L(T,me.value,z),me!==null&&(C=c(me,C,W),ae===null?X=me:ae.sibling=me,ae=me);return pe&&di(T,W),X}for(K=s(K);!me.done;W++,me=R.next())me=w(K,T,W,me.value,z),me!==null&&(e&&me.alternate!==null&&K.delete(me.key===null?W:me.key),C=c(me,C,W),ae===null?X=me:ae.sibling=me,ae=me);return e&&K.forEach(function(gE){return t(T,gE)}),pe&&di(T,W),X}function Se(T,C,R,z){if(typeof R=="object"&&R!==null&&R.type===N&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case S:e:{for(var X=R.key;C!==null;){if(C.key===X){if(X=R.type,X===N){if(C.tag===7){i(T,C.sibling),z=o(C,R.props.children),z.return=T,T=z;break e}}else if(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Be&&lm(X)===C.type){i(T,C.sibling),z=o(C,R.props),fa(z,R),z.return=T,T=z;break e}i(T,C);break}else t(T,C);C=C.sibling}R.type===N?(z=fi(R.props.children,T.mode,z,R.key),z.return=T,T=z):(z=Os(R.type,R.key,R.props,null,T.mode,z),fa(z,R),z.return=T,T=z)}return d(T);case O:e:{for(X=R.key;C!==null;){if(C.key===X)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){i(T,C.sibling),z=o(C,R.children||[]),z.return=T,T=z;break e}else{i(T,C);break}else t(T,C);C=C.sibling}z=Xu(R,T.mode,z),z.return=T,T=z}return d(T);case Be:return X=R._init,R=X(R._payload),Se(T,C,R,z)}if(at(R))return $(T,C,R,z);if(lt(R)){if(X=lt(R),typeof X!="function")throw Error(r(150));return R=X.call(R),P(T,C,R,z)}if(typeof R.then=="function")return Se(T,C,Ks(R),z);if(R.$$typeof===Y)return Se(T,C,Us(T,R),z);Fs(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,C!==null&&C.tag===6?(i(T,C.sibling),z=o(C,R),z.return=T,T=z):(i(T,C),z=Qu(R,T.mode,z),z.return=T,T=z),d(T)):i(T,C)}return function(T,C,R,z){try{ca=0;var X=Se(T,C,R,z);return al=null,X}catch(K){if(K===ta||K===Hs)throw K;var ae=Rt(29,K,null,T.mode);return ae.lanes=z,ae.return=T,ae}finally{}}}var sl=am(!0),sm=am(!1),Bt=H(null),Wt=null;function Hn(e){var t=e.alternate;j(Qe,Qe.current&1),j(Bt,e),Wt===null&&(t===null||tl.current!==null||t.memoizedState!==null)&&(Wt=e)}function rm(e){if(e.tag===22){if(j(Qe,Qe.current),j(Bt,e),Wt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Wt=e)}}else In()}function In(){j(Qe,Qe.current),j(Bt,Bt.current)}function fn(e){V(Bt),Wt===e&&(Wt=null),V(Qe)}var Qe=H(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||pc(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ao(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:y({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var No={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=wt(),o=zn(s);o.payload=t,i!=null&&(o.callback=i),t=Un(e,o,s),t!==null&&(Ot(t,e,s),ia(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=wt(),o=zn(s);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Un(e,o,s),t!==null&&(Ot(t,e,s),ia(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=wt(),s=zn(i);s.tag=2,t!=null&&(s.callback=t),t=Un(e,s,i),t!==null&&(Ot(t,e,i),ia(t,e,i))}};function um(e,t,i,s,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,d):t.prototype&&t.prototype.isPureReactComponent?!Kl(i,s)||!Kl(o,c):!0}function om(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function Ei(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=y({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}var Ps=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cm(e){Ps(e)}function fm(e){console.error(e)}function hm(e){Ps(e)}function Ws(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function dm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Do(e,t,i){return i=zn(i),i.tag=3,i.payload={element:null},i.callback=function(){Ws(e,t)},i}function mm(e){return e=zn(e),e.tag=3,e}function pm(e,t,i,s){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){dm(t,i,s)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){dm(t,i,s),typeof o!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var g=s.stack;this.componentDidCatch(s.value,{componentStack:g!==null?g:""})})}function g0(e,t,i,s,o){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Jl(t,i,o,!0),i=Bt.current,i!==null){switch(i.tag){case 13:return Wt===null?Jo():i.alternate===null&&He===0&&(He=3),i.flags&=-257,i.flags|=65536,i.lanes=o,s===no?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),ec(e,s,o)),!1;case 22:return i.flags|=65536,s===no?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),ec(e,s,o)),!1}throw Error(r(435,i.tag))}return ec(e,s,o),Jo(),!1}if(pe)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Zu&&(e=Error(r(422),{cause:s}),Wl(Ut(e,i)))):(s!==Zu&&(t=Error(r(423),{cause:s}),Wl(Ut(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Ut(s,i),o=Do(e.stateNode,s,o),ao(e,o),He!==4&&(He=2)),!1;var c=Error(r(520),{cause:s});if(c=Ut(c,i),ya===null?ya=[c]:ya.push(c),He!==4&&(He=2),t===null)return!0;s=Ut(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Do(i.stateNode,s,e),ao(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Gn===null||!Gn.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=mm(o),pm(o,e,i,s),ao(i,o),!1}i=i.return}while(i!==null);return!1}var _m=Error(r(461)),Fe=!1;function et(e,t,i,s){t.child=e===null?sm(t,null,i,s):sl(t,e.child,i,s)}function gm(e,t,i,s,o){i=i.render;var c=t.ref;if("ref"in s){var d={};for(var g in s)g!=="ref"&&(d[g]=s[g])}else d=s;return gi(t),s=co(e,t,i,d,c,o),g=fo(),e!==null&&!Fe?(ho(e,t,o),hn(e,t,o)):(pe&&g&&Ku(t),t.flags|=1,et(e,t,s,o),t.child)}function ym(e,t,i,s,o){if(e===null){var c=i.type;return typeof c=="function"&&!Vu(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,vm(e,t,c,s,o)):(e=Os(i.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Ho(e,o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Kl,i(d,s)&&e.ref===t.ref)return hn(e,t,o)}return t.flags|=1,e=an(c,s),e.ref=t.ref,e.return=t,t.child=e}function vm(e,t,i,s,o){if(e!==null){var c=e.memoizedProps;if(Kl(c,s)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=s=c,Ho(e,o))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,hn(e,t,o)}return wo(e,t,i,s,o)}function Em(e,t,i){var s=t.pendingProps,o=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=c!==null?c.baseLanes|i:i,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;t.childLanes=c&~s}else t.childLanes=0,t.child=null;return Sm(e,t,s,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ls(t,c!==null?c.cachePool:null),c!==null?vd(t,c):ro(),rm(t);else return t.lanes=t.childLanes=536870912,Sm(e,t,c!==null?c.baseLanes|i:i,i)}else c!==null?(Ls(t,c.cachePool),vd(t,c),In(),t.memoizedState=null):(e!==null&&Ls(t,null),ro(),In());return et(e,t,o,i),t.child}function Sm(e,t,i,s){var o=to();return o=o===null?null:{parent:Ve._currentValue,pool:o},t.memoizedState={baseLanes:i,cachePool:o},e!==null&&Ls(t,null),ro(),rm(t),e!==null&&Jl(e,t,s,!0),null}function Js(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function wo(e,t,i,s,o){return gi(t),i=co(e,t,i,s,void 0,o),s=fo(),e!==null&&!Fe?(ho(e,t,o),hn(e,t,o)):(pe&&s&&Ku(t),t.flags|=1,et(e,t,i,o),t.child)}function bm(e,t,i,s,o,c){return gi(t),t.updateQueue=null,i=Sd(t,s,i,o),Ed(e),s=fo(),e!==null&&!Fe?(ho(e,t,c),hn(e,t,c)):(pe&&s&&Ku(t),t.flags|=1,et(e,t,i,c),t.child)}function Cm(e,t,i,s,o){if(gi(t),t.stateNode===null){var c=Pi,d=i.contextType;typeof d=="object"&&d!==null&&(c=rt(d)),c=new i(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=No,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},io(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?rt(d):Pi,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Ao(t,i,d,s),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&No.enqueueReplaceState(c,c.state,null),aa(t,s,c,o),la(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,E=Ei(i,g);c.props=E;var A=c.context,x=i.contextType;d=Pi,typeof x=="object"&&x!==null&&(d=rt(x));var L=i.getDerivedStateFromProps;x=typeof L=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||A!==d)&&om(t,c,s,d),Mn=!1;var D=t.memoizedState;c.state=D,aa(t,s,c,o),la(),A=t.memoizedState,g||D!==A||Mn?(typeof L=="function"&&(Ao(t,i,L,s),A=t.memoizedState),(E=Mn||um(t,i,E,s,D,A,d))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),c.props=s,c.state=A,c.context=d,s=E):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,lo(e,t),d=t.memoizedProps,x=Ei(i,d),c.props=x,L=t.pendingProps,D=c.context,A=i.contextType,E=Pi,typeof A=="object"&&A!==null&&(E=rt(A)),g=i.getDerivedStateFromProps,(A=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==L||D!==E)&&om(t,c,s,E),Mn=!1,D=t.memoizedState,c.state=D,aa(t,s,c,o),la();var w=t.memoizedState;d!==L||D!==w||Mn||e!==null&&e.dependencies!==null&&zs(e.dependencies)?(typeof g=="function"&&(Ao(t,i,g,s),w=t.memoizedState),(x=Mn||um(t,i,x,s,D,w,E)||e!==null&&e.dependencies!==null&&zs(e.dependencies))?(A||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,w,E),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,w,E)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=w),c.props=s,c.state=w,c.context=E,s=x):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,Js(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=sl(t,e.child,null,o),t.child=sl(t,null,i,o)):et(e,t,i,o),t.memoizedState=c.state,e=t.child):e=hn(e,t,o),e}function Tm(e,t,i,s){return Pl(),t.flags|=256,et(e,t,i,s),t.child}var Oo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xo(e){return{baseLanes:e,cachePool:fd()}}function Mo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=kt),e}function Rm(e,t,i){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(pe){if(o?Hn(t):In(),pe){var g=Le,E;if(E=g){e:{for(E=g,g=Pt;E.nodeType!==8;){if(!g){g=null;break e}if(E=Gt(E.nextSibling),E===null){g=null;break e}}g=E}g!==null?(t.memoizedState={dehydrated:g,treeContext:hi!==null?{id:sn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},E=Rt(18,null,null,0),E.stateNode=g,E.return=t,t.child=E,ft=t,Le=null,E=!0):E=!1}E||pi(t)}if(g=t.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return pc(g)?t.lanes=32:t.lanes=536870912,null;fn(t)}return g=s.children,s=s.fallback,o?(In(),o=t.mode,g=$s({mode:"hidden",children:g},o),s=fi(s,o,i,null),g.return=t,s.return=t,g.sibling=s,t.child=g,o=t.child,o.memoizedState=xo(i),o.childLanes=Mo(e,d,i),t.memoizedState=Oo,s):(Hn(t),zo(t,g))}if(E=e.memoizedState,E!==null&&(g=E.dehydrated,g!==null)){if(c)t.flags&256?(Hn(t),t.flags&=-257,t=Uo(e,t,i)):t.memoizedState!==null?(In(),t.child=e.child,t.flags|=128,t=null):(In(),o=s.fallback,g=t.mode,s=$s({mode:"visible",children:s.children},g),o=fi(o,g,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,sl(t,e.child,null,i),s=t.child,s.memoizedState=xo(i),s.childLanes=Mo(e,d,i),t.memoizedState=Oo,t=o);else if(Hn(t),pc(g)){if(d=g.nextSibling&&g.nextSibling.dataset,d)var A=d.dgst;d=A,s=Error(r(419)),s.stack="",s.digest=d,Wl({value:s,source:null,stack:null}),t=Uo(e,t,i)}else if(Fe||Jl(e,t,i,!1),d=(i&e.childLanes)!==0,Fe||d){if(d=Re,d!==null&&(s=i&-i,s=(s&42)!==0?1:pu(s),s=(s&(d.suspendedLanes|i))!==0?0:s,s!==0&&s!==E.retryLane))throw E.retryLane=s,Zi(e,s),Ot(d,e,s),_m;g.data==="$?"||Jo(),t=Uo(e,t,i)}else g.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Le=Gt(g.nextSibling),ft=t,pe=!0,mi=null,Pt=!1,e!==null&&(Ht[It++]=sn,Ht[It++]=rn,Ht[It++]=hi,sn=e.id,rn=e.overflow,hi=t),t=zo(t,s.children),t.flags|=4096);return t}return o?(In(),o=s.fallback,g=t.mode,E=e.child,A=E.sibling,s=an(E,{mode:"hidden",children:s.children}),s.subtreeFlags=E.subtreeFlags&65011712,A!==null?o=an(A,o):(o=fi(o,g,i,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,g=e.child.memoizedState,g===null?g=xo(i):(E=g.cachePool,E!==null?(A=Ve._currentValue,E=E.parent!==A?{parent:A,pool:A}:E):E=fd(),g={baseLanes:g.baseLanes|i,cachePool:E}),o.memoizedState=g,o.childLanes=Mo(e,d,i),t.memoizedState=Oo,s):(Hn(t),i=e.child,e=i.sibling,i=an(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function zo(e,t){return t=$s({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $s(e,t){return e=Rt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Uo(e,t,i){return sl(t,e.child,null,i),e=zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Am(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Wu(e.return,t,i)}function Lo(e,t,i,s,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=i,c.tailMode=o)}function Nm(e,t,i){var s=t.pendingProps,o=s.revealOrder,c=s.tail;if(et(e,t,s.children,i),s=Qe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Am(e,i,t);else if(e.tag===19)Am(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(j(Qe,s),o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Zs(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Lo(t,!1,o,i,c);break;case"backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Zs(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Lo(t,!0,i,null,c);break;case"together":Lo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Jl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=an(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=an(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ho(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&zs(e)))}function y0(e,t,i){switch(t.tag){case 3:Oe(t,t.stateNode.containerInfo),xn(t,Ve,e.memoizedState.cache),Pl();break;case 27:case 5:cu(t);break;case 4:Oe(t,t.stateNode.containerInfo);break;case 10:xn(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Hn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Rm(e,t,i):(Hn(t),e=hn(e,t,i),e!==null?e.sibling:null);Hn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Jl(e,t,i,!1),s=(i&t.childLanes)!==0),o){if(s)return Nm(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),j(Qe,Qe.current),s)break;return null;case 22:case 23:return t.lanes=0,Em(e,t,i);case 24:xn(t,Ve,e.memoizedState.cache)}return hn(e,t,i)}function Dm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!Ho(e,i)&&(t.flags&128)===0)return Fe=!1,y0(e,t,i);Fe=(e.flags&131072)!==0}else Fe=!1,pe&&(t.flags&1048576)!==0&&ld(t,Ms,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,o=s._init;if(s=o(s._payload),t.type=s,typeof s=="function")Vu(s)?(e=Ei(s,e),t.tag=1,t=Cm(null,t,s,e,i)):(t.tag=0,t=wo(null,t,s,e,i));else{if(s!=null){if(o=s.$$typeof,o===fe){t.tag=11,t=gm(null,t,s,e,i);break e}else if(o===Ue){t.tag=14,t=ym(null,t,s,e,i);break e}}throw t=ai(s)||s,Error(r(306,t,""))}}return t;case 0:return wo(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,o=Ei(s,t.pendingProps),Cm(e,t,s,o,i);case 3:e:{if(Oe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,lo(e,t),aa(t,s,null,i);var d=t.memoizedState;if(s=d.cache,xn(t,Ve,s),s!==c.cache&&Ju(t,[Ve],i,!0),la(),s=d.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Tm(e,t,s,i);break e}else if(s!==o){o=Ut(Error(r(424)),t),Wl(o),t=Tm(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Gt(e.firstChild),ft=t,pe=!0,mi=null,Pt=!0,i=sm(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Pl(),s===o){t=hn(e,t,i);break e}et(e,t,s,i)}t=t.child}return t;case 26:return Js(e,t),e===null?(i=Mp(t.type,null,t.pendingProps,null))?t.memoizedState=i:pe||(i=t.type,e=t.pendingProps,s=dr(ne.current).createElement(i),s[st]=t,s[ht]=e,nt(s,i,e),Ke(s),t.stateNode=s):t.memoizedState=Mp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return cu(t),e===null&&pe&&(s=t.stateNode=wp(t.type,t.pendingProps,ne.current),ft=t,Pt=!0,o=Le,Xn(t.type)?(_c=o,Le=Gt(s.firstChild)):Le=o),et(e,t,t.pendingProps.children,i),Js(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pe&&((o=s=Le)&&(s=X0(s,t.type,t.pendingProps,Pt),s!==null?(t.stateNode=s,ft=t,Le=Gt(s.firstChild),Pt=!1,o=!0):o=!1),o||pi(t)),cu(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,s=c.children,hc(o,c)?s=null:d!==null&&hc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=co(e,t,c0,null,null,i),Na._currentValue=o),Js(e,t),et(e,t,s,i),t.child;case 6:return e===null&&pe&&((e=i=Le)&&(i=K0(i,t.pendingProps,Pt),i!==null?(t.stateNode=i,ft=t,Le=null,e=!0):e=!1),e||pi(t)),null;case 13:return Rm(e,t,i);case 4:return Oe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=sl(t,null,s,i):et(e,t,s,i),t.child;case 11:return gm(e,t,t.type,t.pendingProps,i);case 7:return et(e,t,t.pendingProps,i),t.child;case 8:return et(e,t,t.pendingProps.children,i),t.child;case 12:return et(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,xn(t,t.type,s.value),et(e,t,s.children,i),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,gi(t),o=rt(o),s=s(o),t.flags|=1,et(e,t,s,i),t.child;case 14:return ym(e,t,t.type,t.pendingProps,i);case 15:return vm(e,t,t.type,t.pendingProps,i);case 19:return Nm(e,t,i);case 31:return s=t.pendingProps,i=t.mode,s={mode:s.mode,children:s.children},e===null?(i=$s(s,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=an(e.child,s),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return Em(e,t,i);case 24:return gi(t),s=rt(Ve),e===null?(o=to(),o===null&&(o=Re,c=$u(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:s,cache:o},io(t),xn(t,Ve,o)):((e.lanes&i)!==0&&(lo(e,t),aa(t,null,null,i),la()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),xn(t,Ve,s)):(s=c.cache,xn(t,Ve,s),s!==o.cache&&Ju(t,[Ve],i,!0))),et(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function dn(e){e.flags|=4}function wm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ip(t)){if(t=Bt.current,t!==null&&((he&4194048)===he?Wt!==null:(he&62914560)!==he&&(he&536870912)===0||t!==Wt))throw na=no,hd;e.flags|=8192}}function er(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rh():536870912,e.lanes|=t,cl|=t)}function ha(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function v0(e,t,i){var s=t.pendingProps;switch(Fu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),on(Ve),Nn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Zl(t)?dn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rd())),Me(t),null;case 26:return i=t.memoizedState,e===null?(dn(t),i!==null?(Me(t),wm(t,i)):(Me(t),t.flags&=-16777217)):i?i!==e.memoizedState?(dn(t),Me(t),wm(t,i)):(Me(t),t.flags&=-16777217):(e.memoizedProps!==s&&dn(t),Me(t),t.flags&=-16777217),null;case 27:fs(t),i=ne.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&dn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Me(t),null}e=Z.current,Zl(t)?ad(t):(e=wp(o,s,i),t.stateNode=e,dn(t))}return Me(t),null;case 5:if(fs(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&dn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Me(t),null}if(e=Z.current,Zl(t))ad(t);else{switch(o=dr(ne.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?o.createElement(i,{is:s.is}):o.createElement(i)}}e[st]=t,e[ht]=s;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(nt(e,i,s),i){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&dn(t)}}return Me(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&dn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=ne.current,Zl(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,o=ft,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[st]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||bp(e.nodeValue,i)),e||pi(t)}else e=dr(e).createTextNode(s),e[st]=t,t.stateNode=e}return Me(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Zl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[st]=t}else Pl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),o=!1}else o=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(fn(t),t):(fn(t),null)}if(fn(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=s!==null,e=e!==null&&e.memoizedState!==null,i){s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool);var c=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),er(t,t.updateQueue),Me(t),null;case 4:return Nn(),e===null&&rc(t.stateNode.containerInfo),Me(t),null;case 10:return on(t.type),Me(t),null;case 19:if(V(Qe),o=t.memoizedState,o===null)return Me(t),null;if(s=(t.flags&128)!==0,c=o.rendering,c===null)if(s)ha(o,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Zs(e),c!==null){for(t.flags|=128,ha(o,!1),e=c.updateQueue,t.updateQueue=e,er(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)id(i,e),i=i.sibling;return j(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Zt()>ir&&(t.flags|=128,s=!0,ha(o,!1),t.lanes=4194304)}else{if(!s)if(e=Zs(c),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,er(t,e),ha(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!pe)return Me(t),null}else 2*Zt()-o.renderingStartTime>ir&&i!==536870912&&(t.flags|=128,s=!0,ha(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(e=o.last,e!==null?e.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,e=Qe.current,j(Qe,s?e&1|2:e&1),t):(Me(t),null);case 22:case 23:return fn(t),uo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),i=t.updateQueue,i!==null&&er(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&V(yi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),on(Ve),Me(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function E0(e,t){switch(Fu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return on(Ve),Nn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fs(t),null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Qe),null;case 4:return Nn(),null;case 10:return on(t.type),null;case 22:case 23:return fn(t),uo(),e!==null&&V(yi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return on(Ve),null;case 25:return null;default:return null}}function Om(e,t){switch(Fu(t),t.tag){case 3:on(Ve),Nn();break;case 26:case 27:case 5:fs(t);break;case 4:Nn();break;case 13:fn(t);break;case 19:V(Qe);break;case 10:on(t.type);break;case 22:case 23:fn(t),uo(),e!==null&&V(yi);break;case 24:on(Ve)}}function da(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&e)===e){s=void 0;var c=i.create,d=i.inst;s=c(),d.destroy=s}i=i.next}while(i!==o)}}catch(g){Ce(t,t.return,g)}}function Bn(e,t,i){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var d=s.inst,g=d.destroy;if(g!==void 0){d.destroy=void 0,o=t;var E=i,A=g;try{A()}catch(x){Ce(o,E,x)}}}s=s.next}while(s!==c)}}catch(x){Ce(t,t.return,x)}}function xm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{yd(t,i)}catch(s){Ce(e,e.return,s)}}}function Mm(e,t,i){i.props=Ei(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ce(e,t,s)}}function ma(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(o){Ce(e,t,o)}}function Jt(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(o){Ce(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Ce(e,t,o)}else i.current=null}function zm(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(o){Ce(e,e.return,o)}}function Io(e,t,i){try{var s=e.stateNode;j0(s,e.type,i,t),s[ht]=t}catch(o){Ce(e,e.return,o)}}function Um(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xn(e.type)||e.tag===4}function Bo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Um(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ko(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=hr));else if(s!==4&&(s===27&&Xn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(ko(e,t,i),e=e.sibling;e!==null;)ko(e,t,i),e=e.sibling}function tr(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Xn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(tr(e,t,i),e=e.sibling;e!==null;)tr(e,t,i),e=e.sibling}function Lm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);nt(t,s,i),t[st]=e,t[ht]=i}catch(c){Ce(e,e.return,c)}}var mn=!1,qe=!1,qo=!1,Hm=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function S0(e,t){if(e=e.containerInfo,cc=vr,e=Kh(e),Iu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,g=-1,E=-1,A=0,x=0,L=e,D=null;t:for(;;){for(var w;L!==i||o!==0&&L.nodeType!==3||(g=d+o),L!==c||s!==0&&L.nodeType!==3||(E=d+s),L.nodeType===3&&(d+=L.nodeValue.length),(w=L.firstChild)!==null;)D=L,L=w;for(;;){if(L===e)break t;if(D===i&&++A===o&&(g=d),D===c&&++x===s&&(E=d),(w=L.nextSibling)!==null)break;L=D,D=L.parentNode}L=w}i=g===-1||E===-1?null:{start:g,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(fc={focusedElem:e,selectionRange:i},vr=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,s=i.stateNode;try{var $=Ei(i.type,o,i.elementType===i.type);e=s.getSnapshotBeforeUpdate($,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(P){Ce(i,i.return,P)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)mc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Im(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:kn(e,i),s&4&&da(5,i);break;case 1:if(kn(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Ce(i,i.return,d)}else{var o=Ei(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ce(i,i.return,d)}}s&64&&xm(i),s&512&&ma(i,i.return);break;case 3:if(kn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{yd(e,t)}catch(d){Ce(i,i.return,d)}}break;case 27:t===null&&s&4&&Lm(i);case 26:case 5:kn(e,i),t===null&&s&4&&zm(i),s&512&&ma(i,i.return);break;case 12:kn(e,i);break;case 13:kn(e,i),s&4&&qm(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=O0.bind(null,i),F0(e,i))));break;case 22:if(s=i.memoizedState!==null||mn,!s){t=t!==null&&t.memoizedState!==null||qe,o=mn;var c=qe;mn=s,(qe=t)&&!c?qn(e,i,(i.subtreeFlags&8772)!==0):kn(e,i),mn=o,qe=c}break;case 30:break;default:kn(e,i)}}function Bm(e){var t=e.alternate;t!==null&&(e.alternate=null,Bm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&yu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xe=null,pt=!1;function pn(e,t,i){for(i=i.child;i!==null;)km(e,t,i),i=i.sibling}function km(e,t,i){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ll,i)}catch{}switch(i.tag){case 26:qe||Jt(i,t),pn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:qe||Jt(i,t);var s=xe,o=pt;Xn(i.type)&&(xe=i.stateNode,pt=!1),pn(e,t,i),Ca(i.stateNode),xe=s,pt=o;break;case 5:qe||Jt(i,t);case 6:if(s=xe,o=pt,xe=null,pn(e,t,i),xe=s,pt=o,xe!==null)if(pt)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(i.stateNode)}catch(c){Ce(i,t,c)}else try{xe.removeChild(i.stateNode)}catch(c){Ce(i,t,c)}break;case 18:xe!==null&&(pt?(e=xe,Np(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),xa(e)):Np(xe,i.stateNode));break;case 4:s=xe,o=pt,xe=i.stateNode.containerInfo,pt=!0,pn(e,t,i),xe=s,pt=o;break;case 0:case 11:case 14:case 15:qe||Bn(2,i,t),qe||Bn(4,i,t),pn(e,t,i);break;case 1:qe||(Jt(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Mm(i,t,s)),pn(e,t,i);break;case 21:pn(e,t,i);break;case 22:qe=(s=qe)||i.memoizedState!==null,pn(e,t,i),qe=s;break;default:pn(e,t,i)}}function qm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xa(e)}catch(i){Ce(t,t.return,i)}}function b0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hm),t;default:throw Error(r(435,e.tag))}}function jo(e,t){var i=b0(e);t.forEach(function(s){var o=x0.bind(null,e,s);i.has(s)||(i.add(s),s.then(o,o))})}function At(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var o=i[s],c=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 27:if(Xn(g.type)){xe=g.stateNode,pt=!1;break e}break;case 5:xe=g.stateNode,pt=!1;break e;case 3:case 4:xe=g.stateNode.containerInfo,pt=!0;break e}g=g.return}if(xe===null)throw Error(r(160));km(c,d,o),xe=null,pt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)jm(t,e),t=t.sibling}var Yt=null;function jm(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),Nt(e),s&4&&(Bn(3,e,e.return),da(3,e),Bn(5,e,e.return));break;case 1:At(t,e),Nt(e),s&512&&(qe||i===null||Jt(i,i.return)),s&64&&mn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var o=Yt;if(At(t,e),Nt(e),s&512&&(qe||i===null||Jt(i,i.return)),s&4){var c=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Bl]||c[st]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),nt(c,s,i),c[st]=e,Ke(c),s=c;break e;case"link":var d=Lp("link","href",o).get(s+(i.href||""));if(d){for(var g=0;g<d.length;g++)if(c=d[g],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(g,1);break t}}c=o.createElement(s),nt(c,s,i),o.head.appendChild(c);break;case"meta":if(d=Lp("meta","content",o).get(s+(i.content||""))){for(g=0;g<d.length;g++)if(c=d[g],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(g,1);break t}}c=o.createElement(s),nt(c,s,i),o.head.appendChild(c);break;default:throw Error(r(468,s))}c[st]=e,Ke(c),s=c}e.stateNode=s}else Hp(o,e.type,e.stateNode);else e.stateNode=Up(o,s,e.memoizedProps);else c!==s?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,s===null?Hp(o,e.type,e.stateNode):Up(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Io(e,e.memoizedProps,i.memoizedProps)}break;case 27:At(t,e),Nt(e),s&512&&(qe||i===null||Jt(i,i.return)),i!==null&&s&4&&Io(e,e.memoizedProps,i.memoizedProps);break;case 5:if(At(t,e),Nt(e),s&512&&(qe||i===null||Jt(i,i.return)),e.flags&32){o=e.stateNode;try{Yi(o,"")}catch(w){Ce(e,e.return,w)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Io(e,o,i!==null?i.memoizedProps:o)),s&1024&&(qo=!0);break;case 6:if(At(t,e),Nt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(w){Ce(e,e.return,w)}}break;case 3:if(_r=null,o=Yt,Yt=mr(t.containerInfo),At(t,e),Yt=o,Nt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{xa(t.containerInfo)}catch(w){Ce(e,e.return,w)}qo&&(qo=!1,Ym(e));break;case 4:s=Yt,Yt=mr(e.stateNode.containerInfo),At(t,e),Nt(e),Yt=s;break;case 12:At(t,e),Nt(e);break;case 13:At(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ko=Zt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jo(e,s)));break;case 22:o=e.memoizedState!==null;var E=i!==null&&i.memoizedState!==null,A=mn,x=qe;if(mn=A||o,qe=x||E,At(t,e),qe=x,mn=A,Nt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||E||mn||qe||Si(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){E=i=t;try{if(c=E.stateNode,o)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=E.stateNode;var L=E.memoizedProps.style,D=L!=null&&L.hasOwnProperty("display")?L.display:null;g.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(w){Ce(E,E.return,w)}}}else if(t.tag===6){if(i===null){E=t;try{E.stateNode.nodeValue=o?"":E.memoizedProps}catch(w){Ce(E,E.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,jo(e,i))));break;case 19:At(t,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jo(e,s)));break;case 30:break;case 21:break;default:At(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Um(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,c=Bo(e);tr(e,c,o);break;case 5:var d=i.stateNode;i.flags&32&&(Yi(d,""),i.flags&=-33);var g=Bo(e);tr(e,g,d);break;case 3:case 4:var E=i.stateNode.containerInfo,A=Bo(e);ko(e,A,E);break;default:throw Error(r(161))}}catch(x){Ce(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ym(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ym(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Im(e,t.alternate,t),t=t.sibling}function Si(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bn(4,t,t.return),Si(t);break;case 1:Jt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Mm(t,t.return,i),Si(t);break;case 27:Ca(t.stateNode);case 26:case 5:Jt(t,t.return),Si(t);break;case 22:t.memoizedState===null&&Si(t);break;case 30:Si(t);break;default:Si(t)}e=e.sibling}}function qn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:qn(o,c,i),da(4,c);break;case 1:if(qn(o,c,i),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Ce(s,s.return,A)}if(s=c,o=s.updateQueue,o!==null){var g=s.stateNode;try{var E=o.shared.hiddenCallbacks;if(E!==null)for(o.shared.hiddenCallbacks=null,o=0;o<E.length;o++)gd(E[o],g)}catch(A){Ce(s,s.return,A)}}i&&d&64&&xm(c),ma(c,c.return);break;case 27:Lm(c);case 26:case 5:qn(o,c,i),i&&s===null&&d&4&&zm(c),ma(c,c.return);break;case 12:qn(o,c,i);break;case 13:qn(o,c,i),i&&d&4&&qm(o,c);break;case 22:c.memoizedState===null&&qn(o,c,i),ma(c,c.return);break;case 30:break;default:qn(o,c,i)}t=t.sibling}}function Yo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&$l(i))}function Go(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$l(e))}function $t(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gm(e,t,i,s),t=t.sibling}function Gm(e,t,i,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,i,s),o&2048&&da(9,t);break;case 1:$t(e,t,i,s);break;case 3:$t(e,t,i,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$l(e)));break;case 12:if(o&2048){$t(e,t,i,s),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,g=c.onPostCommit;typeof g=="function"&&g(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Ce(t,t.return,E)}}else $t(e,t,i,s);break;case 13:$t(e,t,i,s);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?$t(e,t,i,s):pa(e,t):c._visibility&2?$t(e,t,i,s):(c._visibility|=2,rl(e,t,i,s,(t.subtreeFlags&10256)!==0)),o&2048&&Yo(d,t);break;case 24:$t(e,t,i,s),o&2048&&Go(t.alternate,t);break;default:$t(e,t,i,s)}}function rl(e,t,i,s,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,d=t,g=i,E=s,A=d.flags;switch(d.tag){case 0:case 11:case 15:rl(c,d,g,E,o),da(8,d);break;case 23:break;case 22:var x=d.stateNode;d.memoizedState!==null?x._visibility&2?rl(c,d,g,E,o):pa(c,d):(x._visibility|=2,rl(c,d,g,E,o)),o&&A&2048&&Yo(d.alternate,d);break;case 24:rl(c,d,g,E,o),o&&A&2048&&Go(d.alternate,d);break;default:rl(c,d,g,E,o)}t=t.sibling}}function pa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,o=s.flags;switch(s.tag){case 22:pa(i,s),o&2048&&Yo(s.alternate,s);break;case 24:pa(i,s),o&2048&&Go(s.alternate,s);break;default:pa(i,s)}t=t.sibling}}var _a=8192;function ul(e){if(e.subtreeFlags&_a)for(e=e.child;e!==null;)Vm(e),e=e.sibling}function Vm(e){switch(e.tag){case 26:ul(e),e.flags&_a&&e.memoizedState!==null&&rE(Yt,e.memoizedState,e.memoizedProps);break;case 5:ul(e);break;case 3:case 4:var t=Yt;Yt=mr(e.stateNode.containerInfo),ul(e),Yt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=_a,_a=16777216,ul(e),_a=t):ul(e));break;default:ul(e)}}function Qm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ga(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Ze=s,Km(s,e)}Qm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xm(e),e=e.sibling}function Xm(e){switch(e.tag){case 0:case 11:case 15:ga(e),e.flags&2048&&Bn(9,e,e.return);break;case 3:ga(e);break;case 12:ga(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,nr(e)):ga(e);break;default:ga(e)}}function nr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Ze=s,Km(s,e)}Qm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bn(8,t,t.return),nr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,nr(t));break;default:nr(t)}e=e.sibling}}function Km(e,t){for(;Ze!==null;){var i=Ze;switch(i.tag){case 0:case 11:case 15:Bn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:$l(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Ze=s;else e:for(i=e;Ze!==null;){s=Ze;var o=s.sibling,c=s.return;if(Bm(s),s===i){Ze=null;break e}if(o!==null){o.return=c,Ze=o;break e}Ze=c}}}var C0={getCacheForType:function(e){var t=rt(Ve),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},T0=typeof WeakMap=="function"?WeakMap:Map,ge=0,Re=null,ue=null,he=0,ye=0,Dt=null,jn=!1,ol=!1,Vo=!1,_n=0,He=0,Yn=0,bi=0,Qo=0,kt=0,cl=0,ya=null,_t=null,Xo=!1,Ko=0,ir=1/0,lr=null,Gn=null,tt=0,Vn=null,fl=null,hl=0,Fo=0,Zo=null,Fm=null,va=0,Po=null;function wt(){if((ge&2)!==0&&he!==0)return he&-he;if(M.T!==null){var e=$i;return e!==0?e:ic()}return ch()}function Zm(){kt===0&&(kt=(he&536870912)===0||pe?sh():536870912);var e=Bt.current;return e!==null&&(e.flags|=32),kt}function Ot(e,t,i){(e===Re&&(ye===2||ye===9)||e.cancelPendingCommit!==null)&&(dl(e,0),Qn(e,he,kt,!1)),Il(e,i),((ge&2)===0||e!==Re)&&(e===Re&&((ge&2)===0&&(bi|=i),He===4&&Qn(e,he,kt,!1)),en(e))}function Pm(e,t,i){if((ge&6)!==0)throw Error(r(327));var s=!i&&(t&124)===0&&(t&e.expiredLanes)===0||Hl(e,t),o=s?N0(e,t):$o(e,t,!0),c=s;do{if(o===0){ol&&!s&&Qn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!R0(i)){o=$o(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var g=e;o=ya;var E=g.current.memoizedState.isDehydrated;if(E&&(dl(g,d).flags|=256),d=$o(g,d,!1),d!==2){if(Vo&&!E){g.errorRecoveryDisabledLanes|=c,bi|=c,o=4;break e}c=_t,_t=o,c!==null&&(_t===null?_t=c:_t.push.apply(_t,c))}o=d}if(c=!1,o!==2)continue}}if(o===1){dl(e,0),Qn(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Qn(s,t,kt,!jn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Ko+300-Zt(),10<o)){if(Qn(s,t,kt,!jn),ps(s,0,!0)!==0)break e;s.timeoutHandle=Rp(Wm.bind(null,s,i,_t,lr,Xo,t,kt,bi,cl,jn,c,2,-0,0),o);break e}Wm(s,i,_t,lr,Xo,t,kt,bi,cl,jn,c,0,-0,0)}}break}while(!0);en(e)}function Wm(e,t,i,s,o,c,d,g,E,A,x,L,D,w){if(e.timeoutHandle=-1,L=t.subtreeFlags,(L&8192||(L&16785408)===16785408)&&(Aa={stylesheets:null,count:0,unsuspend:sE},Vm(t),L=uE(),L!==null)){e.cancelPendingCommit=L(lp.bind(null,e,t,c,i,s,o,d,g,E,x,1,D,w)),Qn(e,c,d,!A);return}lp(e,t,c,i,s,o,d,g,E)}function R0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var o=i[s],c=o.getSnapshot;o=o.value;try{if(!Tt(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t,i,s){t&=~Qo,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-Ct(o),d=1<<c;s[c]=-1,o&=~d}i!==0&&uh(e,i,t)}function ar(){return(ge&6)===0?(Ea(0),!1):!0}function Wo(){if(ue!==null){if(ye===0)var e=ue.return;else e=ue,un=_i=null,mo(e),al=null,ca=0,e=ue;for(;e!==null;)Om(e.alternate,e),e=e.return;ue=null}}function dl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,G0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Wo(),Re=e,ue=i=an(e.current,null),he=t,ye=0,Dt=null,jn=!1,ol=Hl(e,t),Vo=!1,cl=kt=Qo=bi=Yn=He=0,_t=ya=null,Xo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-Ct(s),c=1<<o;t|=e[o],s&=~c}return _n=t,Ns(),i}function Jm(e,t){le=null,M.H=Xs,t===ta||t===Hs?(t=pd(),ye=3):t===hd?(t=pd(),ye=4):ye=t===_m?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,ue===null&&(He=1,Ws(e,Ut(t,e.current)))}function $m(){var e=M.H;return M.H=Xs,e===null?Xs:e}function ep(){var e=M.A;return M.A=C0,e}function Jo(){He=4,jn||(he&4194048)!==he&&Bt.current!==null||(ol=!0),(Yn&134217727)===0&&(bi&134217727)===0||Re===null||Qn(Re,he,kt,!1)}function $o(e,t,i){var s=ge;ge|=2;var o=$m(),c=ep();(Re!==e||he!==t)&&(lr=null,dl(e,t)),t=!1;var d=He;e:do try{if(ye!==0&&ue!==null){var g=ue,E=Dt;switch(ye){case 8:Wo(),d=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var A=ye;if(ye=0,Dt=null,ml(e,g,E,A),i&&ol){d=0;break e}break;default:A=ye,ye=0,Dt=null,ml(e,g,E,A)}}A0(),d=He;break}catch(x){Jm(e,x)}while(!0);return t&&e.shellSuspendCounter++,un=_i=null,ge=s,M.H=o,M.A=c,ue===null&&(Re=null,he=0,Ns()),d}function A0(){for(;ue!==null;)tp(ue)}function N0(e,t){var i=ge;ge|=2;var s=$m(),o=ep();Re!==e||he!==t?(lr=null,ir=Zt()+500,dl(e,t)):ol=Hl(e,t);e:do try{if(ye!==0&&ue!==null){t=ue;var c=Dt;t:switch(ye){case 1:ye=0,Dt=null,ml(e,t,c,1);break;case 2:case 9:if(dd(c)){ye=0,Dt=null,np(t);break}t=function(){ye!==2&&ye!==9||Re!==e||(ye=7),en(e)},c.then(t,t);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:dd(c)?(ye=0,Dt=null,np(t)):(ye=0,Dt=null,ml(e,t,c,7));break;case 5:var d=null;switch(ue.tag){case 26:d=ue.memoizedState;case 5:case 27:var g=ue;if(!d||Ip(d)){ye=0,Dt=null;var E=g.sibling;if(E!==null)ue=E;else{var A=g.return;A!==null?(ue=A,sr(A)):ue=null}break t}}ye=0,Dt=null,ml(e,t,c,5);break;case 6:ye=0,Dt=null,ml(e,t,c,6);break;case 8:Wo(),He=6;break e;default:throw Error(r(462))}}D0();break}catch(x){Jm(e,x)}while(!0);return un=_i=null,M.H=s,M.A=o,ge=i,ue!==null?0:(Re=null,he=0,Ns(),He)}function D0(){for(;ue!==null&&!Py();)tp(ue)}function tp(e){var t=Dm(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?sr(e):ue=t}function np(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=bm(i,t,t.pendingProps,t.type,void 0,he);break;case 11:t=bm(i,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:mo(t);default:Om(i,t),t=ue=id(t,_n),t=Dm(i,t,_n)}e.memoizedProps=e.pendingProps,t===null?sr(e):ue=t}function ml(e,t,i,s){un=_i=null,mo(t),al=null,ca=0;var o=t.return;try{if(g0(e,o,t,i,he)){He=1,Ws(e,Ut(i,e.current)),ue=null;return}}catch(c){if(o!==null)throw ue=o,c;He=1,Ws(e,Ut(i,e.current)),ue=null;return}t.flags&32768?(pe||s===1?e=!0:ol||(he&536870912)!==0?e=!1:(jn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Bt.current,s!==null&&s.tag===13&&(s.flags|=16384))),ip(t,e)):sr(t)}function sr(e){var t=e;do{if((t.flags&32768)!==0){ip(t,jn);return}e=t.return;var i=v0(t.alternate,t,_n);if(i!==null){ue=i;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);He===0&&(He=5)}function ip(e,t){do{var i=E0(e.alternate,e);if(i!==null){i.flags&=32767,ue=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=i}while(e!==null);He=6,ue=null}function lp(e,t,i,s,o,c,d,g,E){e.cancelPendingCommit=null;do rr();while(tt!==0);if((ge&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Yu,sv(e,i,c,d,g,E),e===Re&&(ue=Re=null,he=0),fl=t,Vn=e,hl=i,Fo=c,Zo=o,Fm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M0(hs,function(){return op(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=M.T,M.T=null,o=G.p,G.p=2,d=ge,ge|=4;try{S0(e,t,i)}finally{ge=d,G.p=o,M.T=s}}tt=1,ap(),sp(),rp()}}function ap(){if(tt===1){tt=0;var e=Vn,t=fl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null;var s=G.p;G.p=2;var o=ge;ge|=4;try{jm(t,e);var c=fc,d=Kh(e.containerInfo),g=c.focusedElem,E=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&Xh(g.ownerDocument.documentElement,g)){if(E!==null&&Iu(g)){var A=E.start,x=E.end;if(x===void 0&&(x=A),"selectionStart"in g)g.selectionStart=A,g.selectionEnd=Math.min(x,g.value.length);else{var L=g.ownerDocument||document,D=L&&L.defaultView||window;if(D.getSelection){var w=D.getSelection(),$=g.textContent.length,P=Math.min(E.start,$),Se=E.end===void 0?P:Math.min(E.end,$);!w.extend&&P>Se&&(d=Se,Se=P,P=d);var T=Qh(g,P),C=Qh(g,Se);if(T&&C&&(w.rangeCount!==1||w.anchorNode!==T.node||w.anchorOffset!==T.offset||w.focusNode!==C.node||w.focusOffset!==C.offset)){var R=L.createRange();R.setStart(T.node,T.offset),w.removeAllRanges(),P>Se?(w.addRange(R),w.extend(C.node,C.offset)):(R.setEnd(C.node,C.offset),w.addRange(R))}}}}for(L=[],w=g;w=w.parentNode;)w.nodeType===1&&L.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<L.length;g++){var z=L[g];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}vr=!!cc,fc=cc=null}finally{ge=o,G.p=s,M.T=i}}e.current=t,tt=2}}function sp(){if(tt===2){tt=0;var e=Vn,t=fl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=M.T,M.T=null;var s=G.p;G.p=2;var o=ge;ge|=4;try{Im(e,t.alternate,t)}finally{ge=o,G.p=s,M.T=i}}tt=3}}function rp(){if(tt===4||tt===3){tt=0,Wy();var e=Vn,t=fl,i=hl,s=Fm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,fl=Vn=null,up(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Gn=null),_u(i),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=M.T,o=G.p,G.p=2,M.T=null;try{for(var c=e.onRecoverableError,d=0;d<s.length;d++){var g=s[d];c(g.value,{componentStack:g.stack})}}finally{M.T=t,G.p=o}}(hl&3)!==0&&rr(),en(e),o=e.pendingLanes,(i&4194090)!==0&&(o&42)!==0?e===Po?va++:(va=0,Po=e):va=0,Ea(0)}}function up(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$l(t)))}function rr(e){return ap(),sp(),rp(),op()}function op(){if(tt!==5)return!1;var e=Vn,t=Fo;Fo=0;var i=_u(hl),s=M.T,o=G.p;try{G.p=32>i?32:i,M.T=null,i=Zo,Zo=null;var c=Vn,d=hl;if(tt=0,fl=Vn=null,hl=0,(ge&6)!==0)throw Error(r(331));var g=ge;if(ge|=4,Xm(c.current),Gm(c,c.current,d,i),ge=g,Ea(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ll,c)}catch{}return!0}finally{G.p=o,M.T=s,up(e,t)}}function cp(e,t,i){t=Ut(i,t),t=Do(e.stateNode,t,2),e=Un(e,t,2),e!==null&&(Il(e,2),en(e))}function Ce(e,t,i){if(e.tag===3)cp(e,e,i);else for(;t!==null;){if(t.tag===3){cp(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Gn===null||!Gn.has(s))){e=Ut(i,e),i=mm(2),s=Un(t,i,2),s!==null&&(pm(i,s,t,e),Il(s,2),en(s));break}}t=t.return}}function ec(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new T0;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(i)||(Vo=!0,o.add(i),e=w0.bind(null,e,t,i),t.then(e,e))}function w0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Re===e&&(he&i)===i&&(He===4||He===3&&(he&62914560)===he&&300>Zt()-Ko?(ge&2)===0&&dl(e,0):Qo|=i,cl===he&&(cl=0)),en(e)}function fp(e,t){t===0&&(t=rh()),e=Zi(e,t),e!==null&&(Il(e,t),en(e))}function O0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),fp(e,i)}function x0(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),fp(e,i)}function M0(e,t){return hu(e,t)}var ur=null,pl=null,tc=!1,or=!1,nc=!1,Ci=0;function en(e){e!==pl&&e.next===null&&(pl===null?ur=pl=e:pl=pl.next=e),or=!0,tc||(tc=!0,U0())}function Ea(e,t){if(!nc&&or){nc=!0;do for(var i=!1,s=ur;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var d=s.suspendedLanes,g=s.pingedLanes;c=(1<<31-Ct(42|e)+1)-1,c&=o&~(d&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,pp(s,c))}else c=he,c=ps(s,s===Re?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Hl(s,c)||(i=!0,pp(s,c));s=s.next}while(i);nc=!1}}function z0(){hp()}function hp(){or=tc=!1;var e=0;Ci!==0&&(Y0()&&(e=Ci),Ci=0);for(var t=Zt(),i=null,s=ur;s!==null;){var o=s.next,c=dp(s,t);c===0?(s.next=null,i===null?ur=o:i.next=o,o===null&&(pl=i)):(i=s,(e!==0||(c&3)!==0)&&(or=!0)),s=o}Ea(e)}function dp(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-Ct(c),g=1<<d,E=o[d];E===-1?((g&i)===0||(g&s)!==0)&&(o[d]=av(g,t)):E<=t&&(e.expiredLanes|=g),c&=~g}if(t=Re,i=he,i=ps(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(ye===2||ye===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&du(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Hl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&du(s),_u(i)){case 2:case 8:i=lh;break;case 32:i=hs;break;case 268435456:i=ah;break;default:i=hs}return s=mp.bind(null,e),i=hu(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&du(s),e.callbackPriority=2,e.callbackNode=null,2}function mp(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(rr()&&e.callbackNode!==i)return null;var s=he;return s=ps(e,e===Re?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Pm(e,s,t),dp(e,Zt()),e.callbackNode!=null&&e.callbackNode===i?mp.bind(null,e):null)}function pp(e,t){if(rr())return null;Pm(e,t,!0)}function U0(){V0(function(){(ge&6)!==0?hu(ih,z0):hp()})}function ic(){return Ci===0&&(Ci=sh()),Ci}function _p(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Es(""+e)}function gp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function L0(e,t,i,s,o){if(t==="submit"&&i&&i.stateNode===o){var c=_p((o[ht]||null).action),d=s.submitter;d&&(t=(t=d[ht]||null)?_p(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var g=new Ts("action","action",null,s,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ci!==0){var E=d?gp(o,d):new FormData(o);Co(i,{pending:!0,data:E,method:o.method,action:c},null,E)}}else typeof c=="function"&&(g.preventDefault(),E=d?gp(o,d):new FormData(o),Co(i,{pending:!0,data:E,method:o.method,action:c},c,E))},currentTarget:o}]})}}for(var lc=0;lc<ju.length;lc++){var ac=ju[lc],H0=ac.toLowerCase(),I0=ac[0].toUpperCase()+ac.slice(1);jt(H0,"on"+I0)}jt(Ph,"onAnimationEnd"),jt(Wh,"onAnimationIteration"),jt(Jh,"onAnimationStart"),jt("dblclick","onDoubleClick"),jt("focusin","onFocus"),jt("focusout","onBlur"),jt(e0,"onTransitionRun"),jt(t0,"onTransitionStart"),jt(n0,"onTransitionCancel"),jt($h,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sa));function yp(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var d=s.length-1;0<=d;d--){var g=s[d],E=g.instance,A=g.currentTarget;if(g=g.listener,E!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=A;try{c(o)}catch(x){Ps(x)}o.currentTarget=null,c=E}else for(d=0;d<s.length;d++){if(g=s[d],E=g.instance,A=g.currentTarget,g=g.listener,E!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=A;try{c(o)}catch(x){Ps(x)}o.currentTarget=null,c=E}}}}function oe(e,t){var i=t[gu];i===void 0&&(i=t[gu]=new Set);var s=e+"__bubble";i.has(s)||(vp(t,e,2,!1),i.add(s))}function sc(e,t,i){var s=0;t&&(s|=4),vp(i,e,s,t)}var cr="_reactListening"+Math.random().toString(36).slice(2);function rc(e){if(!e[cr]){e[cr]=!0,hh.forEach(function(i){i!=="selectionchange"&&(B0.has(i)||sc(i,!1,e),sc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cr]||(t[cr]=!0,sc("selectionchange",!1,t))}}function vp(e,t,i,s){switch(Gp(t)){case 2:var o=fE;break;case 8:o=hE;break;default:o=Sc}i=o.bind(null,t,i,e),o=void 0,!Du||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function uc(e,t,i,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var g=s.stateNode.containerInfo;if(g===o)break;if(d===4)for(d=s.return;d!==null;){var E=d.tag;if((E===3||E===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;g!==null;){if(d=Hi(g),d===null)return;if(E=d.tag,E===5||E===6||E===26||E===27){s=c=d;continue e}g=g.parentNode}}s=s.return}Ah(function(){var A=c,x=Au(i),L=[];e:{var D=ed.get(e);if(D!==void 0){var w=Ts,$=e;switch(e){case"keypress":if(bs(i)===0)break e;case"keydown":case"keyup":w=Mv;break;case"focusin":$="focus",w=Mu;break;case"focusout":$="blur",w=Mu;break;case"beforeblur":case"afterblur":w=Mu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Ev;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Lv;break;case Ph:case Wh:case Jh:w=Cv;break;case $h:w=Iv;break;case"scroll":case"scrollend":w=yv;break;case"wheel":w=kv;break;case"copy":case"cut":case"paste":w=Rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=xh;break;case"toggle":case"beforetoggle":w=jv}var P=(t&4)!==0,Se=!P&&(e==="scroll"||e==="scrollend"),T=P?D!==null?D+"Capture":null:D;P=[];for(var C=A,R;C!==null;){var z=C;if(R=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||R===null||T===null||(z=ql(C,T),z!=null&&P.push(ba(C,z,R))),Se)break;C=C.return}0<P.length&&(D=new w(D,$,null,i,x),L.push({event:D,listeners:P}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",D&&i!==Ru&&($=i.relatedTarget||i.fromElement)&&(Hi($)||$[Li]))break e;if((w||D)&&(D=x.window===x?x:(D=x.ownerDocument)?D.defaultView||D.parentWindow:window,w?($=i.relatedTarget||i.toElement,w=A,$=$?Hi($):null,$!==null&&(Se=f($),P=$.tag,$!==Se||P!==5&&P!==27&&P!==6)&&($=null)):(w=null,$=A),w!==$)){if(P=wh,z="onMouseLeave",T="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(P=xh,z="onPointerLeave",T="onPointerEnter",C="pointer"),Se=w==null?D:kl(w),R=$==null?D:kl($),D=new P(z,C+"leave",w,i,x),D.target=Se,D.relatedTarget=R,z=null,Hi(x)===A&&(P=new P(T,C+"enter",$,i,x),P.target=R,P.relatedTarget=Se,z=P),Se=z,w&&$)t:{for(P=w,T=$,C=0,R=P;R;R=_l(R))C++;for(R=0,z=T;z;z=_l(z))R++;for(;0<C-R;)P=_l(P),C--;for(;0<R-C;)T=_l(T),R--;for(;C--;){if(P===T||T!==null&&P===T.alternate)break t;P=_l(P),T=_l(T)}P=null}else P=null;w!==null&&Ep(L,D,w,P,!1),$!==null&&Se!==null&&Ep(L,Se,$,P,!0)}}e:{if(D=A?kl(A):window,w=D.nodeName&&D.nodeName.toLowerCase(),w==="select"||w==="input"&&D.type==="file")var X=kh;else if(Ih(D))if(qh)X=Wv;else{X=Zv;var ae=Fv}else w=D.nodeName,!w||w.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?A&&Tu(A.elementType)&&(X=kh):X=Pv;if(X&&(X=X(e,A))){Bh(L,X,i,x);break e}ae&&ae(e,D,A),e==="focusout"&&A&&D.type==="number"&&A.memoizedProps.value!=null&&Cu(D,"number",D.value)}switch(ae=A?kl(A):window,e){case"focusin":(Ih(ae)||ae.contentEditable==="true")&&(Xi=ae,Bu=A,Fl=null);break;case"focusout":Fl=Bu=Xi=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,Fh(L,i,x);break;case"selectionchange":if($v)break;case"keydown":case"keyup":Fh(L,i,x)}var K;if(Uu)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Qi?Lh(e,i)&&(W="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(W="onCompositionStart");W&&(Mh&&i.locale!=="ko"&&(Qi||W!=="onCompositionStart"?W==="onCompositionEnd"&&Qi&&(K=Nh()):(On=x,wu="value"in On?On.value:On.textContent,Qi=!0)),ae=fr(A,W),0<ae.length&&(W=new Oh(W,e,null,i,x),L.push({event:W,listeners:ae}),K?W.data=K:(K=Hh(i),K!==null&&(W.data=K)))),(K=Gv?Vv(e,i):Qv(e,i))&&(W=fr(A,"onBeforeInput"),0<W.length&&(ae=new Oh("onBeforeInput","beforeinput",null,i,x),L.push({event:ae,listeners:W}),ae.data=K)),L0(L,e,A,i,x)}yp(L,t)})}function ba(e,t,i){return{instance:e,listener:t,currentTarget:i}}function fr(e,t){for(var i=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=ql(e,i),o!=null&&s.unshift(ba(e,o,c)),o=ql(e,t),o!=null&&s.push(ba(e,o,c))),e.tag===3)return s;e=e.return}return[]}function _l(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ep(e,t,i,s,o){for(var c=t._reactName,d=[];i!==null&&i!==s;){var g=i,E=g.alternate,A=g.stateNode;if(g=g.tag,E!==null&&E===s)break;g!==5&&g!==26&&g!==27||A===null||(E=A,o?(A=ql(i,c),A!=null&&d.unshift(ba(i,A,E))):o||(A=ql(i,c),A!=null&&d.push(ba(i,A,E)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var k0=/\r\n?/g,q0=/\u0000|\uFFFD/g;function Sp(e){return(typeof e=="string"?e:""+e).replace(k0,`
`).replace(q0,"")}function bp(e,t){return t=Sp(t),Sp(e)===t}function hr(){}function Ee(e,t,i,s,o,c){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Yi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Yi(e,""+s);break;case"className":gs(e,"class",s);break;case"tabIndex":gs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":gs(e,i,s);break;case"style":Th(e,s,c);break;case"data":if(t!=="object"){gs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Es(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Ee(e,t,"name",o.name,o,null),Ee(e,t,"formEncType",o.formEncType,o,null),Ee(e,t,"formMethod",o.formMethod,o,null),Ee(e,t,"formTarget",o.formTarget,o,null)):(Ee(e,t,"encType",o.encType,o,null),Ee(e,t,"method",o.method,o,null),Ee(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Es(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=hr);break;case"onScroll":s!=null&&oe("scroll",e);break;case"onScrollEnd":s!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Es(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":oe("beforetoggle",e),oe("toggle",e),_s(e,"popover",s);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":_s(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=_v.get(i)||i,_s(e,i,s))}}function oc(e,t,i,s,o,c){switch(i){case"style":Th(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Yi(e,s):(typeof s=="number"||typeof s=="bigint")&&Yi(e,""+s);break;case"onScroll":s!=null&&oe("scroll",e);break;case"onScrollEnd":s!=null&&oe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=hr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[ht]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,o);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):_s(e,i,s)}}}function nt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var s=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ee(e,t,c,d,i,null)}}o&&Ee(e,t,"srcSet",i.srcSet,i,null),s&&Ee(e,t,"src",i.src,i,null);return;case"input":oe("invalid",e);var g=c=d=o=null,E=null,A=null;for(s in i)if(i.hasOwnProperty(s)){var x=i[s];if(x!=null)switch(s){case"name":o=x;break;case"type":d=x;break;case"checked":E=x;break;case"defaultChecked":A=x;break;case"value":c=x;break;case"defaultValue":g=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(137,t));break;default:Ee(e,t,s,x,i,null)}}Eh(e,c,g,E,A,d,o,!1),ys(e);return;case"select":oe("invalid",e),s=d=c=null;for(o in i)if(i.hasOwnProperty(o)&&(g=i[o],g!=null))switch(o){case"value":c=g;break;case"defaultValue":d=g;break;case"multiple":s=g;default:Ee(e,t,o,g,i,null)}t=c,i=d,e.multiple=!!s,t!=null?ji(e,!!s,t,!1):i!=null&&ji(e,!!s,i,!0);return;case"textarea":oe("invalid",e),c=o=s=null;for(d in i)if(i.hasOwnProperty(d)&&(g=i[d],g!=null))switch(d){case"value":s=g;break;case"defaultValue":o=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:Ee(e,t,d,g,i,null)}bh(e,s,o,c),ys(e);return;case"option":for(E in i)if(i.hasOwnProperty(E)&&(s=i[E],s!=null))switch(E){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ee(e,t,E,s,i,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(s=0;s<Sa.length;s++)oe(Sa[s],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ee(e,t,A,s,i,null)}return;default:if(Tu(t)){for(x in i)i.hasOwnProperty(x)&&(s=i[x],s!==void 0&&oc(e,t,x,s,i,void 0));return}}for(g in i)i.hasOwnProperty(g)&&(s=i[g],s!=null&&Ee(e,t,g,s,i,null))}function j0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,d=null,g=null,E=null,A=null,x=null;for(w in i){var L=i[w];if(i.hasOwnProperty(w)&&L!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":E=L;default:s.hasOwnProperty(w)||Ee(e,t,w,null,s,L)}}for(var D in s){var w=s[D];if(L=i[D],s.hasOwnProperty(D)&&(w!=null||L!=null))switch(D){case"type":c=w;break;case"name":o=w;break;case"checked":A=w;break;case"defaultChecked":x=w;break;case"value":d=w;break;case"defaultValue":g=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(137,t));break;default:w!==L&&Ee(e,t,D,w,s,L)}}bu(e,d,g,E,A,x,c,o);return;case"select":w=d=g=D=null;for(c in i)if(E=i[c],i.hasOwnProperty(c)&&E!=null)switch(c){case"value":break;case"multiple":w=E;default:s.hasOwnProperty(c)||Ee(e,t,c,null,s,E)}for(o in s)if(c=s[o],E=i[o],s.hasOwnProperty(o)&&(c!=null||E!=null))switch(o){case"value":D=c;break;case"defaultValue":g=c;break;case"multiple":d=c;default:c!==E&&Ee(e,t,o,c,s,E)}t=g,i=d,s=w,D!=null?ji(e,!!i,D,!1):!!s!=!!i&&(t!=null?ji(e,!!i,t,!0):ji(e,!!i,i?[]:"",!1));return;case"textarea":w=D=null;for(g in i)if(o=i[g],i.hasOwnProperty(g)&&o!=null&&!s.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ee(e,t,g,null,s,o)}for(d in s)if(o=s[d],c=i[d],s.hasOwnProperty(d)&&(o!=null||c!=null))switch(d){case"value":D=o;break;case"defaultValue":w=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&Ee(e,t,d,o,s,c)}Sh(e,D,w);return;case"option":for(var $ in i)if(D=i[$],i.hasOwnProperty($)&&D!=null&&!s.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:Ee(e,t,$,null,s,D)}for(E in s)if(D=s[E],w=i[E],s.hasOwnProperty(E)&&D!==w&&(D!=null||w!=null))switch(E){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ee(e,t,E,D,s,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var P in i)D=i[P],i.hasOwnProperty(P)&&D!=null&&!s.hasOwnProperty(P)&&Ee(e,t,P,null,s,D);for(A in s)if(D=s[A],w=i[A],s.hasOwnProperty(A)&&D!==w&&(D!=null||w!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Ee(e,t,A,D,s,w)}return;default:if(Tu(t)){for(var Se in i)D=i[Se],i.hasOwnProperty(Se)&&D!==void 0&&!s.hasOwnProperty(Se)&&oc(e,t,Se,void 0,s,D);for(x in s)D=s[x],w=i[x],!s.hasOwnProperty(x)||D===w||D===void 0&&w===void 0||oc(e,t,x,D,s,w);return}}for(var T in i)D=i[T],i.hasOwnProperty(T)&&D!=null&&!s.hasOwnProperty(T)&&Ee(e,t,T,null,s,D);for(L in s)D=s[L],w=i[L],!s.hasOwnProperty(L)||D===w||D==null&&w==null||Ee(e,t,L,D,s,w)}var cc=null,fc=null;function dr(e){return e.nodeType===9?e:e.ownerDocument}function Cp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dc=null;function Y0(){var e=window.event;return e&&e.type==="popstate"?e===dc?!1:(dc=e,!0):(dc=null,!1)}var Rp=typeof setTimeout=="function"?setTimeout:void 0,G0=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,V0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(e){return Ap.resolve(null).then(e).catch(Q0)}:Rp;function Q0(e){setTimeout(function(){throw e})}function Xn(e){return e==="head"}function Np(e,t){var i=t,s=0,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(0<s&&8>s){i=s;var d=e.ownerDocument;if(i&1&&Ca(d.documentElement),i&2&&Ca(d.body),i&4)for(i=d.head,Ca(i),d=i.firstChild;d;){var g=d.nextSibling,E=d.nodeName;d[Bl]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=g}}if(o===0){e.removeChild(c),xa(t);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:s=i.charCodeAt(0)-48;else s=0;i=c}while(i);xa(t)}function mc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":mc(i),yu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function X0(e,t,i,s){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Bl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function K0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Gt(e.nextSibling),e===null))return null;return e}function pc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function F0(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var _c=null;function Dp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function wp(e,t,i){switch(t=dr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ca(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);yu(e)}var qt=new Map,Op=new Set;function mr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gn=G.d;G.d={f:Z0,r:P0,D:W0,C:J0,L:$0,m:eE,X:nE,S:tE,M:iE};function Z0(){var e=gn.f(),t=ar();return e||t}function P0(e){var t=Ii(e);t!==null&&t.tag===5&&t.type==="form"?Pd(t):gn.r(e)}var gl=typeof document>"u"?null:document;function xp(e,t,i){var s=gl;if(s&&typeof t=="string"&&t){var o=zt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Op.has(o)||(Op.add(o),e={rel:e,crossOrigin:i,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),nt(t,"link",e),Ke(t),s.head.appendChild(t)))}}function W0(e){gn.D(e),xp("dns-prefetch",e,null)}function J0(e,t){gn.C(e,t),xp("preconnect",e,t)}function $0(e,t,i){gn.L(e,t,i);var s=gl;if(s&&e&&t){var o='link[rel="preload"][as="'+zt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+zt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+zt(i.imageSizes)+'"]')):o+='[href="'+zt(e)+'"]';var c=o;switch(t){case"style":c=yl(e);break;case"script":c=vl(e)}qt.has(c)||(e=y({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),qt.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Ta(c))||t==="script"&&s.querySelector(Ra(c))||(t=s.createElement("link"),nt(t,"link",e),Ke(t),s.head.appendChild(t)))}}function eE(e,t){gn.m(e,t);var i=gl;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+zt(s)+'"][href="'+zt(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=vl(e)}if(!qt.has(c)&&(e=y({rel:"modulepreload",href:e},t),qt.set(c,e),i.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ra(c)))return}s=i.createElement("link"),nt(s,"link",e),Ke(s),i.head.appendChild(s)}}}function tE(e,t,i){gn.S(e,t,i);var s=gl;if(s&&e){var o=Bi(s).hoistableStyles,c=yl(e);t=t||"default";var d=o.get(c);if(!d){var g={loading:0,preload:null};if(d=s.querySelector(Ta(c)))g.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},i),(i=qt.get(c))&&gc(e,i);var E=d=s.createElement("link");Ke(E),nt(E,"link",e),E._p=new Promise(function(A,x){E.onload=A,E.onerror=x}),E.addEventListener("load",function(){g.loading|=1}),E.addEventListener("error",function(){g.loading|=2}),g.loading|=4,pr(d,t,s)}d={type:"stylesheet",instance:d,count:1,state:g},o.set(c,d)}}}function nE(e,t){gn.X(e,t);var i=gl;if(i&&e){var s=Bi(i).hoistableScripts,o=vl(e),c=s.get(o);c||(c=i.querySelector(Ra(o)),c||(e=y({src:e,async:!0},t),(t=qt.get(o))&&yc(e,t),c=i.createElement("script"),Ke(c),nt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function iE(e,t){gn.M(e,t);var i=gl;if(i&&e){var s=Bi(i).hoistableScripts,o=vl(e),c=s.get(o);c||(c=i.querySelector(Ra(o)),c||(e=y({src:e,async:!0,type:"module"},t),(t=qt.get(o))&&yc(e,t),c=i.createElement("script"),Ke(c),nt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Mp(e,t,i,s){var o=(o=ne.current)?mr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=yl(i.href),i=Bi(o).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=yl(i.href);var c=Bi(o).hoistableStyles,d=c.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=o.querySelector(Ta(e)))&&!c._p&&(d.instance=c,d.state.loading=5),qt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},qt.set(e,i),c||lE(o,e,i,d.state))),t&&s===null)throw Error(r(528,""));return d}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vl(i),i=Bi(o).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function yl(e){return'href="'+zt(e)+'"'}function Ta(e){return'link[rel="stylesheet"]['+e+"]"}function zp(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function lE(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),nt(t,"link",i),Ke(t),e.head.appendChild(t))}function vl(e){return'[src="'+zt(e)+'"]'}function Ra(e){return"script[async]"+e}function Up(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+zt(i.href)+'"]');if(s)return t.instance=s,Ke(s),s;var o=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ke(s),nt(s,"style",o),pr(s,i.precedence,e),t.instance=s;case"stylesheet":o=yl(i.href);var c=e.querySelector(Ta(o));if(c)return t.state.loading|=4,t.instance=c,Ke(c),c;s=zp(i),(o=qt.get(o))&&gc(s,o),c=(e.ownerDocument||e).createElement("link"),Ke(c);var d=c;return d._p=new Promise(function(g,E){d.onload=g,d.onerror=E}),nt(c,"link",s),t.state.loading|=4,pr(c,i.precedence,e),t.instance=c;case"script":return c=vl(i.src),(o=e.querySelector(Ra(c)))?(t.instance=o,Ke(o),o):(s=i,(o=qt.get(c))&&(s=y({},i),yc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ke(o),nt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,pr(s,i.precedence,e));return t.instance}function pr(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,d=0;d<s.length;d++){var g=s[d];if(g.dataset.precedence===t)c=g;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function gc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _r=null;function Lp(e,t,i){if(_r===null){var s=new Map,o=_r=new Map;o.set(i,s)}else o=_r,s=o.get(i),s||(s=new Map,o.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[Bl]||c[st]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var g=s.get(d);g?g.push(c):s.set(d,[c])}}return s}function Hp(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function aE(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ip(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Aa=null;function sE(){}function rE(e,t,i){if(Aa===null)throw Error(r(475));var s=Aa;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=yl(i.href),c=e.querySelector(Ta(o));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=gr.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=c,Ke(c);return}c=e.ownerDocument||e,i=zp(i),(o=qt.get(o))&&gc(i,o),c=c.createElement("link"),Ke(c);var d=c;d._p=new Promise(function(g,E){d.onload=g,d.onerror=E}),nt(c,"link",i),t.instance=c}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=gr.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function uE(){if(Aa===null)throw Error(r(475));var e=Aa;return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function gr(){if(this.count--,this.count===0){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yr=null;function vc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yr=new Map,t.forEach(oE,e),yr=null,gr.call(e))}function oE(e,t){if(!(t.state.loading&4)){var i=yr.get(e);if(i)var s=i.get(null);else{i=new Map,yr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var d=o[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),s=d)}s&&i.set(null,s)}o=t.instance,d=o.getAttribute("data-precedence"),c=i.get(d)||s,c===s&&i.set(null,o),i.set(d,o),this.count++,s=gr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Na={$$typeof:Y,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function cE(e,t,i,s,o,c,d,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.hiddenUpdates=mu(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function Bp(e,t,i,s,o,c,d,g,E,A,x,L){return e=new cE(e,t,i,d,g,E,A,L),t=1,c===!0&&(t|=24),c=Rt(3,null,null,t),e.current=c,c.stateNode=e,t=$u(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:i,cache:t},io(c),e}function kp(e){return e?(e=Pi,e):Pi}function qp(e,t,i,s,o,c){o=kp(o),s.context===null?s.context=o:s.pendingContext=o,s=zn(t),s.payload={element:i},c=c===void 0?null:c,c!==null&&(s.callback=c),i=Un(e,s,t),i!==null&&(Ot(i,e,t),ia(i,e,t))}function jp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ec(e,t){jp(e,t),(e=e.alternate)&&jp(e,t)}function Yp(e){if(e.tag===13){var t=Zi(e,67108864);t!==null&&Ot(t,e,67108864),Ec(e,67108864)}}var vr=!0;function fE(e,t,i,s){var o=M.T;M.T=null;var c=G.p;try{G.p=2,Sc(e,t,i,s)}finally{G.p=c,M.T=o}}function hE(e,t,i,s){var o=M.T;M.T=null;var c=G.p;try{G.p=8,Sc(e,t,i,s)}finally{G.p=c,M.T=o}}function Sc(e,t,i,s){if(vr){var o=bc(s);if(o===null)uc(e,t,s,Er,i),Vp(e,s);else if(mE(o,e,t,i,s))s.stopPropagation();else if(Vp(e,s),t&4&&-1<dE.indexOf(e)){for(;o!==null;){var c=Ii(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=si(c.pendingLanes);if(d!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;d;){var E=1<<31-Ct(d);g.entanglements[1]|=E,d&=~E}en(c),(ge&6)===0&&(ir=Zt()+500,Ea(0))}}break;case 13:g=Zi(c,2),g!==null&&Ot(g,c,2),ar(),Ec(c,2)}if(c=bc(s),c===null&&uc(e,t,s,Er,i),c===o)break;o=c}o!==null&&s.stopPropagation()}else uc(e,t,s,null,i)}}function bc(e){return e=Au(e),Cc(e)}var Er=null;function Cc(e){if(Er=null,e=Hi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Er=e,null}function Gp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jy()){case ih:return 2;case lh:return 8;case hs:case $y:return 32;case ah:return 268435456;default:return 32}default:return 32}}var Tc=!1,Kn=null,Fn=null,Zn=null,Da=new Map,wa=new Map,Pn=[],dE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Da.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(t.pointerId)}}function Oa(e,t,i,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Ii(t),t!==null&&Yp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function mE(e,t,i,s,o){switch(t){case"focusin":return Kn=Oa(Kn,e,t,i,s,o),!0;case"dragenter":return Fn=Oa(Fn,e,t,i,s,o),!0;case"mouseover":return Zn=Oa(Zn,e,t,i,s,o),!0;case"pointerover":var c=o.pointerId;return Da.set(c,Oa(Da.get(c)||null,e,t,i,s,o)),!0;case"gotpointercapture":return c=o.pointerId,wa.set(c,Oa(wa.get(c)||null,e,t,i,s,o)),!0}return!1}function Qp(e){var t=Hi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,rv(e.priority,function(){if(i.tag===13){var s=wt();s=pu(s);var o=Zi(i,s);o!==null&&Ot(o,i,s),Ec(i,s)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=bc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Ru=s,i.target.dispatchEvent(s),Ru=null}else return t=Ii(i),t!==null&&Yp(t),e.blockedOn=i,!1;t.shift()}return!0}function Xp(e,t,i){Sr(e)&&i.delete(t)}function pE(){Tc=!1,Kn!==null&&Sr(Kn)&&(Kn=null),Fn!==null&&Sr(Fn)&&(Fn=null),Zn!==null&&Sr(Zn)&&(Zn=null),Da.forEach(Xp),wa.forEach(Xp)}function br(e,t){e.blockedOn===t&&(e.blockedOn=null,Tc||(Tc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,pE)))}var Cr=null;function Kp(e){Cr!==e&&(Cr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Cr===e&&(Cr=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Cc(s||i)===null)continue;break}var c=Ii(i);c!==null&&(e.splice(t,3),t-=3,Co(c,{pending:!0,data:o,method:i.method,action:s},s,o))}}))}function xa(e){function t(E){return br(E,e)}Kn!==null&&br(Kn,e),Fn!==null&&br(Fn,e),Zn!==null&&br(Zn,e),Da.forEach(t),wa.forEach(t);for(var i=0;i<Pn.length;i++){var s=Pn[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Pn.length&&(i=Pn[0],i.blockedOn===null);)Qp(i),i.blockedOn===null&&Pn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],d=o[ht]||null;if(typeof c=="function")d||Kp(i);else if(d){var g=null;if(c&&c.hasAttribute("formAction")){if(o=c,d=c[ht]||null)g=d.formAction;else if(Cc(o)!==null)continue}else g=d.action;typeof g=="function"?i[s+1]=g:(i.splice(s,3),s-=3),Kp(i)}}}function Rc(e){this._internalRoot=e}Tr.prototype.render=Rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=wt();qp(i,s,e,t,null,null)},Tr.prototype.unmount=Rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qp(e.current,2,null,e,null,null),ar(),t[Li]=null}};function Tr(e){this._internalRoot=e}Tr.prototype.unstable_scheduleHydration=function(e){if(e){var t=ch();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Pn.length&&t!==0&&t<Pn[i].priority;i++);Pn.splice(i,0,e),i===0&&Qp(e)}};var Fp=n.version;if(Fp!=="19.1.0")throw Error(r(527,Fp,"19.1.0"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var _E={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rr.isDisabled&&Rr.supportsFiber)try{Ll=Rr.inject(_E),bt=Rr}catch{}}return za.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,s="",o=cm,c=fm,d=hm,g=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(g=t.unstable_transitionCallbacks)),t=Bp(e,1,!1,null,null,i,s,o,c,d,g,null),e[Li]=t.current,rc(e),new Rc(t)},za.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var s=!1,o="",c=cm,d=fm,g=hm,E=null,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks),i.formState!==void 0&&(A=i.formState)),t=Bp(e,1,!0,t,i??null,s,o,c,d,g,E,A),t.context=kp(null),i=t.current,s=wt(),s=pu(s),o=zn(s),o.callback=null,Un(i,o,s),i=s,t.current.lanes=i,Il(t,i),en(t),e[Li]=t.current,rc(e),new Tr(t)},za.version="19.1.0",za}var l_;function AE(){if(l_)return Dc.exports;l_=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Dc.exports=RE(),Dc.exports}var NE=AE();const DE=()=>{};var a_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(l,n){if(!l)throw Ol(n)},Ol=function(l){return new Error("Firebase Database ("+lg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=function(l){const n=[];let a=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(l.charCodeAt(++r)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},wE=function(l){const n=[];let a=0,r=0;for(;a<l.length;){const u=l[a++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=l[a++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=l[a++],h=l[a++],p=l[a++],_=((u&7)<<18|(f&63)<<12|(h&63)<<6|p&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const f=l[a++],h=l[a++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},pf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<l.length;u+=3){const f=l[u],h=u+1<l.length,p=h?l[u+1]:0,_=u+2<l.length,m=_?l[u+2]:0,y=f>>2,v=(f&3)<<4|p>>4;let S=(p&15)<<2|m>>6,O=m&63;_||(O=64,h||(S=64)),r.push(a[y],a[v],a[S],a[O])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(ag(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):wE(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<l.length;){const f=a[l.charAt(u++)],p=u<l.length?a[l.charAt(u)]:0;++u;const m=u<l.length?a[l.charAt(u)]:64;++u;const v=u<l.length?a[l.charAt(u)]:64;if(++u,f==null||p==null||m==null||v==null)throw new OE;const S=f<<2|p>>4;if(r.push(S),m!==64){const O=p<<4&240|m>>2;if(r.push(O),v!==64){const N=m<<6&192|v;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class OE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sg=function(l){const n=ag(l);return pf.encodeByteArray(n,!0)},zr=function(l){return sg(l).replace(/\./g,"")},Qc=function(l){try{return pf.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(l){return rg(void 0,l)}function rg(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const a=n;return new Date(a.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const a in n)!n.hasOwnProperty(a)||!ME(a)||(l[a]=rg(l[a],n[a]));return l}function ME(l){return l!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=()=>zE().__FIREBASE_DEFAULTS__,LE=()=>{if(typeof process>"u"||typeof a_>"u")return;const l=a_.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},HE=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&Qc(l[1]);return n&&JSON.parse(n)},ug=()=>{try{return DE()||UE()||LE()||HE()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},IE=l=>{var n,a;return(a=(n=ug())===null||n===void 0?void 0:n.emulatorHosts)===null||a===void 0?void 0:a[l]},BE=l=>{const n=IE(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),r]:[n.substring(0,a),r]},og=()=>{var l;return(l=ug())===null||l===void 0?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=n||"demo-project",u=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},l);return[zr(JSON.stringify(a)),zr(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qE())}function jE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YE(){return lg.NODE_ADMIN===!0}function GE(){try{return typeof indexedDB=="object"}catch{return!1}}function VE(){return new Promise((l,n)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),a||self.indexedDB.deleteDatabase(r),l(!0)},u.onupgradeneeded=()=>{a=!1},u.onerror=()=>{var f;n(((f=u.error)===null||f===void 0?void 0:f.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="FirebaseError";class ts extends Error{constructor(n,a,r){super(a),this.code=n,this.customData=r,this.name=QE,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fg.prototype.create)}}class fg{constructor(n,a,r){this.service=n,this.serviceName=a,this.errors=r}create(n,...a){const r=a[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?XE(f,r):"Error",p=`${this.serviceName}: ${h} (${u}).`;return new ts(u,p,r)}}function XE(l,n){return l.replace(KE,(a,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const KE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(l){return JSON.parse(l)}function $e(l){return JSON.stringify(l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=function(l){let n={},a={},r={},u="";try{const f=l.split(".");n=Qa(Qc(f[0])||""),a=Qa(Qc(f[1])||""),u=f[2],r=a.d||{},delete a.d}catch{}return{header:n,claims:a,data:r,signature:u}},FE=function(l){const n=hg(l),a=n.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},ZE=function(l){const n=hg(l).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function Al(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function s_(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Ur(l,n,a){const r={};for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=n.call(a,l[u],u,l));return r}function Lr(l,n){if(l===n)return!0;const a=Object.keys(l),r=Object.keys(n);for(const u of a){if(!r.includes(u))return!1;const f=l[u],h=n[u];if(r_(f)&&r_(h)){if(!Lr(f,h))return!1}else if(f!==h)return!1}for(const u of r)if(!a.includes(u))return!1;return!0}function r_(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(l){const n=[];for(const[a,r]of Object.entries(l))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(a)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(a)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,a){a||(a=0);const r=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)r[v]=n.charCodeAt(a)<<24|n.charCodeAt(a+1)<<16|n.charCodeAt(a+2)<<8|n.charCodeAt(a+3),a+=4;else for(let v=0;v<16;v++)r[v]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a+=4;for(let v=16;v<80;v++){const S=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(S<<1|S>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],p=this.chain_[3],_=this.chain_[4],m,y;for(let v=0;v<80;v++){v<40?v<20?(m=p^f&(h^p),y=1518500249):(m=f^h^p,y=1859775393):v<60?(m=f&h|p&(f|h),y=2400959708):(m=f^h^p,y=3395469782);const S=(u<<5|u>>>27)+m+_+y+r[v]&4294967295;_=p,p=h,h=(f<<30|f>>>2)&4294967295,f=u,u=S}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(n,a){if(n==null)return;a===void 0&&(a=n.length);const r=a-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<a;){if(h===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<a;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<a;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=a}digest(){const n=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=a&255,a/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[u]>>f&255,++r;return n}}function _f(l,n){return`${l} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=function(l){const n=[];let a=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);if(u>=55296&&u<=56319){const f=u-55296;r++,q(r<l.length,"Surrogate pair missing trail surrogate.");const h=l.charCodeAt(r)-56320;u=65536+(f<<10)+h}u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):u<65536?(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},$r=function(l){let n=0;for(let a=0;a<l.length;a++){const r=l.charCodeAt(a);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,a++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(l){return l&&l._delegate?l._delegate:l}class Xa{constructor(n,a,r){this.name=n,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const r=new Jr;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:a});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){var a;const r=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),u=(a=n==null?void 0:n.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(f){if(u)return null;throw f}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(tS(n))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=Ti){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ti){return this.instances.has(n)}getOptions(n=Ti){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[f,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&h.resolve(u)}return u}onInit(n,a){var r;const u=this.normalizeInstanceIdentifier(a),f=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;f.add(n),this.onInitCallbacks.set(u,f);const h=this.instances.get(u);return h&&n(h,u),()=>{f.delete(n)}}invokeOnInitCallbacks(n,a){const r=this.onInitCallbacks.get(a);if(r)for(const u of r)try{u(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eS(n),options:a}),this.instances.set(n,r),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Ti){return this.component?this.component.multipleInstances?n:Ti:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(l){return l===Ti?void 0:l}function tS(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new $E(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Ae||(Ae={}));const iS={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},lS=Ae.INFO,aS={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},sS=(l,n,...a)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),u=aS[n];if(u)console[u](`[${r}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class dg{constructor(n){this.name=n,this._logLevel=lS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ae))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?iS[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...n),this._logHandler(this,Ae.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...n),this._logHandler(this,Ae.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...n),this._logHandler(this,Ae.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...n),this._logHandler(this,Ae.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...n),this._logHandler(this,Ae.ERROR,...n)}}const rS=(l,n)=>n.some(a=>l instanceof a);let u_,o_;function uS(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mg=new WeakMap,Xc=new WeakMap,pg=new WeakMap,Mc=new WeakMap,gf=new WeakMap;function cS(l){const n=new Promise((a,r)=>{const u=()=>{l.removeEventListener("success",f),l.removeEventListener("error",h)},f=()=>{a(Jn(l.result)),u()},h=()=>{r(l.error),u()};l.addEventListener("success",f),l.addEventListener("error",h)});return n.then(a=>{a instanceof IDBCursor&&mg.set(a,l)}).catch(()=>{}),gf.set(n,l),n}function fS(l){if(Xc.has(l))return;const n=new Promise((a,r)=>{const u=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",h),l.removeEventListener("abort",h)},f=()=>{a(),u()},h=()=>{r(l.error||new DOMException("AbortError","AbortError")),u()};l.addEventListener("complete",f),l.addEventListener("error",h),l.addEventListener("abort",h)});Xc.set(l,n)}let Kc={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return Xc.get(l);if(n==="objectStoreNames")return l.objectStoreNames||pg.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Jn(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function hS(l){Kc=l(Kc)}function dS(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const r=l.call(zc(this),n,...a);return pg.set(r,n.sort?n.sort():[n]),Jn(r)}:oS().includes(l)?function(...n){return l.apply(zc(this),n),Jn(mg.get(this))}:function(...n){return Jn(l.apply(zc(this),n))}}function mS(l){return typeof l=="function"?dS(l):(l instanceof IDBTransaction&&fS(l),rS(l,uS())?new Proxy(l,Kc):l)}function Jn(l){if(l instanceof IDBRequest)return cS(l);if(Mc.has(l))return Mc.get(l);const n=mS(l);return n!==l&&(Mc.set(l,n),gf.set(n,l)),n}const zc=l=>gf.get(l);function pS(l,n,{blocked:a,upgrade:r,blocking:u,terminated:f}={}){const h=indexedDB.open(l,n),p=Jn(h);return r&&h.addEventListener("upgradeneeded",_=>{r(Jn(h.result),_.oldVersion,_.newVersion,Jn(h.transaction),_)}),a&&h.addEventListener("blocked",_=>a(_.oldVersion,_.newVersion,_)),p.then(_=>{f&&_.addEventListener("close",()=>f()),u&&_.addEventListener("versionchange",m=>u(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const _S=["get","getKey","getAll","getAllKeys","count"],gS=["put","add","delete","clear"],Uc=new Map;function c_(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(Uc.get(n))return Uc.get(n);const a=n.replace(/FromIndex$/,""),r=n!==a,u=gS.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(u||_S.includes(a)))return;const f=async function(h,...p){const _=this.transaction(h,u?"readwrite":"readonly");let m=_.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[a](...p),u&&_.done]))[0]};return Uc.set(n,f),f}hS(l=>({...l,get:(n,a,r)=>c_(n,a)||l.get(n,a,r),has:(n,a)=>!!c_(n,a)||l.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(vS(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function vS(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Fc="@firebase/app",f_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new dg("@firebase/app"),ES="@firebase/app-compat",SS="@firebase/analytics-compat",bS="@firebase/analytics",CS="@firebase/app-check-compat",TS="@firebase/app-check",RS="@firebase/auth",AS="@firebase/auth-compat",NS="@firebase/database",DS="@firebase/data-connect",wS="@firebase/database-compat",OS="@firebase/functions",xS="@firebase/functions-compat",MS="@firebase/installations",zS="@firebase/installations-compat",US="@firebase/messaging",LS="@firebase/messaging-compat",HS="@firebase/performance",IS="@firebase/performance-compat",BS="@firebase/remote-config",kS="@firebase/remote-config-compat",qS="@firebase/storage",jS="@firebase/storage-compat",YS="@firebase/firestore",GS="@firebase/vertexai",VS="@firebase/firestore-compat",QS="firebase",XS="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="[DEFAULT]",KS={[Fc]:"fire-core",[ES]:"fire-core-compat",[bS]:"fire-analytics",[SS]:"fire-analytics-compat",[TS]:"fire-app-check",[CS]:"fire-app-check-compat",[RS]:"fire-auth",[AS]:"fire-auth-compat",[NS]:"fire-rtdb",[DS]:"fire-data-connect",[wS]:"fire-rtdb-compat",[OS]:"fire-fn",[xS]:"fire-fn-compat",[MS]:"fire-iid",[zS]:"fire-iid-compat",[US]:"fire-fcm",[LS]:"fire-fcm-compat",[HS]:"fire-perf",[IS]:"fire-perf-compat",[BS]:"fire-rc",[kS]:"fire-rc-compat",[qS]:"fire-gcs",[jS]:"fire-gcs-compat",[YS]:"fire-fst",[VS]:"fire-fst-compat",[GS]:"fire-vertex","fire-js":"fire-js",[QS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Map,FS=new Map,Pc=new Map;function h_(l,n){try{l.container.addComponent(n)}catch(a){Sn.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function Ir(l){const n=l.name;if(Pc.has(n))return Sn.debug(`There were multiple attempts to register component ${n}.`),!1;Pc.set(n,l);for(const a of Hr.values())h_(a,l);for(const a of FS.values())h_(a,l);return!0}function ZS(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function PS(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$n=new fg("app","Firebase",WS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(n,a,r){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=XS;function yf(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const r=Object.assign({name:Zc,automaticDataCollectionEnabled:!1},n),u=r.name;if(typeof u!="string"||!u)throw $n.create("bad-app-name",{appName:String(u)});if(a||(a=og()),!a)throw $n.create("no-options");const f=Hr.get(u);if(f){if(Lr(a,f.options)&&Lr(r,f.config))return f;throw $n.create("duplicate-app",{appName:u})}const h=new nS(u);for(const _ of Pc.values())h.addComponent(_);const p=new JS(a,r,h);return Hr.set(u,p),p}function eb(l=Zc){const n=Hr.get(l);if(!n&&l===Zc&&og())return yf();if(!n)throw $n.create("no-app",{appName:l});return n}function bl(l,n,a){var r;let u=(r=KS[l])!==null&&r!==void 0?r:l;a&&(u+=`-${a}`);const f=u.match(/\s|\//),h=n.match(/\s|\//);if(f||h){const p=[`Unable to register library "${u}" with version "${n}":`];f&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),f&&h&&p.push("and"),h&&p.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Sn.warn(p.join(" "));return}Ir(new Xa(`${u}-version`,()=>({library:u,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firebase-heartbeat-database",nb=1,Ka="firebase-heartbeat-store";let Lc=null;function _g(){return Lc||(Lc=pS(tb,nb,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(Ka)}catch(a){console.warn(a)}}}}).catch(l=>{throw $n.create("idb-open",{originalErrorMessage:l.message})})),Lc}async function ib(l){try{const a=(await _g()).transaction(Ka),r=await a.objectStore(Ka).get(gg(l));return await a.done,r}catch(n){if(n instanceof ts)Sn.warn(n.message);else{const a=$n.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Sn.warn(a.message)}}}async function d_(l,n){try{const r=(await _g()).transaction(Ka,"readwrite");await r.objectStore(Ka).put(n,gg(l)),await r.done}catch(a){if(a instanceof ts)Sn.warn(a.message);else{const r=$n.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});Sn.warn(r.message)}}}function gg(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=1024,ab=30;class sb{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new ub(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,a;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=m_();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats.length>ab){const h=ob(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sn.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=m_(),{heartbeatsToSend:r,unsentEntries:u}=rb(this._heartbeatsCache.heartbeats),f=zr(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=a,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(a){return Sn.warn(a),""}}}function m_(){return new Date().toISOString().substring(0,10)}function rb(l,n=lb){const a=[];let r=l.slice();for(const u of l){const f=a.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),p_(a)>n){f.dates.pop();break}}else if(a.push({agent:u.agent,dates:[u.date]}),p_(a)>n){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class ub{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GE()?VE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await ib(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var a;if(await this._canUseIndexedDBPromise){const u=await this.read();return d_(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:u.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var a;if(await this._canUseIndexedDBPromise){const u=await this.read();return d_(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...n.heartbeats]})}else return}}function p_(l){return zr(JSON.stringify({version:2,heartbeats:l})).length}function ob(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let r=1;r<l.length;r++)l[r].date<a&&(a=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(l){Ir(new Xa("platform-logger",n=>new yS(n),"PRIVATE")),Ir(new Xa("heartbeat",n=>new sb(n),"PRIVATE")),bl(Fc,f_,l),bl(Fc,f_,"esm2017"),bl("fire-js","")}cb("");var fb="firebase",hb="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bl(fb,hb,"app");var __={};const g_="@firebase/database",y_="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yg="";function db(l){yg=l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,a){a==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),$e(a))}get(n){const a=this.domStorage_.getItem(this.prefixedName_(n));return a==null?null:Qa(a)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,a){a==null?delete this.cache_[n]:this.cache_[n]=a}get(n){return Rn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new mb(n)}}catch{}return new pb},Ai=vg("localStorage"),_b=vg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new dg("@firebase/database"),gb=function(){let l=1;return function(){return l++}}(),Eg=function(l){const n=JE(l),a=new WE;a.update(n);const r=a.digest();return pf.encodeByteArray(r)},is=function(...l){let n="";for(let a=0;a<l.length;a++){const r=l[a];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=is.apply(null,r):typeof r=="object"?n+=$e(r):n+=r,n+=" "}return n};let qa=null,v_=!0;const yb=function(l,n){q(!0,"Can't turn on custom loggers persistently."),Cl.logLevel=Ae.VERBOSE,qa=Cl.log.bind(Cl)},ot=function(...l){if(v_===!0&&(v_=!1,qa===null&&_b.get("logging_enabled")===!0&&yb()),qa){const n=is.apply(null,l);qa(n)}},ls=function(l){return function(...n){ot(l,...n)}},Wc=function(...l){const n="FIREBASE INTERNAL ERROR: "+is(...l);Cl.error(n)},bn=function(...l){const n=`FIREBASE FATAL ERROR: ${is(...l)}`;throw Cl.error(n),new Error(n)},vt=function(...l){const n="FIREBASE WARNING: "+is(...l);Cl.warn(n)},vb=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Sg=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},Eb=function(l){if(document.readyState==="complete")l();else{let n=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},Nl="[MIN_NAME]",Di="[MAX_NAME]",xl=function(l,n){if(l===n)return 0;if(l===Nl||n===Di)return-1;if(n===Nl||l===Di)return 1;{const a=E_(l),r=E_(n);return a!==null?r!==null?a-r===0?l.length-n.length:a-r:-1:r!==null?1:l<n?-1:1}},Sb=function(l,n){return l===n?0:l<n?-1:1},Ua=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+$e(n))},vf=function(l){if(typeof l!="object"||l===null)return $e(l);const n=[];for(const r in l)n.push(r);n.sort();let a="{";for(let r=0;r<n.length;r++)r!==0&&(a+=","),a+=$e(n[r]),a+=":",a+=vf(l[n[r]]);return a+="}",a},bg=function(l,n){const a=l.length;if(a<=n)return[l];const r=[];for(let u=0;u<a;u+=n)u+n>a?r.push(l.substring(u,a)):r.push(l.substring(u,u+n));return r};function Et(l,n){for(const a in l)l.hasOwnProperty(a)&&n(a,l[a])}const Cg=function(l){q(!Sg(l),"Invalid JSON number");const n=11,a=52,r=(1<<n-1)-1;let u,f,h,p,_;l===0?(f=0,h=0,u=1/l===-1/0?1:0):(u=l<0,l=Math.abs(l),l>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(l)/Math.LN2),r),f=p+r,h=Math.round(l*Math.pow(2,a-p)-Math.pow(2,a))):(f=0,h=Math.round(l/Math.pow(2,1-r-a))));const m=[];for(_=a;_;_-=1)m.push(h%2?1:0),h=Math.floor(h/2);for(_=n;_;_-=1)m.push(f%2?1:0),f=Math.floor(f/2);m.push(u?1:0),m.reverse();const y=m.join("");let v="";for(_=0;_<64;_+=8){let S=parseInt(y.substr(_,8),2).toString(16);S.length===1&&(S="0"+S),v=v+S}return v.toLowerCase()},bb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Cb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Tb(l,n){let a="Unknown Error";l==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?a="Client doesn't have permission to access the desired data.":l==="unavailable"&&(a="The service is unavailable");const r=new Error(l+" at "+n._path.toString()+": "+a);return r.code=l.toUpperCase(),r}const Rb=new RegExp("^-?(0*)\\d{1,10}$"),Ab=-2147483648,Nb=2147483647,E_=function(l){if(Rb.test(l)){const n=Number(l);if(n>=Ab&&n<=Nb)return n}return null},Ml=function(l){try{l()}catch(n){setTimeout(()=>{const a=n.stack||"";throw vt("Exception was thrown by user callback.",a),n},Math.floor(0))}},Db=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ja=function(l,n){const a=setTimeout(l,n);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(n,a){this.appCheckProvider=a,this.appName=n.name,PS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=a==null?void 0:a.getImmediate({optional:!0}),this.appCheck||a==null||a.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((a,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(a,r):a(null)},0)})}addTokenChangeListener(n){var a;(a=this.appCheckProvider)===null||a===void 0||a.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(n,a,r){this.appName_=n,this.firebaseOptions_=a,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(a=>a&&a.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(a,r):a(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(a=>a.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(a=>a.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(n)}}class wr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}wr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="5",Tg="v",Rg="s",Ag="r",Ng="f",Dg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wg="ls",Og="p",Jc="ac",xg="websocket",Mg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(n,a,r,u,f=!1,h="",p=!1,_=!1,m=null){this.secure=a,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=_,this.emulatorOptions=m,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ai.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ai.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${a}`}}function xb(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function Ug(l,n,a){q(typeof n=="string","typeof type must == string"),q(typeof a=="object","typeof params must == object");let r;if(n===xg)r=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===Mg)r=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);xb(l)&&(a.ns=l.namespace);const u=[];return Et(a,(f,h)=>{u.push(f+"="+h)}),r+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.counters_={}}incrementCounter(n,a=1){Rn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=a}get(){return xE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc={},Ic={};function Sf(l){const n=l.toString();return Hc[n]||(Hc[n]=new Mb),Hc[n]}function zb(l,n){const a=l.toString();return Ic[a]||(Ic[a]=n()),Ic[a]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,a){this.closeAfterResponse=n,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,a){for(this.pendingResponses[n]=a;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&Ml(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="start",Lb="close",Hb="pLPCommand",Ib="pRTLPCB",Lg="id",Hg="pw",Ig="ser",Bb="cb",kb="seg",qb="ts",jb="d",Yb="dframe",Bg=1870,kg=30,Gb=Bg-kg,Vb=25e3,Qb=3e4;class Sl{constructor(n,a,r,u,f,h,p){this.connId=n,this.repoInfo=a,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ls(n),this.stats_=Sf(a),this.urlFn=_=>(this.appCheckToken&&(_[Jc]=this.appCheckToken),Ug(a,Mg,_))}open(n,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new Ub(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Qb)),Eb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bf((...f)=>{const[h,p,_,m,y]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===S_)this.id=p,this.password=_;else if(h===Lb)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,p]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[S_]="t",r[Ig]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Bb]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Tg]=Ef,this.transportSessionId&&(r[Rg]=this.transportSessionId),this.lastSessionId&&(r[wg]=this.lastSessionId),this.applicationId&&(r[Og]=this.applicationId),this.appCheckToken&&(r[Jc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Dg.test(location.hostname)&&(r[Ag]=Ng);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sl.forceAllow_=!0}static forceDisallow(){Sl.forceDisallow_=!0}static isAvailable(){return Sl.forceAllow_?!0:!Sl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bb()&&!Cb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const a=$e(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const r=sg(a),u=bg(r,Gb);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,a){this.myDisconnFrame=document.createElement("iframe");const r={};r[Yb]="t",r[Lg]=n,r[Hg]=a,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const a=$e(n).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class bf{constructor(n,a,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gb(),window[Hb+this.uniqueCallbackIdentifier]=n,window[Ib+this.uniqueCallbackIdentifier]=a,this.myIFrame=bf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){ot("frame writing exception"),p.stack&&ot(p.stack),ot(p)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||ot("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,a){for(this.myID=n,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Lg]=this.myID,n[Hg]=this.myPW,n[Ig]=this.currentSerial;let a=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kg+r.length<=Bg;){const h=this.pendingSegs.shift();r=r+"&"+kb+u+"="+h.seg+"&"+qb+u+"="+h.ts+"&"+jb+u+"="+h.d,u++}return a=a+r,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(n,a,r){this.pendingSegs.push({seg:n,ts:a,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,a){this.outstandingRequests.add(a);const r=()=>{this.outstandingRequests.delete(a),this.newRequest_()},u=setTimeout(r,Math.floor(Vb)),f=()=>{clearTimeout(u),r()};this.addTag(n,f)}addTag(n,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),a())},r.onerror=()=>{ot("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=16384,Kb=45e3;let Br=null;typeof MozWebSocket<"u"?Br=MozWebSocket:typeof WebSocket<"u"&&(Br=WebSocket);class Vt{constructor(n,a,r,u,f,h,p){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ls(this.connId),this.stats_=Sf(a),this.connURL=Vt.connectionURL_(a,h,p,u,r),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,r,u,f){const h={};return h[Tg]=Ef,typeof location<"u"&&location.hostname&&Dg.test(location.hostname)&&(h[Ag]=Ng),a&&(h[Rg]=a),r&&(h[wg]=r),u&&(h[Jc]=u),f&&(h[Og]=f),Ug(n,xg,h)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ai.set("previous_websocket_failure",!0);try{let r;YE(),this.mySock=new Br(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Vt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(a);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Br!==null&&!Vt.forceDisallow_}static previouslyFailed(){return Ai.isInMemoryStorage||Ai.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ai.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const r=Qa(a);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(q(this.frames===null,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const r=this.extractFrameCount_(a);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const a=$e(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const r=bg(a,Xb);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Kb))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vt.responsesRequiredToBeHealthy=2;Vt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static get ALL_TRANSPORTS(){return[Sl,Vt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const a=Vt&&Vt.isAvailable();let r=a&&!Vt.previouslyFailed();if(n.webSocketOnly&&(a||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vt];else{const u=this.transports_=[];for(const f of Fa.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);Fa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=6e4,Zb=5e3,Pb=10*1024,Wb=100*1024,Bc="t",b_="d",Jb="s",C_="r",$b="e",T_="o",R_="a",A_="n",N_="p",e1="h";class t1{constructor(n,a,r,u,f,h,p,_,m,y){this.id=n,this.repoInfo_=a,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=_,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ls("c:"+this.id+":"),this.transportManager_=new Fa(a),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=ja(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Wb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Pb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return a=>{n===this.conn_?this.onConnectionLost_(a):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return a=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(a):n===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(n){const a={t:"d",d:n};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Bc in n){const a=n[Bc];a===R_?this.upgradeIfSecondaryHealthy_():a===C_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===T_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const a=Ua("t",n),r=Ua("d",n);if(a==="c")this.onSecondaryControl_(r);else if(a==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:N_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:R_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:A_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const a=Ua("t",n),r=Ua("d",n);a==="c"?this.onControl_(r):a==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const a=Ua(Bc,n);if(b_ in n){const r=n[b_];if(a===e1){const u=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(a===A_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===Jb?this.onConnectionShutdown_(r):a===C_?this.onReset_(r):a===$b?Wc("Server Error: "+r):a===T_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wc("Unknown control packet command: "+a)}}onHandshake_(n){const a=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),Ef!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,r),ja(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Fb))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,a){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ja(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Zb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:N_,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ai.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{put(n,a,r,u){}merge(n,a,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,a,r){}onDisconnectMerge(n,a,r){}onDisconnectCancel(n,a){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(n){this.allowedEvents_=n,this.listeners_={},q(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...a){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,a)}}on(n,a,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:a,context:r});const u=this.getInitialEvent(n);u&&a.apply(r,u)}off(n,a,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===a&&(!r||r===u[f].context)){u.splice(f,1);return}}validateEventType_(n){q(this.allowedEvents_.find(a=>a===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends jg{static getInstance(){return new kr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!cg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return q(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=32,w_=768;class Te{constructor(n,a){if(a===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=a}toString(){let n="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(n+="/"+this.pieces_[a]);return n||"/"}}function _e(){return new Te("")}function se(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function ti(l){return l.pieces_.length-l.pieceNum_}function Ne(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Te(l.pieces_,n)}function Yg(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function n1(l){let n="";for(let a=l.pieceNum_;a<l.pieces_.length;a++)l.pieces_[a]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[a])));return n||"/"}function Gg(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function Vg(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let a=l.pieceNum_;a<l.pieces_.length-1;a++)n.push(l.pieces_[a]);return new Te(n,0)}function Xe(l,n){const a=[];for(let r=l.pieceNum_;r<l.pieces_.length;r++)a.push(l.pieces_[r]);if(n instanceof Te)for(let r=n.pieceNum_;r<n.pieces_.length;r++)a.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&a.push(r[u])}return new Te(a,0)}function ce(l){return l.pieceNum_>=l.pieces_.length}function gt(l,n){const a=se(l),r=se(n);if(a===null)return n;if(a===r)return gt(Ne(l),Ne(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function Cf(l,n){if(ti(l)!==ti(n))return!1;for(let a=l.pieceNum_,r=n.pieceNum_;a<=l.pieces_.length;a++,r++)if(l.pieces_[a]!==n.pieces_[r])return!1;return!0}function Qt(l,n){let a=l.pieceNum_,r=n.pieceNum_;if(ti(l)>ti(n))return!1;for(;a<l.pieces_.length;){if(l.pieces_[a]!==n.pieces_[r])return!1;++a,++r}return!0}class i1{constructor(n,a){this.errorPrefix_=a,this.parts_=Gg(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$r(this.parts_[r]);Qg(this)}}function l1(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=$r(n),Qg(l)}function a1(l){const n=l.parts_.pop();l.byteLength_-=$r(n),l.parts_.length>0&&(l.byteLength_-=1)}function Qg(l){if(l.byteLength_>w_)throw new Error(l.errorPrefix_+"has a key path longer than "+w_+" bytes ("+l.byteLength_+").");if(l.parts_.length>D_)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+D_+") or object contains a cycle "+Ri(l))}function Ri(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends jg{static getInstance(){return new Tf}constructor(){super(["visible"]);let n,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return q(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=1e3,s1=60*5*1e3,O_=30*1e3,r1=1.3,u1=3e4,o1="server_kill",x_=3;class vn extends qg{constructor(n,a,r,u,f,h,p,_){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=vn.nextPersistentConnectionId_++,this.log_=ls("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=La,this.maxReconnectDelay_=s1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&kr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,r){const u=++this.requestNumber_,f={r:u,a:n,b:a};this.log_($e(f)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const a=new Jr,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?a.resolve(p):a.reject(p)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),a.promise}listen(n,a,r,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:a,query:n,tag:r};this.listens.get(h).set(f,p),this.connected_&&this.sendListen_(p)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(r)})}sendListen_(n){const a=n.query,r=a._path.toString(),u=a._queryIdentifier;this.log_("Listen on "+r+" for "+u);const f={p:r},h="q";n.tag&&(f.q=a._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,p=>{const _=p.d,m=p.s;vn.warnOnListenWarnings_(_,a),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",p),m!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(m,_))})}static warnOnListenWarnings_(n,a){if(n&&typeof n=="object"&&Rn(n,"w")){const r=Al(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+a._queryParams.getIndex().toString()+'"',f=a._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ZE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=O_)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=FE(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(a,r,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,r=n.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,r)})}unlisten(n,a){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,a)}sendUnlisten_(n,a,r,u){this.log_("Unlisten on "+n+" for "+a);const f={p:n},h="n";u&&(f.q=r,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,a,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:r})}onDisconnectMerge(n,a,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:r})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,r,u){const f={p:a,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,a,r,u){this.putInternal("p",n,a,r,u)}merge(n,a,r,u){this.putInternal("m",n,a,r,u)}putInternal(n,a,r,u,f){this.initConnection_();const h={p:a,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,r,f=>{this.log_(a+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+$e(n));const a=n.r,r=this.requestCBHash_[a];r&&(delete this.requestCBHash_[a],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),n==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):n==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):n==="c"?this.onListenRevoked_(a.p,a.q):n==="ac"?this.onAuthRevoked_(a.s,a.d):n==="apc"?this.onAppCheckRevoked_(a.s,a.d):n==="sd"?this.onSecurityDebugPacket_(a):Wc("Unrecognized action received from server: "+$e(n)+`
Are you using the latest client?`)}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>u1&&(this.reconnectDelay_=La),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*r1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+vn.nextConnectionId_++,f=this.lastSessionId;let h=!1,p=null;const _=function(){p?p.close():(h=!0,r())},m=function(v){q(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(v)};this.realtime_={close:_,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,S]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=S&&S.token,p=new t1(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,r,O=>{vt(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(o1)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&vt(v),_())}}}interrupt(n){ot("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ot("Resuming connection for reason: "+n),delete this.interruptReasons_[n],s_(this.interruptReasons_)&&(this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let r;a?r=a.map(f=>vf(f)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,a){const r=new Te(n).toString();let u;if(this.listens.has(r)){const f=this.listens.get(r);u=f.get(a),f.delete(a),f.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,a){ot("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=x_&&(this.reconnectDelay_=O_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){ot("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=x_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";n["sdk."+a+"."+yg.replace(/\./g,"-")]=1,cg()?n["framework.cordova"]=1:jE()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=kr.getInstance().currentlyOnline();return s_(this.interruptReasons_)&&n}}vn.nextPersistentConnectionId_=0;vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(n,a){this.name=n,this.node=a}static Wrap(n,a){return new re(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,a){const r=new re(Nl,n),u=new re(Nl,a);return this.compare(r,u)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar;class Xg extends eu{static get __EMPTY_NODE(){return Ar}static set __EMPTY_NODE(n){Ar=n}compare(n,a){return xl(n.name,a.name)}isDefinedOn(n){throw Ol("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,a){return!1}minPost(){return re.MIN}maxPost(){return new re(Di,Ar)}makePost(n,a){return q(typeof n=="string","KeyIndex indexValue must always be a string."),new re(n,Ar)}toString(){return".key"}}const Tl=new Xg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(n,a,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=a?r(n.key,a):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(n.key,n.value):a={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Je{constructor(n,a,r,u,f){this.key=n,this.value=a,this.color=r??Je.RED,this.left=u??yt.EMPTY_NODE,this.right=f??yt.EMPTY_NODE}copy(n,a,r,u,f){return new Je(n??this.key,a??this.value,r??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,r){let u=this;const f=r(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,a,r),null):f===0?u=u.copy(null,a,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,a,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let r,u;if(r=this,a(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,a),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),a(n,r.key)===0){if(r.right.isEmpty())return yt.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,a))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Je.RED=!0;Je.BLACK=!1;class c1{copy(n,a,r,u,f){return this}insert(n,a,r){return new Je(n,a,null)}remove(n,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yt{constructor(n,a=yt.EMPTY_NODE){this.comparator_=n,this.root_=a}insert(n,a){return new yt(this.comparator_,this.root_.insert(n,a,this.comparator_).copy(null,null,Je.BLACK,null,null))}remove(n){return new yt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Je.BLACK,null,null))}get(n){let a,r=this.root_;for(;!r.isEmpty();){if(a=this.comparator_(n,r.key),a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}getPredecessorKey(n){let a,r=this.root_,u=null;for(;!r.isEmpty();)if(a=this.comparator_(n,r.key),a===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else a<0?r=r.left:a>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Nr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,a){return new Nr(this.root_,n,this.comparator_,!1,a)}getReverseIteratorFrom(n,a){return new Nr(this.root_,n,this.comparator_,!0,a)}getReverseIterator(n){return new Nr(this.root_,null,this.comparator_,!0,n)}}yt.EMPTY_NODE=new c1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(l,n){return xl(l.name,n.name)}function Rf(l,n){return xl(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c;function h1(l){$c=l}const Kg=function(l){return typeof l=="number"?"number:"+Cg(l):"string:"+l},Fg=function(l){if(l.isLeafNode()){const n=l.val();q(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Rn(n,".sv"),"Priority must be a string or number.")}else q(l===$c||l.isEmpty(),"priority of unexpected type.");q(l===$c||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M_;class We{static set __childrenNodeConstructor(n){M_=n}static get __childrenNodeConstructor(){return M_}constructor(n,a=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Fg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new We(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ce(n)?this:se(n)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return n===".priority"?this.updatePriority(a):a.isEmpty()&&n!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const r=se(n);return r===null?a:a.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||ti(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Kg(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",a==="number"?n+=Cg(this.value_):n+=this.value_,this.lazyHash_=Eg(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===We.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof We.__childrenNodeConstructor?-1:(q(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,r=typeof this.value_,u=We.VALUE_TYPE_ORDER.indexOf(a),f=We.VALUE_TYPE_ORDER.indexOf(r);return q(u>=0,"Unknown leaf type: "+a),q(f>=0,"Unknown leaf type: "+r),u===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg,Pg;function d1(l){Zg=l}function m1(l){Pg=l}class p1 extends eu{compare(n,a){const r=n.node.getPriority(),u=a.node.getPriority(),f=r.compareTo(u);return f===0?xl(n.name,a.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,a){return!n.getPriority().equals(a.getPriority())}minPost(){return re.MIN}maxPost(){return new re(Di,new We("[PRIORITY-POST]",Pg))}makePost(n,a){const r=Zg(n);return new re(a,new We("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ie=new p1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=Math.log(2);class g1{constructor(n){const a=f=>parseInt(Math.log(f)/_1,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=a(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const qr=function(l,n,a,r){l.sort(n);const u=function(_,m){const y=m-_;let v,S;if(y===0)return null;if(y===1)return v=l[_],S=a?a(v):v,new Je(S,v.node,Je.BLACK,null,null);{const O=parseInt(y/2,10)+_,N=u(_,O),k=u(O+1,m);return v=l[O],S=a?a(v):v,new Je(S,v.node,Je.BLACK,N,k)}},f=function(_){let m=null,y=null,v=l.length;const S=function(N,k){const B=v-N,I=v;v-=N;const F=u(B+1,I),Y=l[B],fe=a?a(Y):Y;O(new Je(fe,Y.node,k,null,F))},O=function(N){m?(m.left=N,m=N):(y=N,m=N)};for(let N=0;N<_.count;++N){const k=_.nextBitIsOne(),B=Math.pow(2,_.count-(N+1));k?S(B,Je.BLACK):(S(B,Je.BLACK),S(B,Je.RED))}return y},h=new g1(l.length),p=f(h);return new yt(r||n,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc;const El={};class yn{static get Default(){return q(El&&Ie,"ChildrenNode.ts has not been loaded"),kc=kc||new yn({".priority":El},{".priority":Ie}),kc}constructor(n,a){this.indexes_=n,this.indexSet_=a}get(n){const a=Al(this.indexes_,n);if(!a)throw new Error("No index defined for "+n);return a instanceof yt?a:null}hasIndex(n){return Rn(this.indexSet_,n.toString())}addIndex(n,a){q(n!==Tl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=a.getIterator(re.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let p;u?p=qr(r,n.getCompare()):p=El;const _=n.toString(),m=Object.assign({},this.indexSet_);m[_]=n;const y=Object.assign({},this.indexes_);return y[_]=p,new yn(y,m)}addToIndexes(n,a){const r=Ur(this.indexes_,(u,f)=>{const h=Al(this.indexSet_,f);if(q(h,"Missing index implementation for "+f),u===El)if(h.isDefinedOn(n.node)){const p=[],_=a.getIterator(re.Wrap);let m=_.getNext();for(;m;)m.name!==n.name&&p.push(m),m=_.getNext();return p.push(n),qr(p,h.getCompare())}else return El;else{const p=a.get(n.name);let _=u;return p&&(_=_.remove(new re(n.name,p))),_.insert(n,n.node)}});return new yn(r,this.indexSet_)}removeFromIndexes(n,a){const r=Ur(this.indexes_,u=>{if(u===El)return u;{const f=a.get(n.name);return f?u.remove(new re(n.name,f)):u}});return new yn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha;class ee{static get EMPTY_NODE(){return Ha||(Ha=new ee(new yt(Rf),null,yn.Default))}constructor(n,a,r){this.children_=n,this.priorityNode_=a,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Fg(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ha}updatePriority(n){return this.children_.isEmpty()?this:new ee(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const a=this.children_.get(n);return a===null?Ha:a}}getChild(n){const a=se(n);return a===null?this:this.getImmediateChild(a).getChild(Ne(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,a){if(q(a,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(a);{const r=new re(n,a);let u,f;a.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,a),f=this.indexMap_.addToIndexes(r,this.children_));const h=u.isEmpty()?Ha:this.priorityNode_;return new ee(u,h,f)}}updateChild(n,a){const r=se(n);if(r===null)return a;{q(se(n)!==".priority"||ti(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(Ne(n),a);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let r=0,u=0,f=!0;if(this.forEachChild(Ie,(h,p)=>{a[h]=p.val(n),r++,f&&ee.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*r){const h=[];for(const p in a)h[p]=a[p];return h}else return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Kg(this.getPriority().val())+":"),this.forEachChild(Ie,(a,r)=>{const u=r.hash();u!==""&&(n+=":"+a+":"+u)}),this.lazyHash_=n===""?"":Eg(n)}return this.lazyHash_}getPredecessorChildName(n,a,r){const u=this.resolveIndex_(r);if(u){const f=u.getPredecessorKey(new re(n,a));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const r=a.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new re(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const r=a.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new re(a,this.children_.get(a)):null}forEachChild(n,a){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>a(u.name,u.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const r=this.resolveIndex_(a);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,re.Wrap);let f=u.peek();for(;f!=null&&a.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const r=this.resolveIndex_(a);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,re.Wrap);let f=u.peek();for(;f!=null&&a.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===as?-1:0}withIndex(n){if(n===Tl||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new ee(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===Tl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const r=this.getIterator(Ie),u=a.getIterator(Ie);let f=r.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Tl?null:this.indexMap_.get(n.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class y1 extends ee{constructor(){super(new yt(Rf),ee.EMPTY_NODE,yn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ee.EMPTY_NODE}isEmpty(){return!1}}const as=new y1;Object.defineProperties(re,{MIN:{value:new re(Nl,ee.EMPTY_NODE)},MAX:{value:new re(Di,as)}});Xg.__EMPTY_NODE=ee.EMPTY_NODE;We.__childrenNodeConstructor=ee;h1(as);m1(as);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=!0;function it(l,n=null){if(l===null)return ee.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),q(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const a=l;return new We(a,it(n))}if(!(l instanceof Array)&&v1){const a=[];let r=!1;if(Et(l,(h,p)=>{if(h.substring(0,1)!=="."){const _=it(p);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),a.push(new re(h,_)))}}),a.length===0)return ee.EMPTY_NODE;const f=qr(a,f1,h=>h.name,Rf);if(r){const h=qr(a,Ie.getCompare());return new ee(f,it(n),new yn({".priority":h},{".priority":Ie}))}else return new ee(f,it(n),yn.Default)}else{let a=ee.EMPTY_NODE;return Et(l,(r,u)=>{if(Rn(l,r)&&r.substring(0,1)!=="."){const f=it(u);(f.isLeafNode()||!f.isEmpty())&&(a=a.updateImmediateChild(r,f))}}),a.updatePriority(it(n))}}d1(it);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends eu{constructor(n){super(),this.indexPath_=n,q(!ce(n)&&se(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,a){const r=this.extractChild(n.node),u=this.extractChild(a.node),f=r.compareTo(u);return f===0?xl(n.name,a.name):f}makePost(n,a){const r=it(n),u=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(a,u)}maxPost(){const n=ee.EMPTY_NODE.updateChild(this.indexPath_,as);return new re(Di,n)}toString(){return Gg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends eu{compare(n,a){const r=n.node.compareTo(a.node);return r===0?xl(n.name,a.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,a){return!n.equals(a)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(n,a){const r=it(n);return new re(a,r)}toString(){return".value"}}const b1=new S1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(l){return{type:"value",snapshotNode:l}}function Dl(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function Za(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function Pa(l,n,a){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:a}}function C1(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(n){this.index_=n}updateChild(n,a,r,u,f,h){q(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=n.getImmediateChild(a);return p.getChild(u).equals(r.getChild(u))&&p.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(a)?h.trackChildChange(Za(a,p)):q(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(Dl(a,r)):h.trackChildChange(Pa(a,r,p))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(a,r).withIndex(this.index_)}updateFullNode(n,a,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Ie,(u,f)=>{a.hasChild(u)||r.trackChildChange(Za(u,f))}),a.isLeafNode()||a.forEachChild(Ie,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||r.trackChildChange(Pa(u,f,h))}else r.trackChildChange(Dl(u,f))})),a.withIndex(this.index_)}updatePriority(n,a){return n.isEmpty()?ee.EMPTY_NODE:n.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(n){this.indexedFilter_=new Af(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Wa.getStartPost_(n),this.endPost_=Wa.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return a&&r}updateChild(n,a,r,u,f,h){return this.matches(new re(a,r))||(r=ee.EMPTY_NODE),this.indexedFilter_.updateChild(n,a,r,u,f,h)}updateFullNode(n,a,r){a.isLeafNode()&&(a=ee.EMPTY_NODE);let u=a.withIndex(this.index_);u=u.updatePriority(ee.EMPTY_NODE);const f=this;return a.forEachChild(Ie,(h,p)=>{f.matches(new re(h,p))||(u=u.updateImmediateChild(h,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const a=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),a)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const a=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),a)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(n){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=a=>{const r=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Wa(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,a,r,u,f,h){return this.rangedFilter_.matches(new re(a,r))||(r=ee.EMPTY_NODE),n.getImmediateChild(a).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,a,r,u,f,h):this.fullLimitUpdateChild_(n,a,r,f,h)}updateFullNode(n,a,r){let u;if(a.isLeafNode()||a.isEmpty())u=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){u=ee.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const p=f.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))u=u.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{u=a.withIndex(this.index_),u=u.updatePriority(ee.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const p=f.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:u=u.updateImmediateChild(p.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,a,r,u,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(S,O)=>v(O,S)}else h=this.index_.getCompare();const p=n;q(p.numChildren()===this.limit_,"");const _=new re(a,r),m=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),y=this.rangedFilter_.matches(_);if(p.hasChild(a)){const v=p.getImmediateChild(a);let S=u.getChildAfterChild(this.index_,m,this.reverse_);for(;S!=null&&(S.name===a||p.hasChild(S.name));)S=u.getChildAfterChild(this.index_,S,this.reverse_);const O=S==null?1:h(S,_);if(y&&!r.isEmpty()&&O>=0)return f!=null&&f.trackChildChange(Pa(a,r,v)),p.updateImmediateChild(a,r);{f!=null&&f.trackChildChange(Za(a,v));const k=p.updateImmediateChild(a,ee.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(f!=null&&f.trackChildChange(Dl(S.name,S.node)),k.updateImmediateChild(S.name,S.node)):k}}else return r.isEmpty()?n:y&&h(m,_)>=0?(f!=null&&(f.trackChildChange(Za(m.name,m.node)),f.trackChildChange(Dl(a,r))),p.updateImmediateChild(a,r).updateImmediateChild(m.name,ee.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nl}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Di}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const n=new Nf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function R1(l){return l.loadsAllData()?new Af(l.getIndex()):l.hasLimit()?new T1(l):new Wa(l)}function z_(l){const n={};if(l.isDefault())return n;let a;if(l.index_===Ie?a="$priority":l.index_===b1?a="$value":l.index_===Tl?a="$key":(q(l.index_ instanceof E1,"Unrecognized index type!"),a=l.index_.toString()),n.orderBy=$e(a),l.startSet_){const r=l.startAfterSet_?"startAfter":"startAt";n[r]=$e(l.indexStartValue_),l.startNameSet_&&(n[r]+=","+$e(l.indexStartName_))}if(l.endSet_){const r=l.endBeforeSet_?"endBefore":"endAt";n[r]=$e(l.indexEndValue_),l.endNameSet_&&(n[r]+=","+$e(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function U_(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let a=l.viewFrom_;a===""&&(l.isViewFromLeft()?a="l":a="r"),n.vf=a}return l.index_!==Ie&&(n.i=l.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends qg{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,a){return a!==void 0?"tag$"+a:(q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,a,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=ls("p:rest:"),this.listens_={}}listen(n,a,r,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=jr.getListenId_(n,r),p={};this.listens_[h]=p;const _=z_(n._queryParams);this.restRequest_(f+".json",_,(m,y)=>{let v=y;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(f,v,!1,r),Al(this.listens_,h)===p){let S;m?m===401?S="permission_denied":S="rest_error:"+m:S="ok",u(S,null)}})}unlisten(n,a){const r=jr.getListenId_(n,a);delete this.listens_[r]}get(n){const a=z_(n._queryParams),r=n._path.toString(),u=new Jr;return this.restRequest_(r+".json",a,(f,h)=>{let p=h;f===404&&(p=null,f=null),f===null?(this.onDataUpdate_(r,p,!1,null),u.resolve(p)):u.reject(new Error(p))}),u.promise}refreshAuthToken(n){}restRequest_(n,a={},r){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(a.auth=u.accessToken),f&&f.token&&(a.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+PE(a);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let _=null;if(p.status>=200&&p.status<300){try{_=Qa(p.responseText)}catch{vt("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,_)}else p.status!==401&&p.status!==404&&vt("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,a){this.rootNode_=this.rootNode_.updateChild(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return{value:null,children:new Map}}function Jg(l,n,a){if(ce(n))l.value=a,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,a);else{const r=se(n);l.children.has(r)||l.children.set(r,Yr());const u=l.children.get(r);n=Ne(n),Jg(u,n,a)}}function ef(l,n,a){l.value!==null?a(n,l.value):N1(l,(r,u)=>{const f=new Te(n.toString()+"/"+r);ef(u,f,a)})}function N1(l,n){l.children.forEach((a,r)=>{n(r,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),a=Object.assign({},n);return this.last_&&Et(this.last_,(r,u)=>{a[r]=a[r]-u}),this.last_=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=10*1e3,w1=30*1e3,O1=5*60*1e3;class x1{constructor(n,a){this.server_=a,this.statsToReport_={},this.statsListener_=new D1(n);const r=L_+(w1-L_)*Math.random();ja(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),a={};let r=!1;Et(n,(u,f)=>{f>0&&Rn(this.statsToReport_,u)&&(a[u]=f,r=!0)}),r&&this.server_.reportStats(a),ja(this.reportStats_.bind(this),Math.floor(Math.random()*2*O1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xt||(Xt={}));function $g(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Df(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wf(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(n,a,r){this.path=n,this.affectedTree=a,this.revert=r,this.type=Xt.ACK_USER_WRITE,this.source=$g()}operationForChild(n){if(ce(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Te(n));return new Gr(_e(),a,this.revert)}}else return q(se(this.path)===n,"operationForChild called for unrelated child."),new Gr(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(n,a){this.source=n,this.path=a,this.type=Xt.LISTEN_COMPLETE}operationForChild(n){return ce(this.path)?new Ja(this.source,_e()):new Ja(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(n,a,r){this.source=n,this.path=a,this.snap=r,this.type=Xt.OVERWRITE}operationForChild(n){return ce(this.path)?new wi(this.source,_e(),this.snap.getImmediateChild(n)):new wi(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(n,a,r){this.source=n,this.path=a,this.children=r,this.type=Xt.MERGE}operationForChild(n){if(ce(this.path)){const a=this.children.subtree(new Te(n));return a.isEmpty()?null:a.value?new wi(this.source,_e(),a.value):new $a(this.source,_e(),a)}else return q(se(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new $a(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(n,a,r){this.node_=n,this.fullyInitialized_=a,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ce(n))return this.isFullyInitialized()&&!this.filtered_;const a=se(n);return this.isCompleteForChild(a)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function z1(l,n,a,r){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&l.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(C1(h.childName,h.snapshotNode))}),Ia(l,u,"child_removed",n,r,a),Ia(l,u,"child_added",n,r,a),Ia(l,u,"child_moved",f,r,a),Ia(l,u,"child_changed",n,r,a),Ia(l,u,"value",n,r,a),u}function Ia(l,n,a,r,u,f){const h=r.filter(p=>p.type===a);h.sort((p,_)=>L1(l,p,_)),h.forEach(p=>{const _=U1(l,p,f);u.forEach(m=>{m.respondsTo(p.type)&&n.push(m.createEvent(_,l.query_))})})}function U1(l,n,a){return n.type==="value"||n.type==="child_removed"||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function L1(l,n,a){if(n.childName==null||a.childName==null)throw Ol("Should only compare child_ events.");const r=new re(n.childName,n.snapshotNode),u=new re(a.childName,a.snapshotNode);return l.index_.compare(r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(l,n){return{eventCache:l,serverCache:n}}function Ya(l,n,a,r){return tu(new Oi(n,a,r),l.serverCache)}function ey(l,n,a,r){return tu(l.eventCache,new Oi(n,a,r))}function tf(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function xi(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;const H1=()=>(qc||(qc=new yt(Sb)),qc);class De{static fromObject(n){let a=new De(null);return Et(n,(r,u)=>{a=a.set(new Te(r),u)}),a}constructor(n,a=H1()){this.value=n,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,a){if(this.value!=null&&a(this.value))return{path:_e(),value:this.value};if(ce(n))return null;{const r=se(n),u=this.children.get(r);if(u!==null){const f=u.findRootMostMatchingPathAndValue(Ne(n),a);return f!=null?{path:Xe(new Te(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ce(n))return this;{const a=se(n),r=this.children.get(a);return r!==null?r.subtree(Ne(n)):new De(null)}}set(n,a){if(ce(n))return new De(a,this.children);{const r=se(n),f=(this.children.get(r)||new De(null)).set(Ne(n),a),h=this.children.insert(r,f);return new De(this.value,h)}}remove(n){if(ce(n))return this.children.isEmpty()?new De(null):new De(null,this.children);{const a=se(n),r=this.children.get(a);if(r){const u=r.remove(Ne(n));let f;return u.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,u),this.value===null&&f.isEmpty()?new De(null):new De(this.value,f)}else return this}}get(n){if(ce(n))return this.value;{const a=se(n),r=this.children.get(a);return r?r.get(Ne(n)):null}}setTree(n,a){if(ce(n))return a;{const r=se(n),f=(this.children.get(r)||new De(null)).setTree(Ne(n),a);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new De(this.value,h)}}fold(n){return this.fold_(_e(),n)}fold_(n,a){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(Xe(n,u),a)}),a(n,this.value,r)}findOnPath(n,a){return this.findOnPath_(n,_e(),a)}findOnPath_(n,a,r){const u=this.value?r(a,this.value):!1;if(u)return u;if(ce(n))return null;{const f=se(n),h=this.children.get(f);return h?h.findOnPath_(Ne(n),Xe(a,f),r):null}}foreachOnPath(n,a){return this.foreachOnPath_(n,_e(),a)}foreachOnPath_(n,a,r){if(ce(n))return this;{this.value&&r(a,this.value);const u=se(n),f=this.children.get(u);return f?f.foreachOnPath_(Ne(n),Xe(a,u),r):new De(null)}}foreach(n){this.foreach_(_e(),n)}foreach_(n,a){this.children.inorderTraversal((r,u)=>{u.foreach_(Xe(n,r),a)}),this.value&&a(n,this.value)}foreachChild(n){this.children.inorderTraversal((a,r)=>{r.value&&n(a,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(n){this.writeTree_=n}static empty(){return new Kt(new De(null))}}function Ga(l,n,a){if(ce(n))return new Kt(new De(a));{const r=l.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let f=r.value;const h=gt(u,n);return f=f.updateChild(h,a),new Kt(l.writeTree_.set(u,f))}else{const u=new De(a),f=l.writeTree_.setTree(n,u);return new Kt(f)}}}function H_(l,n,a){let r=l;return Et(a,(u,f)=>{r=Ga(r,Xe(n,u),f)}),r}function I_(l,n){if(ce(n))return Kt.empty();{const a=l.writeTree_.setTree(n,new De(null));return new Kt(a)}}function nf(l,n){return Mi(l,n)!=null}function Mi(l,n){const a=l.writeTree_.findRootMostValueAndPath(n);return a!=null?l.writeTree_.get(a.path).getChild(gt(a.path,n)):null}function B_(l){const n=[],a=l.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(Ie,(r,u)=>{n.push(new re(r,u))}):l.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new re(r,u.value))}),n}function ei(l,n){if(ce(n))return l;{const a=Mi(l,n);return a!=null?new Kt(new De(a)):new Kt(l.writeTree_.subtree(n))}}function lf(l){return l.writeTree_.isEmpty()}function wl(l,n){return ty(_e(),l.writeTree_,n)}function ty(l,n,a){if(n.value!=null)return a.updateChild(l,n.value);{let r=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(q(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):a=ty(Xe(l,u),f,a)}),!a.getChild(l).isEmpty()&&r!==null&&(a=a.updateChild(Xe(l,".priority"),r)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(l,n){return ay(n,l)}function I1(l,n,a,r,u){q(r>l.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),l.allWrites.push({path:n,snap:a,writeId:r,visible:u}),u&&(l.visibleWrites=Ga(l.visibleWrites,n,a)),l.lastWriteId=r}function B1(l,n){for(let a=0;a<l.allWrites.length;a++){const r=l.allWrites[a];if(r.writeId===n)return r}return null}function k1(l,n){const a=l.allWrites.findIndex(p=>p.writeId===n);q(a>=0,"removeWrite called with nonexistent writeId.");const r=l.allWrites[a];l.allWrites.splice(a,1);let u=r.visible,f=!1,h=l.allWrites.length-1;for(;u&&h>=0;){const p=l.allWrites[h];p.visible&&(h>=a&&q1(p,r.path)?u=!1:Qt(r.path,p.path)&&(f=!0)),h--}if(u){if(f)return j1(l),!0;if(r.snap)l.visibleWrites=I_(l.visibleWrites,r.path);else{const p=r.children;Et(p,_=>{l.visibleWrites=I_(l.visibleWrites,Xe(r.path,_))})}return!0}else return!1}function q1(l,n){if(l.snap)return Qt(l.path,n);for(const a in l.children)if(l.children.hasOwnProperty(a)&&Qt(Xe(l.path,a),n))return!0;return!1}function j1(l){l.visibleWrites=ny(l.allWrites,Y1,_e()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function Y1(l){return l.visible}function ny(l,n,a){let r=Kt.empty();for(let u=0;u<l.length;++u){const f=l[u];if(n(f)){const h=f.path;let p;if(f.snap)Qt(a,h)?(p=gt(a,h),r=Ga(r,p,f.snap)):Qt(h,a)&&(p=gt(h,a),r=Ga(r,_e(),f.snap.getChild(p)));else if(f.children){if(Qt(a,h))p=gt(a,h),r=H_(r,p,f.children);else if(Qt(h,a))if(p=gt(h,a),ce(p))r=H_(r,_e(),f.children);else{const _=Al(f.children,se(p));if(_){const m=_.getChild(Ne(p));r=Ga(r,_e(),m)}}}else throw Ol("WriteRecord should have .snap or .children")}}return r}function iy(l,n,a,r,u){if(!r&&!u){const f=Mi(l.visibleWrites,n);if(f!=null)return f;{const h=ei(l.visibleWrites,n);if(lf(h))return a;if(a==null&&!nf(h,_e()))return null;{const p=a||ee.EMPTY_NODE;return wl(h,p)}}}else{const f=ei(l.visibleWrites,n);if(!u&&lf(f))return a;if(!u&&a==null&&!nf(f,_e()))return null;{const h=function(m){return(m.visible||u)&&(!r||!~r.indexOf(m.writeId))&&(Qt(m.path,n)||Qt(n,m.path))},p=ny(l.allWrites,h,n),_=a||ee.EMPTY_NODE;return wl(p,_)}}}function G1(l,n,a){let r=ee.EMPTY_NODE;const u=Mi(l.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(Ie,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(a){const f=ei(l.visibleWrites,n);return a.forEachChild(Ie,(h,p)=>{const _=wl(ei(f,new Te(h)),p);r=r.updateImmediateChild(h,_)}),B_(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=ei(l.visibleWrites,n);return B_(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function V1(l,n,a,r,u){q(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=Xe(n,a);if(nf(l.visibleWrites,f))return null;{const h=ei(l.visibleWrites,f);return lf(h)?u.getChild(a):wl(h,u.getChild(a))}}function Q1(l,n,a,r){const u=Xe(n,a),f=Mi(l.visibleWrites,u);if(f!=null)return f;if(r.isCompleteForChild(a)){const h=ei(l.visibleWrites,u);return wl(h,r.getNode().getImmediateChild(a))}else return null}function X1(l,n){return Mi(l.visibleWrites,n)}function K1(l,n,a,r,u,f,h){let p;const _=ei(l.visibleWrites,n),m=Mi(_,_e());if(m!=null)p=m;else if(a!=null)p=wl(_,a);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const y=[],v=h.getCompare(),S=f?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let O=S.getNext();for(;O&&y.length<u;)v(O,r)!==0&&y.push(O),O=S.getNext();return y}else return[]}function F1(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function Vr(l,n,a,r){return iy(l.writeTree,l.treePath,n,a,r)}function xf(l,n){return G1(l.writeTree,l.treePath,n)}function k_(l,n,a,r){return V1(l.writeTree,l.treePath,n,a,r)}function Qr(l,n){return X1(l.writeTree,Xe(l.treePath,n))}function Z1(l,n,a,r,u,f){return K1(l.writeTree,l.treePath,n,a,r,u,f)}function Mf(l,n,a){return Q1(l.writeTree,l.treePath,n,a)}function ly(l,n){return ay(Xe(l.treePath,n),l.writeTree)}function ay(l,n){return{treePath:l,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.changeMap=new Map}trackChildChange(n){const a=n.type,r=n.childName;q(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if(a==="child_added"&&f==="child_removed")this.changeMap.set(r,Pa(r,n.snapshotNode,u.snapshotNode));else if(a==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(a==="child_removed"&&f==="child_changed")this.changeMap.set(r,Za(r,u.oldSnap));else if(a==="child_changed"&&f==="child_added")this.changeMap.set(r,Dl(r,n.snapshotNode));else if(a==="child_changed"&&f==="child_changed")this.changeMap.set(r,Pa(r,n.snapshotNode,u.oldSnap));else throw Ol("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{getCompleteChild(n){return null}getChildAfterChild(n,a,r){return null}}const sy=new W1;class zf{constructor(n,a,r=null){this.writes_=n,this.viewCache_=a,this.optCompleteServerCache_=r}getCompleteChild(n){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(n))return a.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new Oi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mf(this.writes_,n,r)}}getChildAfterChild(n,a,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xi(this.viewCache_),f=Z1(this.writes_,u,a,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(l){return{filter:l}}function $1(l,n){q(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),q(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function eC(l,n,a,r,u){const f=new P1;let h,p;if(a.type===Xt.OVERWRITE){const m=a;m.source.fromUser?h=af(l,n,m.path,m.snap,r,u,f):(q(m.source.fromServer,"Unknown source."),p=m.source.tagged||n.serverCache.isFiltered()&&!ce(m.path),h=Xr(l,n,m.path,m.snap,r,u,p,f))}else if(a.type===Xt.MERGE){const m=a;m.source.fromUser?h=nC(l,n,m.path,m.children,r,u,f):(q(m.source.fromServer,"Unknown source."),p=m.source.tagged||n.serverCache.isFiltered(),h=sf(l,n,m.path,m.children,r,u,p,f))}else if(a.type===Xt.ACK_USER_WRITE){const m=a;m.revert?h=aC(l,n,m.path,r,u,f):h=iC(l,n,m.path,m.affectedTree,r,u,f)}else if(a.type===Xt.LISTEN_COMPLETE)h=lC(l,n,a.path,r,f);else throw Ol("Unknown operation type: "+a.type);const _=f.getChanges();return tC(n,h,_),{viewCache:h,changes:_}}function tC(l,n,a){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=tf(l);(a.length>0||!l.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&a.push(Wg(tf(n)))}}function ry(l,n,a,r,u,f){const h=n.eventCache;if(Qr(r,a)!=null)return n;{let p,_;if(ce(a))if(q(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const m=xi(n),y=m instanceof ee?m:ee.EMPTY_NODE,v=xf(r,y);p=l.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const m=Vr(r,xi(n));p=l.filter.updateFullNode(n.eventCache.getNode(),m,f)}else{const m=se(a);if(m===".priority"){q(ti(a)===1,"Can't have a priority with additional path components");const y=h.getNode();_=n.serverCache.getNode();const v=k_(r,a,y,_);v!=null?p=l.filter.updatePriority(y,v):p=h.getNode()}else{const y=Ne(a);let v;if(h.isCompleteForChild(m)){_=n.serverCache.getNode();const S=k_(r,a,h.getNode(),_);S!=null?v=h.getNode().getImmediateChild(m).updateChild(y,S):v=h.getNode().getImmediateChild(m)}else v=Mf(r,m,n.serverCache);v!=null?p=l.filter.updateChild(h.getNode(),m,v,y,u,f):p=h.getNode()}}return Ya(n,p,h.isFullyInitialized()||ce(a),l.filter.filtersNodes())}}function Xr(l,n,a,r,u,f,h,p){const _=n.serverCache;let m;const y=h?l.filter:l.filter.getIndexedFilter();if(ce(a))m=y.updateFullNode(_.getNode(),r,null);else if(y.filtersNodes()&&!_.isFiltered()){const O=_.getNode().updateChild(a,r);m=y.updateFullNode(_.getNode(),O,null)}else{const O=se(a);if(!_.isCompleteForPath(a)&&ti(a)>1)return n;const N=Ne(a),B=_.getNode().getImmediateChild(O).updateChild(N,r);O===".priority"?m=y.updatePriority(_.getNode(),B):m=y.updateChild(_.getNode(),O,B,N,sy,null)}const v=ey(n,m,_.isFullyInitialized()||ce(a),y.filtersNodes()),S=new zf(u,v,f);return ry(l,v,a,u,S,p)}function af(l,n,a,r,u,f,h){const p=n.eventCache;let _,m;const y=new zf(u,n,f);if(ce(a))m=l.filter.updateFullNode(n.eventCache.getNode(),r,h),_=Ya(n,m,!0,l.filter.filtersNodes());else{const v=se(a);if(v===".priority")m=l.filter.updatePriority(n.eventCache.getNode(),r),_=Ya(n,m,p.isFullyInitialized(),p.isFiltered());else{const S=Ne(a),O=p.getNode().getImmediateChild(v);let N;if(ce(S))N=r;else{const k=y.getCompleteChild(v);k!=null?Yg(S)===".priority"&&k.getChild(Vg(S)).isEmpty()?N=k:N=k.updateChild(S,r):N=ee.EMPTY_NODE}if(O.equals(N))_=n;else{const k=l.filter.updateChild(p.getNode(),v,N,S,y,h);_=Ya(n,k,p.isFullyInitialized(),l.filter.filtersNodes())}}}return _}function q_(l,n){return l.eventCache.isCompleteForChild(n)}function nC(l,n,a,r,u,f,h){let p=n;return r.foreach((_,m)=>{const y=Xe(a,_);q_(n,se(y))&&(p=af(l,p,y,m,u,f,h))}),r.foreach((_,m)=>{const y=Xe(a,_);q_(n,se(y))||(p=af(l,p,y,m,u,f,h))}),p}function j_(l,n,a){return a.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function sf(l,n,a,r,u,f,h,p){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let _=n,m;ce(a)?m=r:m=new De(null).setTree(a,r);const y=n.serverCache.getNode();return m.children.inorderTraversal((v,S)=>{if(y.hasChild(v)){const O=n.serverCache.getNode().getImmediateChild(v),N=j_(l,O,S);_=Xr(l,_,new Te(v),N,u,f,h,p)}}),m.children.inorderTraversal((v,S)=>{const O=!n.serverCache.isCompleteForChild(v)&&S.value===null;if(!y.hasChild(v)&&!O){const N=n.serverCache.getNode().getImmediateChild(v),k=j_(l,N,S);_=Xr(l,_,new Te(v),k,u,f,h,p)}}),_}function iC(l,n,a,r,u,f,h){if(Qr(u,a)!=null)return n;const p=n.serverCache.isFiltered(),_=n.serverCache;if(r.value!=null){if(ce(a)&&_.isFullyInitialized()||_.isCompleteForPath(a))return Xr(l,n,a,_.getNode().getChild(a),u,f,p,h);if(ce(a)){let m=new De(null);return _.getNode().forEachChild(Tl,(y,v)=>{m=m.set(new Te(y),v)}),sf(l,n,a,m,u,f,p,h)}else return n}else{let m=new De(null);return r.foreach((y,v)=>{const S=Xe(a,y);_.isCompleteForPath(S)&&(m=m.set(y,_.getNode().getChild(S)))}),sf(l,n,a,m,u,f,p,h)}}function lC(l,n,a,r,u){const f=n.serverCache,h=ey(n,f.getNode(),f.isFullyInitialized()||ce(a),f.isFiltered());return ry(l,h,a,r,sy,u)}function aC(l,n,a,r,u,f){let h;if(Qr(r,a)!=null)return n;{const p=new zf(r,n,u),_=n.eventCache.getNode();let m;if(ce(a)||se(a)===".priority"){let y;if(n.serverCache.isFullyInitialized())y=Vr(r,xi(n));else{const v=n.serverCache.getNode();q(v instanceof ee,"serverChildren would be complete if leaf node"),y=xf(r,v)}y=y,m=l.filter.updateFullNode(_,y,f)}else{const y=se(a);let v=Mf(r,y,n.serverCache);v==null&&n.serverCache.isCompleteForChild(y)&&(v=_.getImmediateChild(y)),v!=null?m=l.filter.updateChild(_,y,v,Ne(a),p,f):n.eventCache.getNode().hasChild(y)?m=l.filter.updateChild(_,y,ee.EMPTY_NODE,Ne(a),p,f):m=_,m.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Vr(r,xi(n)),h.isLeafNode()&&(m=l.filter.updateFullNode(m,h,f)))}return h=n.serverCache.isFullyInitialized()||Qr(r,_e())!=null,Ya(n,m,h,l.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(n,a){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new Af(r.getIndex()),f=R1(r);this.processor_=J1(f);const h=a.serverCache,p=a.eventCache,_=u.updateFullNode(ee.EMPTY_NODE,h.getNode(),null),m=f.updateFullNode(ee.EMPTY_NODE,p.getNode(),null),y=new Oi(_,h.isFullyInitialized(),u.filtersNodes()),v=new Oi(m,p.isFullyInitialized(),f.filtersNodes());this.viewCache_=tu(v,y),this.eventGenerator_=new M1(this.query_)}get query(){return this.query_}}function rC(l){return l.viewCache_.serverCache.getNode()}function uC(l,n){const a=xi(l.viewCache_);return a&&(l.query._queryParams.loadsAllData()||!ce(n)&&!a.getImmediateChild(se(n)).isEmpty())?a.getChild(n):null}function Y_(l){return l.eventRegistrations_.length===0}function oC(l,n){l.eventRegistrations_.push(n)}function G_(l,n,a){const r=[];if(a){q(n==null,"A cancel should cancel all event registrations.");const u=l.query._path;l.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(a,u);h&&r.push(h)})}if(n){let u=[];for(let f=0;f<l.eventRegistrations_.length;++f){const h=l.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=u}else l.eventRegistrations_=[];return r}function V_(l,n,a,r){n.type===Xt.MERGE&&n.source.queryId!==null&&(q(xi(l.viewCache_),"We should always have a full cache before handling merges"),q(tf(l.viewCache_),"Missing event cache, even though we have a server cache"));const u=l.viewCache_,f=eC(l.processor_,u,n,a,r);return $1(l.processor_,f.viewCache),q(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,uy(l,f.changes,f.viewCache.eventCache.getNode(),null)}function cC(l,n){const a=l.viewCache_.eventCache,r=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Ie,(f,h)=>{r.push(Dl(f,h))}),a.isFullyInitialized()&&r.push(Wg(a.getNode())),uy(l,r,a.getNode(),n)}function uy(l,n,a,r){const u=r?[r]:l.eventRegistrations_;return z1(l.eventGenerator_,n,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr;class fC{constructor(){this.views=new Map}}function hC(l){q(!Kr,"__referenceConstructor has already been defined"),Kr=l}function dC(){return q(Kr,"Reference.ts has not been loaded"),Kr}function mC(l){return l.views.size===0}function Uf(l,n,a,r){const u=n.source.queryId;if(u!==null){const f=l.views.get(u);return q(f!=null,"SyncTree gave us an op for an invalid query."),V_(f,n,a,r)}else{let f=[];for(const h of l.views.values())f=f.concat(V_(h,n,a,r));return f}}function pC(l,n,a,r,u){const f=n._queryIdentifier,h=l.views.get(f);if(!h){let p=Vr(a,u?r:null),_=!1;p?_=!0:r instanceof ee?(p=xf(a,r),_=!1):(p=ee.EMPTY_NODE,_=!1);const m=tu(new Oi(p,_,!1),new Oi(r,u,!1));return new sC(n,m)}return h}function _C(l,n,a,r,u,f){const h=pC(l,n,r,u,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,h),oC(h,a),cC(h,a)}function gC(l,n,a,r){const u=n._queryIdentifier,f=[];let h=[];const p=ni(l);if(u==="default")for(const[_,m]of l.views.entries())h=h.concat(G_(m,a,r)),Y_(m)&&(l.views.delete(_),m.query._queryParams.loadsAllData()||f.push(m.query));else{const _=l.views.get(u);_&&(h=h.concat(G_(_,a,r)),Y_(_)&&(l.views.delete(u),_.query._queryParams.loadsAllData()||f.push(_.query)))}return p&&!ni(l)&&f.push(new(dC())(n._repo,n._path)),{removed:f,events:h}}function oy(l){const n=[];for(const a of l.views.values())a.query._queryParams.loadsAllData()||n.push(a);return n}function Rl(l,n){let a=null;for(const r of l.views.values())a=a||uC(r,n);return a}function cy(l,n){if(n._queryParams.loadsAllData())return nu(l);{const r=n._queryIdentifier;return l.views.get(r)}}function fy(l,n){return cy(l,n)!=null}function ni(l){return nu(l)!=null}function nu(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr;function yC(l){q(!Fr,"__referenceConstructor has already been defined"),Fr=l}function vC(){return q(Fr,"Reference.ts has not been loaded"),Fr}let EC=1;class Q_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new De(null),this.pendingWriteTree_=F1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hy(l,n,a,r,u){return I1(l.pendingWriteTree_,n,a,r,u),u?ss(l,new wi($g(),n,a)):[]}function Ni(l,n,a=!1){const r=B1(l.pendingWriteTree_,n);if(k1(l.pendingWriteTree_,n)){let f=new De(null);return r.snap!=null?f=f.set(_e(),!0):Et(r.children,h=>{f=f.set(new Te(h),!0)}),ss(l,new Gr(r.path,f,a))}else return[]}function iu(l,n,a){return ss(l,new wi(Df(),n,a))}function SC(l,n,a){const r=De.fromObject(a);return ss(l,new $a(Df(),n,r))}function bC(l,n){return ss(l,new Ja(Df(),n))}function CC(l,n,a){const r=Hf(l,a);if(r){const u=If(r),f=u.path,h=u.queryId,p=gt(f,n),_=new Ja(wf(h),p);return Bf(l,f,_)}else return[]}function rf(l,n,a,r,u=!1){const f=n._path,h=l.syncPointTree_.get(f);let p=[];if(h&&(n._queryIdentifier==="default"||fy(h,n))){const _=gC(h,n,a,r);mC(h)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const m=_.removed;if(p=_.events,!u){const y=m.findIndex(S=>S._queryParams.loadsAllData())!==-1,v=l.syncPointTree_.findOnPath(f,(S,O)=>ni(O));if(y&&!v){const S=l.syncPointTree_.subtree(f);if(!S.isEmpty()){const O=AC(S);for(let N=0;N<O.length;++N){const k=O[N],B=k.query,I=py(l,k);l.listenProvider_.startListening(Va(B),Zr(l,B),I.hashFn,I.onComplete)}}}!v&&m.length>0&&!r&&(y?l.listenProvider_.stopListening(Va(n),null):m.forEach(S=>{const O=l.queryToTagMap.get(lu(S));l.listenProvider_.stopListening(Va(S),O)}))}NC(l,m)}return p}function TC(l,n,a,r){const u=Hf(l,r);if(u!=null){const f=If(u),h=f.path,p=f.queryId,_=gt(h,n),m=new wi(wf(p),_,a);return Bf(l,h,m)}else return[]}function RC(l,n,a,r){const u=Hf(l,r);if(u){const f=If(u),h=f.path,p=f.queryId,_=gt(h,n),m=De.fromObject(a),y=new $a(wf(p),_,m);return Bf(l,h,y)}else return[]}function X_(l,n,a,r=!1){const u=n._path;let f=null,h=!1;l.syncPointTree_.foreachOnPath(u,(S,O)=>{const N=gt(S,u);f=f||Rl(O,N),h=h||ni(O)});let p=l.syncPointTree_.get(u);p?(h=h||ni(p),f=f||Rl(p,_e())):(p=new fC,l.syncPointTree_=l.syncPointTree_.set(u,p));let _;f!=null?_=!0:(_=!1,f=ee.EMPTY_NODE,l.syncPointTree_.subtree(u).foreachChild((O,N)=>{const k=Rl(N,_e());k&&(f=f.updateImmediateChild(O,k))}));const m=fy(p,n);if(!m&&!n._queryParams.loadsAllData()){const S=lu(n);q(!l.queryToTagMap.has(S),"View does not exist, but we have a tag");const O=DC();l.queryToTagMap.set(S,O),l.tagToQueryMap.set(O,S)}const y=Of(l.pendingWriteTree_,u);let v=_C(p,n,a,y,f,_);if(!m&&!h&&!r){const S=cy(p,n);v=v.concat(wC(l,n,S))}return v}function Lf(l,n,a){const u=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(h,p)=>{const _=gt(h,n),m=Rl(p,_);if(m)return m});return iy(u,n,f,a,!0)}function ss(l,n){return dy(n,l.syncPointTree_,null,Of(l.pendingWriteTree_,_e()))}function dy(l,n,a,r){if(ce(l.path))return my(l,n,a,r);{const u=n.get(_e());a==null&&u!=null&&(a=Rl(u,_e()));let f=[];const h=se(l.path),p=l.operationForChild(h),_=n.children.get(h);if(_&&p){const m=a?a.getImmediateChild(h):null,y=ly(r,h);f=f.concat(dy(p,_,m,y))}return u&&(f=f.concat(Uf(u,l,r,a))),f}}function my(l,n,a,r){const u=n.get(_e());a==null&&u!=null&&(a=Rl(u,_e()));let f=[];return n.children.inorderTraversal((h,p)=>{const _=a?a.getImmediateChild(h):null,m=ly(r,h),y=l.operationForChild(h);y&&(f=f.concat(my(y,p,_,m)))}),u&&(f=f.concat(Uf(u,l,r,a))),f}function py(l,n){const a=n.query,r=Zr(l,a);return{hashFn:()=>(rC(n)||ee.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?CC(l,a._path,r):bC(l,a._path);{const f=Tb(u,a);return rf(l,a,null,f)}}}}function Zr(l,n){const a=lu(n);return l.queryToTagMap.get(a)}function lu(l){return l._path.toString()+"$"+l._queryIdentifier}function Hf(l,n){return l.tagToQueryMap.get(n)}function If(l){const n=l.indexOf("$");return q(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Te(l.substr(0,n))}}function Bf(l,n,a){const r=l.syncPointTree_.get(n);q(r,"Missing sync point for query tag that we're tracking");const u=Of(l.pendingWriteTree_,n);return Uf(r,a,u,null)}function AC(l){return l.fold((n,a,r)=>{if(a&&ni(a))return[nu(a)];{let u=[];return a&&(u=oy(a)),Et(r,(f,h)=>{u=u.concat(h)}),u}})}function Va(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(vC())(l._repo,l._path):l}function NC(l,n){for(let a=0;a<n.length;++a){const r=n[a];if(!r._queryParams.loadsAllData()){const u=lu(r),f=l.queryToTagMap.get(u);l.queryToTagMap.delete(u),l.tagToQueryMap.delete(f)}}}function DC(){return EC++}function wC(l,n,a){const r=n._path,u=Zr(l,n),f=py(l,a),h=l.listenProvider_.startListening(Va(n),u,f.hashFn,f.onComplete),p=l.syncPointTree_.subtree(r);if(u)q(!ni(p.value),"If we're adding a query, it shouldn't be shadowed");else{const _=p.fold((m,y,v)=>{if(!ce(m)&&y&&ni(y))return[nu(y).query];{let S=[];return y&&(S=S.concat(oy(y).map(O=>O.query))),Et(v,(O,N)=>{S=S.concat(N)}),S}});for(let m=0;m<_.length;++m){const y=_[m];l.listenProvider_.stopListening(Va(y),Zr(l,y))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(n){this.node_=n}getImmediateChild(n){const a=this.node_.getImmediateChild(n);return new kf(a)}node(){return this.node_}}class qf{constructor(n,a){this.syncTree_=n,this.path_=a}getImmediateChild(n){const a=Xe(this.path_,n);return new qf(this.syncTree_,a)}node(){return Lf(this.syncTree_,this.path_)}}const OC=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},K_=function(l,n,a){if(!l||typeof l!="object")return l;if(q(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return xC(l[".sv"],n,a);if(typeof l[".sv"]=="object")return MC(l[".sv"],n);q(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},xC=function(l,n,a){switch(l){case"timestamp":return a.timestamp;default:q(!1,"Unexpected server value: "+l)}},MC=function(l,n,a){l.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const r=l.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);const u=n.node();if(q(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const h=u.getValue();return typeof h!="number"?r:h+r},zC=function(l,n,a,r){return jf(n,new qf(a,l),r)},_y=function(l,n,a){return jf(l,new kf(n),a)};function jf(l,n,a){const r=l.getPriority().val(),u=K_(r,n.getImmediateChild(".priority"),a);let f;if(l.isLeafNode()){const h=l,p=K_(h.getValue(),n,a);return p!==h.getValue()||u!==h.getPriority().val()?new We(p,it(u)):l}else{const h=l;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new We(u))),h.forEachChild(Ie,(p,_)=>{const m=jf(_,n.getImmediateChild(p),a);m!==_&&(f=f.updateImmediateChild(p,m))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(n="",a=null,r={children:{},childCount:0}){this.name=n,this.parent=a,this.node=r}}function Gf(l,n){let a=n instanceof Te?n:new Te(n),r=l,u=se(a);for(;u!==null;){const f=Al(r.node.children,u)||{children:{},childCount:0};r=new Yf(u,r,f),a=Ne(a),u=se(a)}return r}function zl(l){return l.node.value}function gy(l,n){l.node.value=n,uf(l)}function yy(l){return l.node.childCount>0}function UC(l){return zl(l)===void 0&&!yy(l)}function au(l,n){Et(l.node.children,(a,r)=>{n(new Yf(a,l,r))})}function vy(l,n,a,r){a&&n(l),au(l,u=>{vy(u,n,!0)})}function LC(l,n,a){let r=l.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function rs(l){return new Te(l.parent===null?l.name:rs(l.parent)+"/"+l.name)}function uf(l){l.parent!==null&&HC(l.parent,l.name,l)}function HC(l,n,a){const r=UC(a),u=Rn(l.node.children,n);r&&u?(delete l.node.children[n],l.node.childCount--,uf(l)):!r&&!u&&(l.node.children[n]=a.node,l.node.childCount++,uf(l))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=/[\[\].#$\/\u0000-\u001F\u007F]/,BC=/[\[\].#$\u0000-\u001F\u007F]/,jc=10*1024*1024,Ey=function(l){return typeof l=="string"&&l.length!==0&&!IC.test(l)},Sy=function(l){return typeof l=="string"&&l.length!==0&&!BC.test(l)},kC=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Sy(l)},qC=function(l,n,a,r){Vf(_f(l,"value"),n,a)},Vf=function(l,n,a){const r=a instanceof Te?new i1(a,l):a;if(n===void 0)throw new Error(l+"contains undefined "+Ri(r));if(typeof n=="function")throw new Error(l+"contains a function "+Ri(r)+" with contents = "+n.toString());if(Sg(n))throw new Error(l+"contains "+n.toString()+" "+Ri(r));if(typeof n=="string"&&n.length>jc/3&&$r(n)>jc)throw new Error(l+"contains a string greater than "+jc+" utf8 bytes "+Ri(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(Et(n,(h,p)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Ey(h)))throw new Error(l+" contains an invalid key ("+h+") "+Ri(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);l1(r,h),Vf(l,p,r),a1(r)}),u&&f)throw new Error(l+' contains ".value" child '+Ri(r)+" in addition to actual children.")}},by=function(l,n,a,r){if(!Sy(a))throw new Error(_f(l,n)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jC=function(l,n,a,r){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),by(l,n,a)},YC=function(l,n){if(se(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},GC=function(l,n){const a=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Ey(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!kC(a))throw new Error(_f(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qf(l,n){let a=null;for(let r=0;r<n.length;r++){const u=n[r],f=u.getPath();a!==null&&!Cf(f,a.path)&&(l.eventLists_.push(a),a=null),a===null&&(a={events:[],path:f}),a.events.push(u)}a&&l.eventLists_.push(a)}function Cy(l,n,a){Qf(l,a),Ty(l,r=>Cf(r,n))}function Cn(l,n,a){Qf(l,a),Ty(l,r=>Qt(r,n)||Qt(n,r))}function Ty(l,n){l.recursionDepth_++;let a=!0;for(let r=0;r<l.eventLists_.length;r++){const u=l.eventLists_[r];if(u){const f=u.path;n(f)?(QC(l.eventLists_[r]),l.eventLists_[r]=null):a=!1}}a&&(l.eventLists_=[]),l.recursionDepth_--}function QC(l){for(let n=0;n<l.events.length;n++){const a=l.events[n];if(a!==null){l.events[n]=null;const r=a.getEventRunner();qa&&ot("event: "+a.toString()),Ml(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="repo_interrupt",KC=25;class FC{constructor(n,a,r,u){this.repoInfo_=n,this.forceRestClient_=a,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yr(),this.transactionQueueTree_=new Yf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZC(l,n,a){if(l.stats_=Sf(l.repoInfo_),l.forceRestClient_||Db())l.server_=new jr(l.repoInfo_,(r,u,f,h)=>{F_(l,r,u,f,h)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>Z_(l,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(a)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}l.persistentConnection_=new vn(l.repoInfo_,n,(r,u,f,h)=>{F_(l,r,u,f,h)},r=>{Z_(l,r)},r=>{WC(l,r)},l.authTokenProvider_,l.appCheckProvider_,a),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(r=>{l.server_.refreshAuthToken(r)}),l.appCheckProvider_.addTokenChangeListener(r=>{l.server_.refreshAppCheckToken(r.token)}),l.statsReporter_=zb(l.repoInfo_,()=>new x1(l.stats_,l.server_)),l.infoData_=new A1,l.infoSyncTree_=new Q_({startListening:(r,u,f,h)=>{let p=[];const _=l.infoData_.getNode(r._path);return _.isEmpty()||(p=iu(l.infoSyncTree_,r._path,_),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),Kf(l,"connected",!1),l.serverSyncTree_=new Q_({startListening:(r,u,f,h)=>(l.server_.listen(r,f,u,(p,_)=>{const m=h(p,_);Cn(l.eventQueue_,r._path,m)}),[]),stopListening:(r,u)=>{l.server_.unlisten(r,u)}})}function PC(l){const a=l.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function Xf(l){return OC({timestamp:PC(l)})}function F_(l,n,a,r,u){l.dataUpdateCount++;const f=new Te(n);a=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,a):a;let h=[];if(u)if(r){const _=Ur(a,m=>it(m));h=RC(l.serverSyncTree_,f,_,u)}else{const _=it(a);h=TC(l.serverSyncTree_,f,_,u)}else if(r){const _=Ur(a,m=>it(m));h=SC(l.serverSyncTree_,f,_)}else{const _=it(a);h=iu(l.serverSyncTree_,f,_)}let p=f;h.length>0&&(p=su(l,f)),Cn(l.eventQueue_,p,h)}function Z_(l,n){Kf(l,"connected",n),n===!1&&$C(l)}function WC(l,n){Et(n,(a,r)=>{Kf(l,a,r)})}function Kf(l,n,a){const r=new Te("/.info/"+n),u=it(a);l.infoData_.updateSnapshot(r,u);const f=iu(l.infoSyncTree_,r,u);Cn(l.eventQueue_,r,f)}function Ry(l){return l.nextWriteId_++}function JC(l,n,a,r,u){Ff(l,"set",{path:n.toString(),value:a,priority:r});const f=Xf(l),h=it(a,r),p=Lf(l.serverSyncTree_,n),_=_y(h,p,f),m=Ry(l),y=hy(l.serverSyncTree_,n,_,m,!0);Qf(l.eventQueue_,y),l.server_.put(n.toString(),h.val(!0),(S,O)=>{const N=S==="ok";N||vt("set at "+n+" failed: "+S);const k=Ni(l.serverSyncTree_,m,!N);Cn(l.eventQueue_,n,k),iT(l,u,S,O)});const v=Oy(l,n);su(l,v),Cn(l.eventQueue_,v,[])}function $C(l){Ff(l,"onDisconnectEvents");const n=Xf(l),a=Yr();ef(l.onDisconnect_,_e(),(u,f)=>{const h=zC(u,f,l.serverSyncTree_,n);Jg(a,u,h)});let r=[];ef(a,_e(),(u,f)=>{r=r.concat(iu(l.serverSyncTree_,u,f));const h=Oy(l,u);su(l,h)}),l.onDisconnect_=Yr(),Cn(l.eventQueue_,_e(),r)}function eT(l,n,a){let r;se(n._path)===".info"?r=X_(l.infoSyncTree_,n,a):r=X_(l.serverSyncTree_,n,a),Cy(l.eventQueue_,n._path,r)}function tT(l,n,a){let r;se(n._path)===".info"?r=rf(l.infoSyncTree_,n,a):r=rf(l.serverSyncTree_,n,a),Cy(l.eventQueue_,n._path,r)}function nT(l){l.persistentConnection_&&l.persistentConnection_.interrupt(XC)}function Ff(l,...n){let a="";l.persistentConnection_&&(a=l.persistentConnection_.id+":"),ot(a,...n)}function iT(l,n,a,r){n&&Ml(()=>{if(a==="ok")n(null);else{const u=(a||"error").toUpperCase();let f=u;r&&(f+=": "+r);const h=new Error(f);h.code=u,n(h)}})}function Ay(l,n,a){return Lf(l.serverSyncTree_,n,a)||ee.EMPTY_NODE}function Zf(l,n=l.transactionQueueTree_){if(n||ru(l,n),zl(n)){const a=Dy(l,n);q(a.length>0,"Sending zero length transaction queue"),a.every(u=>u.status===0)&&lT(l,rs(n),a)}else yy(n)&&au(n,a=>{Zf(l,a)})}function lT(l,n,a){const r=a.map(m=>m.currentWriteId),u=Ay(l,n,r);let f=u;const h=u.hash();for(let m=0;m<a.length;m++){const y=a[m];q(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=gt(n,y.path);f=f.updateChild(v,y.currentOutputSnapshotRaw)}const p=f.val(!0),_=n;l.server_.put(_.toString(),p,m=>{Ff(l,"transaction put response",{path:_.toString(),status:m});let y=[];if(m==="ok"){const v=[];for(let S=0;S<a.length;S++)a[S].status=2,y=y.concat(Ni(l.serverSyncTree_,a[S].currentWriteId)),a[S].onComplete&&v.push(()=>a[S].onComplete(null,!0,a[S].currentOutputSnapshotResolved)),a[S].unwatcher();ru(l,Gf(l.transactionQueueTree_,n)),Zf(l,l.transactionQueueTree_),Cn(l.eventQueue_,n,y);for(let S=0;S<v.length;S++)Ml(v[S])}else{if(m==="datastale")for(let v=0;v<a.length;v++)a[v].status===3?a[v].status=4:a[v].status=0;else{vt("transaction at "+_.toString()+" failed: "+m);for(let v=0;v<a.length;v++)a[v].status=4,a[v].abortReason=m}su(l,n)}},h)}function su(l,n){const a=Ny(l,n),r=rs(a),u=Dy(l,a);return aT(l,u,r),r}function aT(l,n,a){if(n.length===0)return;const r=[];let u=[];const h=n.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<n.length;p++){const _=n[p],m=gt(a,_.path);let y=!1,v;if(q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)y=!0,v=_.abortReason,u=u.concat(Ni(l.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=KC)y=!0,v="maxretry",u=u.concat(Ni(l.serverSyncTree_,_.currentWriteId,!0));else{const S=Ay(l,_.path,h);_.currentInputSnapshot=S;const O=n[p].update(S.val());if(O!==void 0){Vf("transaction failed: Data returned ",O,_.path);let N=it(O);typeof O=="object"&&O!=null&&Rn(O,".priority")||(N=N.updatePriority(S.getPriority()));const B=_.currentWriteId,I=Xf(l),F=_y(N,S,I);_.currentOutputSnapshotRaw=N,_.currentOutputSnapshotResolved=F,_.currentWriteId=Ry(l),h.splice(h.indexOf(B),1),u=u.concat(hy(l.serverSyncTree_,_.path,F,_.currentWriteId,_.applyLocally)),u=u.concat(Ni(l.serverSyncTree_,B,!0))}else y=!0,v="nodata",u=u.concat(Ni(l.serverSyncTree_,_.currentWriteId,!0))}Cn(l.eventQueue_,a,u),u=[],y&&(n[p].status=2,function(S){setTimeout(S,Math.floor(0))}(n[p].unwatcher),n[p].onComplete&&(v==="nodata"?r.push(()=>n[p].onComplete(null,!1,n[p].currentInputSnapshot)):r.push(()=>n[p].onComplete(new Error(v),!1,null))))}ru(l,l.transactionQueueTree_);for(let p=0;p<r.length;p++)Ml(r[p]);Zf(l,l.transactionQueueTree_)}function Ny(l,n){let a,r=l.transactionQueueTree_;for(a=se(n);a!==null&&zl(r)===void 0;)r=Gf(r,a),n=Ne(n),a=se(n);return r}function Dy(l,n){const a=[];return wy(l,n,a),a.sort((r,u)=>r.order-u.order),a}function wy(l,n,a){const r=zl(n);if(r)for(let u=0;u<r.length;u++)a.push(r[u]);au(n,u=>{wy(l,u,a)})}function ru(l,n){const a=zl(n);if(a){let r=0;for(let u=0;u<a.length;u++)a[u].status!==2&&(a[r]=a[u],r++);a.length=r,gy(n,a.length>0?a:void 0)}au(n,r=>{ru(l,r)})}function Oy(l,n){const a=rs(Ny(l,n)),r=Gf(l.transactionQueueTree_,n);return LC(r,u=>{Yc(l,u)}),Yc(l,r),vy(r,u=>{Yc(l,u)}),a}function Yc(l,n){const a=zl(n);if(a){const r=[];let u=[],f=-1;for(let h=0;h<a.length;h++)a[h].status===3||(a[h].status===1?(q(f===h-1,"All SENT items should be at beginning of queue."),f=h,a[h].status=3,a[h].abortReason="set"):(q(a[h].status===0,"Unexpected transaction status in abort"),a[h].unwatcher(),u=u.concat(Ni(l.serverSyncTree_,a[h].currentWriteId,!0)),a[h].onComplete&&r.push(a[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?gy(n,void 0):a.length=f+1,Cn(l.eventQueue_,rs(n),u);for(let h=0;h<r.length;h++)Ml(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(l){let n="";const a=l.split("/");for(let r=0;r<a.length;r++)if(a[r].length>0){let u=a[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function rT(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const a of l.split("&")){if(a.length===0)continue;const r=a.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${a}' in query '${l}'`)}return n}const P_=function(l,n){const a=uT(l),r=a.namespace;a.domain==="firebase.com"&&bn(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&a.domain!=="localhost"&&bn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||vb();const u=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new zg(a.host,a.secure,r,u,n,"",r!==a.subdomain),path:new Te(a.pathString)}},uT=function(l){let n="",a="",r="",u="",f="",h=!0,p="https",_=443;if(typeof l=="string"){let m=l.indexOf("//");m>=0&&(p=l.substring(0,m-1),l=l.substring(m+2));let y=l.indexOf("/");y===-1&&(y=l.length);let v=l.indexOf("?");v===-1&&(v=l.length),n=l.substring(0,Math.min(y,v)),y<v&&(u=sT(l.substring(y,v)));const S=rT(l.substring(Math.min(l.length,v)));m=n.indexOf(":"),m>=0?(h=p==="https"||p==="wss",_=parseInt(n.substring(m+1),10)):m=n.length;const O=n.slice(0,m);if(O.toLowerCase()==="localhost")a="localhost";else if(O.split(".").length<=2)a=O;else{const N=n.indexOf(".");r=n.substring(0,N).toLowerCase(),a=n.substring(N+1),f=r}"ns"in S&&(f=S.ns)}return{host:n,port:_,domain:a,subdomain:r,secure:h,scheme:p,pathString:u,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(n,a,r,u){this.eventType=n,this.eventRegistration=a,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class cT{constructor(n,a,r){this.eventRegistration=n,this.error=a,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(n,a){this.snapshotCallback=n,this.cancelCallback=a}onValue(n,a){this.snapshotCallback.call(null,n,a)}onCancel(n){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(n,a,r,u){this._repo=n,this._path=a,this._queryParams=r,this._orderByCalled=u}get key(){return ce(this._path)?null:Yg(this._path)}get ref(){return new ii(this._repo,this._path)}get _queryIdentifier(){const n=U_(this._queryParams),a=vf(n);return a==="{}"?"default":a}get _queryObject(){return U_(this._queryParams)}isEqual(n){if(n=ns(n),!(n instanceof Pf))return!1;const a=this._repo===n._repo,r=Cf(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return a&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+n1(this._path)}}class ii extends Pf{constructor(n,a){super(n,a,new Nf,!1)}get parent(){const n=Vg(this._path);return n===null?null:new ii(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Pr{constructor(n,a,r){this._node=n,this.ref=a,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const a=new Te(n),r=cf(this.ref,n);return new Pr(this._node.getChild(a),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new Pr(u,cf(this.ref,r),Ie)))}hasChild(n){const a=new Te(n);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function of(l,n){return l=ns(l),l._checkNotDeleted("ref"),n!==void 0?cf(l._root,n):l._root}function cf(l,n){return l=ns(l),se(l._path)===null?jC("child","path",n):by("child","path",n),new ii(l._repo,Xe(l._path,n))}function hT(l,n){l=ns(l),YC("set",l._path),qC("set",n,l._path);const a=new Jr;return JC(l._repo,l._path,n,null,a.wrapCallback(()=>{})),a.promise}class Wf{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,a){const r=a._queryParams.getIndex();return new oT("value",this,new Pr(n.snapshotNode,new ii(a._repo,a._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,a){return this.callbackContext.hasCancelCallback?new cT(this,n,a):null}matches(n){return n instanceof Wf?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function dT(l,n,a,r,u){const f=new fT(a,void 0),h=new Wf(f);return eT(l._repo,l,h),()=>tT(l._repo,l,h)}function xy(l,n,a,r){return dT(l,"value",n)}hC(ii);yC(ii);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="FIREBASE_DATABASE_EMULATOR_HOST",ff={};let pT=!1;function _T(l,n,a,r){l.repoInfo_=new zg(n,!1,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,a),r&&(l.authTokenProvider_=r)}function gT(l,n,a,r,u){let f=r||l.options.databaseURL;f===void 0&&(l.options.projectId||bn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let h=P_(f,u),p=h.repoInfo,_;typeof process<"u"&&__&&(_=__[mT]),_?(f=`http://${_}?ns=${p.namespace}`,h=P_(f,u),p=h.repoInfo):h.repoInfo.secure;const m=new Ob(l.name,l.options,n);GC("Invalid Firebase Database URL",h),ce(h.path)||bn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=vT(p,l,m,new wb(l,a));return new ET(y,l)}function yT(l,n){const a=ff[n];(!a||a[l.key]!==l)&&bn(`Database ${n}(${l.repoInfo_}) has already been deleted.`),nT(l),delete a[l.key]}function vT(l,n,a,r){let u=ff[n.name];u||(u={},ff[n.name]=u);let f=u[l.toURLString()];return f&&bn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new FC(l,pT,a,r),u[l.toURLString()]=f,f}class ET{constructor(n,a){this._repoInternal=n,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ii(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&bn("Cannot call "+n+" on a deleted database.")}}function My(l=eb(),n){const a=ZS(l,"database").getImmediate({identifier:n});if(!a._instanceStarted){const r=BE("database");r&&ST(a,...r)}return a}function ST(l,n,a,r={}){l=ns(l),l._checkNotDeleted("useEmulator");const u=`${n}:${a}`,f=l._repoInternal;if(l._instanceStarted){if(u===l._repoInternal.repoInfo_.host&&Lr(r,f.repoInfo_.emulatorOptions))return;bn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&bn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new wr(wr.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:kE(r.mockUserToken,l.app.options.projectId);h=new wr(p)}_T(f,u,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(l){db($S),Ir(new Xa("database",(n,{instanceIdentifier:a})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return gT(r,u,f,a)},"PUBLIC").setMultipleInstances(!0)),bl(g_,y_,l),bl(g_,y_,"esm2017")}vn.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};vn.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};bT();function CT(){const[l,n]=U.useState([]),[a,r]=U.useState(null),[u,f]=U.useState(null);U.useEffect(()=>{const m=yf({apiKey:"AIzaSyDVKtaizSpvIQlHnZvNf3zYoEjw7cDzdfY",authDomain:"mtgxtream.firebaseapp.com",databaseURL:"https://mtgxtream-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mtgxtream",storageBucket:"mtgxtream.firebasestorage.app",messagingSenderId:"824568675870",appId:"1:824568675870:web:36cbbee547d61a6b03380f"}),y=My(m);r(y);const v=of(y,"matchData");f(v),(()=>{xy(v,O=>{const N=O.val();if(N){const k=Object.values(N);n(k)}})})()},[]);const h=(m,y,v)=>{console.log("updateValue",m,y,v);const S=m==="player1"?"0":"1";if(a&&u&&l[S]){const O=(l[S][y]||0)+v;hT(of(a,`matchData/${m}/${y}`),O)}},p=l[0],_=l[1];return!p||!_?Q.jsx(Q.Fragment,{children:"init"}):Q.jsxs("div",{className:"controls",children:[Q.jsxs("div",{className:"player player1",children:[Q.jsx("div",{className:"name",children:p.name}),Q.jsxs("div",{className:"wins",children:[Q.jsx("button",{className:"control-sm",onClick:()=>h("player1","wins",-1),children:"-"}),Q.jsx("div",{children:p.wins}),Q.jsx("button",{className:"control-sm",onClick:()=>h("player1","wins",1),children:"+"})]}),Q.jsxs("div",{className:"life",children:[Q.jsx("button",{className:"control",onClick:()=>h("player1","life",-1),children:"-"}),Q.jsx("div",{children:p.life}),Q.jsx("button",{className:"control",onClick:()=>h("player1","life",1),children:"+"})]})]}),Q.jsxs("div",{className:"player player2",children:[Q.jsx("div",{className:"name",children:_.name}),Q.jsxs("div",{className:"wins",children:[Q.jsx("button",{className:"control-sm",onClick:()=>h("player2","wins",-1),children:"-"}),Q.jsx("div",{children:_.wins}),Q.jsx("button",{className:"control-sm",onClick:()=>h("player2","wins",1),children:"+"})]}),Q.jsxs("div",{className:"life",children:[Q.jsx("button",{className:"control",onClick:()=>h("player2","life",-1),children:"-"}),Q.jsx("div",{children:_.life}),Q.jsx("button",{className:"control",onClick:()=>h("player2","life",1),children:"+"})]})]})]})}var Ba={},W_;function TT(){if(W_)return Ba;W_=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.parse=h,Ba.serialize=m;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,f=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,O){const N=new f,k=S.length;if(k<2)return N;const B=(O==null?void 0:O.decode)||y;let I=0;do{const F=S.indexOf("=",I);if(F===-1)break;const Y=S.indexOf(";",I),fe=Y===-1?k:Y;if(F>fe){I=S.lastIndexOf(";",F-1)+1;continue}const te=p(S,I,F),je=_(S,F,te),Ue=S.slice(te,je);if(N[Ue]===void 0){let Be=p(S,F+1,fe),we=_(S,fe,Be);const ct=B(S.slice(Be,we));N[Ue]=ct}I=fe+1}while(I<k);return N}function p(S,O,N){do{const k=S.charCodeAt(O);if(k!==32&&k!==9)return O}while(++O<N);return N}function _(S,O,N){for(;O>N;){const k=S.charCodeAt(--O);if(k!==32&&k!==9)return O+1}return N}function m(S,O,N){const k=(N==null?void 0:N.encode)||encodeURIComponent;if(!l.test(S))throw new TypeError(`argument name is invalid: ${S}`);const B=k(O);if(!n.test(B))throw new TypeError(`argument val is invalid: ${O}`);let I=S+"="+B;if(!N)return I;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);I+="; Max-Age="+N.maxAge}if(N.domain){if(!a.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);I+="; Domain="+N.domain}if(N.path){if(!r.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);I+="; Path="+N.path}if(N.expires){if(!v(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);I+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(I+="; HttpOnly"),N.secure&&(I+="; Secure"),N.partitioned&&(I+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return I}function y(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function v(S){return u.call(S)==="[object Date]"}return Ba}TT();var J_="popstate";function RT(l={}){function n(u,f){let{pathname:h="/",search:p="",hash:_=""}=zi(u.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),hf("",{pathname:h,search:p,hash:_},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function a(u,f){let h=u.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let _=u.location.href,m=_.indexOf("#");p=m===-1?_:_.slice(0,m)}return p+"#"+(typeof f=="string"?f:es(f))}function r(u,f){Ft(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return NT(n,a,r,l)}function ze(l,n){if(l===!1||l===null||typeof l>"u")throw new Error(n)}function Ft(l,n){if(!l){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function AT(){return Math.random().toString(36).substring(2,10)}function $_(l,n){return{usr:l.state,key:l.key,idx:n}}function hf(l,n,a=null,r){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof n=="string"?zi(n):n,state:a,key:n&&n.key||r||AT()}}function es({pathname:l="/",search:n="",hash:a=""}){return n&&n!=="?"&&(l+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(l+=a.charAt(0)==="#"?a:"#"+a),l}function zi(l){let n={};if(l){let a=l.indexOf("#");a>=0&&(n.hash=l.substring(a),l=l.substring(0,a));let r=l.indexOf("?");r>=0&&(n.search=l.substring(r),l=l.substring(0,r)),l&&(n.pathname=l)}return n}function NT(l,n,a,r={}){let{window:u=document.defaultView,v5Compat:f=!1}=r,h=u.history,p="POP",_=null,m=y();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function y(){return(h.state||{idx:null}).idx}function v(){p="POP";let B=y(),I=B==null?null:B-m;m=B,_&&_({action:p,location:k.location,delta:I})}function S(B,I){p="PUSH";let F=hf(k.location,B,I);a&&a(F,B),m=y()+1;let Y=$_(F,m),fe=k.createHref(F);try{h.pushState(Y,"",fe)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;u.location.assign(fe)}f&&_&&_({action:p,location:k.location,delta:1})}function O(B,I){p="REPLACE";let F=hf(k.location,B,I);a&&a(F,B),m=y();let Y=$_(F,m),fe=k.createHref(F);h.replaceState(Y,"",fe),f&&_&&_({action:p,location:k.location,delta:0})}function N(B){let I=u.location.origin!=="null"?u.location.origin:u.location.href,F=typeof B=="string"?B:es(B);return F=F.replace(/ $/,"%20"),ze(I,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,I)}let k={get action(){return p},get location(){return l(u,h)},listen(B){if(_)throw new Error("A history only accepts one active listener");return u.addEventListener(J_,v),_=B,()=>{u.removeEventListener(J_,v),_=null}},createHref(B){return n(u,B)},createURL:N,encodeLocation(B){let I=N(B);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:S,replace:O,go(B){return h.go(B)}};return k}function zy(l,n,a="/"){return DT(l,n,a,!1)}function DT(l,n,a,r){let u=typeof n=="string"?zi(n):n,f=Tn(u.pathname||"/",a);if(f==null)return null;let h=Uy(l);wT(h);let p=null;for(let _=0;p==null&&_<h.length;++_){let m=qT(f);p=BT(h[_],m,r)}return p}function Uy(l,n=[],a=[],r=""){let u=(f,h,p)=>{let _={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};_.relativePath.startsWith("/")&&(ze(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length));let m=En([r,_.relativePath]),y=a.concat(_);f.children&&f.children.length>0&&(ze(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Uy(f.children,n,y,m)),!(f.path==null&&!f.index)&&n.push({path:m,score:HT(m,f.index),routesMeta:y})};return l.forEach((f,h)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,h);else for(let _ of Ly(f.path))u(f,h,_)}),n}function Ly(l){let n=l.split("/");if(n.length===0)return[];let[a,...r]=n,u=a.endsWith("?"),f=a.replace(/\?$/,"");if(r.length===0)return u?[f,""]:[f];let h=Ly(r.join("/")),p=[];return p.push(...h.map(_=>_===""?f:[f,_].join("/"))),u&&p.push(...h),p.map(_=>l.startsWith("/")&&_===""?"/":_)}function wT(l){l.sort((n,a)=>n.score!==a.score?a.score-n.score:IT(n.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var OT=/^:[\w-]+$/,xT=3,MT=2,zT=1,UT=10,LT=-2,eg=l=>l==="*";function HT(l,n){let a=l.split("/"),r=a.length;return a.some(eg)&&(r+=LT),n&&(r+=MT),a.filter(u=>!eg(u)).reduce((u,f)=>u+(OT.test(f)?xT:f===""?zT:UT),r)}function IT(l,n){return l.length===n.length&&l.slice(0,-1).every((r,u)=>r===n[u])?l[l.length-1]-n[n.length-1]:0}function BT(l,n,a=!1){let{routesMeta:r}=l,u={},f="/",h=[];for(let p=0;p<r.length;++p){let _=r[p],m=p===r.length-1,y=f==="/"?n:n.slice(f.length)||"/",v=Wr({path:_.relativePath,caseSensitive:_.caseSensitive,end:m},y),S=_.route;if(!v&&m&&a&&!r[r.length-1].route.index&&(v=Wr({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},y)),!v)return null;Object.assign(u,v.params),h.push({params:u,pathname:En([f,v.pathname]),pathnameBase:VT(En([f,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(f=En([f,v.pathnameBase]))}return h}function Wr(l,n){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[a,r]=kT(l.path,l.caseSensitive,l.end),u=n.match(a);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:v},S)=>{if(y==="*"){let N=p[S]||"";h=f.slice(0,f.length-N.length).replace(/(.)\/+$/,"$1")}const O=p[S];return v&&!O?m[y]=void 0:m[y]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:f,pathnameBase:h,pattern:l}}function kT(l,n=!1,a=!0){Ft(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let r=[],u="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,_)=>(r.push({paramName:p,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(r.push({paramName:"*"}),u+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?u+="\\/*$":l!==""&&l!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),r]}function qT(l){try{return l.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ft(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),l}}function Tn(l,n){if(n==="/")return l;if(!l.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,r=l.charAt(a);return r&&r!=="/"?null:l.slice(a)||"/"}function jT(l,n="/"){let{pathname:a,search:r="",hash:u=""}=typeof l=="string"?zi(l):l;return{pathname:a?a.startsWith("/")?a:YT(a,n):n,search:QT(r),hash:XT(u)}}function YT(l,n){let a=n.replace(/\/+$/,"").split("/");return l.split("/").forEach(u=>{u===".."?a.length>1&&a.pop():u!=="."&&a.push(u)}),a.length>1?a.join("/"):"/"}function Gc(l,n,a,r){return`Cannot include a '${l}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GT(l){return l.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function Hy(l){let n=GT(l);return n.map((a,r)=>r===n.length-1?a.pathname:a.pathnameBase)}function Iy(l,n,a,r=!1){let u;typeof l=="string"?u=zi(l):(u={...l},ze(!u.pathname||!u.pathname.includes("?"),Gc("?","pathname","search",u)),ze(!u.pathname||!u.pathname.includes("#"),Gc("#","pathname","hash",u)),ze(!u.search||!u.search.includes("#"),Gc("#","search","hash",u)));let f=l===""||u.pathname==="",h=f?"/":u.pathname,p;if(h==null)p=a;else{let v=n.length-1;if(!r&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),v-=1;u.pathname=S.join("/")}p=v>=0?n[v]:"/"}let _=jT(u,p),m=h&&h!=="/"&&h.endsWith("/"),y=(f||h===".")&&a.endsWith("/");return!_.pathname.endsWith("/")&&(m||y)&&(_.pathname+="/"),_}var En=l=>l.join("/").replace(/\/\/+/g,"/"),VT=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),QT=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,XT=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function KT(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var By=["POST","PUT","PATCH","DELETE"];new Set(By);var FT=["GET",...By];new Set(FT);var Ul=U.createContext(null);Ul.displayName="DataRouter";var uu=U.createContext(null);uu.displayName="DataRouterState";var ky=U.createContext({isTransitioning:!1});ky.displayName="ViewTransition";var ZT=U.createContext(new Map);ZT.displayName="Fetchers";var PT=U.createContext(null);PT.displayName="Await";var tn=U.createContext(null);tn.displayName="Navigation";var us=U.createContext(null);us.displayName="Location";var An=U.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var Jf=U.createContext(null);Jf.displayName="RouteError";function WT(l,{relative:n}={}){ze(os(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=U.useContext(tn),{hash:u,pathname:f,search:h}=cs(l,{relative:n}),p=f;return a!=="/"&&(p=f==="/"?a:En([a,f])),r.createHref({pathname:p,search:h,hash:u})}function os(){return U.useContext(us)!=null}function Ui(){return ze(os(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(us).location}var qy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jy(l){U.useContext(tn).static||U.useLayoutEffect(l)}function JT(){let{isDataRoute:l}=U.useContext(An);return l?fR():$T()}function $T(){ze(os(),"useNavigate() may be used only in the context of a <Router> component.");let l=U.useContext(Ul),{basename:n,navigator:a}=U.useContext(tn),{matches:r}=U.useContext(An),{pathname:u}=Ui(),f=JSON.stringify(Hy(r)),h=U.useRef(!1);return jy(()=>{h.current=!0}),U.useCallback((_,m={})=>{if(Ft(h.current,qy),!h.current)return;if(typeof _=="number"){a.go(_);return}let y=Iy(_,JSON.parse(f),u,m.relative==="path");l==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:En([n,y.pathname])),(m.replace?a.replace:a.push)(y,m.state,m)},[n,a,f,u,l])}U.createContext(null);function cs(l,{relative:n}={}){let{matches:a}=U.useContext(An),{pathname:r}=Ui(),u=JSON.stringify(Hy(a));return U.useMemo(()=>Iy(l,JSON.parse(u),r,n==="path"),[l,u,r,n])}function eR(l,n){return Yy(l,n)}function Yy(l,n,a,r){var F;ze(os(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:f}=U.useContext(tn),{matches:h}=U.useContext(An),p=h[h.length-1],_=p?p.params:{},m=p?p.pathname:"/",y=p?p.pathnameBase:"/",v=p&&p.route;{let Y=v&&v.path||"";Gy(m,!v||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=Ui(),O;if(n){let Y=typeof n=="string"?zi(n):n;ze(y==="/"||((F=Y.pathname)==null?void 0:F.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),O=Y}else O=S;let N=O.pathname||"/",k=N;if(y!=="/"){let Y=y.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(Y.length).join("/")}let B=!f&&a&&a.matches&&a.matches.length>0?a.matches:zy(l,{pathname:k});Ft(v||B!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Ft(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=aR(B&&B.map(Y=>Object.assign({},Y,{params:Object.assign({},_,Y.params),pathname:En([y,u.encodeLocation?u.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?y:En([y,u.encodeLocation?u.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,a,r);return n&&I?U.createElement(us.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},I):I}function tR(){let l=cR(),n=KT(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),a=l instanceof Error?l.stack:null,r="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:r},f={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",l),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:f},"ErrorBoundary")," or"," ",U.createElement("code",{style:f},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},n),a?U.createElement("pre",{style:u},a):null,h)}var nR=U.createElement(tR,null),iR=class extends U.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,n){return n.location!==l.location||n.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:n.error,location:n.location,revalidation:l.revalidation||n.revalidation}}componentDidCatch(l,n){console.error("React Router caught the following error during render",l,n)}render(){return this.state.error!==void 0?U.createElement(An.Provider,{value:this.props.routeContext},U.createElement(Jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lR({routeContext:l,match:n,children:a}){let r=U.useContext(Ul);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(An.Provider,{value:l},a)}function aR(l,n=[],a=null,r=null){if(l==null){if(!a)return null;if(a.errors)l=a.matches;else if(n.length===0&&!a.initialized&&a.matches.length>0)l=a.matches;else return null}let u=l,f=a==null?void 0:a.errors;if(f!=null){let _=u.findIndex(m=>m.route.id&&(f==null?void 0:f[m.route.id])!==void 0);ze(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let h=!1,p=-1;if(a)for(let _=0;_<u.length;_++){let m=u[_];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=_),m.route.id){let{loaderData:y,errors:v}=a,S=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||S){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((_,m,y)=>{let v,S=!1,O=null,N=null;a&&(v=f&&m.route.id?f[m.route.id]:void 0,O=m.route.errorElement||nR,h&&(p<0&&y===0?(Gy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):p===y&&(S=!0,N=m.route.hydrateFallbackElement||null)));let k=n.concat(u.slice(0,y+1)),B=()=>{let I;return v?I=O:S?I=N:m.route.Component?I=U.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=_,U.createElement(lR,{match:m,routeContext:{outlet:_,matches:k,isDataRoute:a!=null},children:I})};return a&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?U.createElement(iR,{location:a.location,revalidation:a.revalidation,component:O,error:v,children:B(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):B()},null)}function $f(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sR(l){let n=U.useContext(Ul);return ze(n,$f(l)),n}function rR(l){let n=U.useContext(uu);return ze(n,$f(l)),n}function uR(l){let n=U.useContext(An);return ze(n,$f(l)),n}function eh(l){let n=uR(l),a=n.matches[n.matches.length-1];return ze(a.route.id,`${l} can only be used on routes that contain a unique "id"`),a.route.id}function oR(){return eh("useRouteId")}function cR(){var r;let l=U.useContext(Jf),n=rR("useRouteError"),a=eh("useRouteError");return l!==void 0?l:(r=n.errors)==null?void 0:r[a]}function fR(){let{router:l}=sR("useNavigate"),n=eh("useNavigate"),a=U.useRef(!1);return jy(()=>{a.current=!0}),U.useCallback(async(u,f={})=>{Ft(a.current,qy),a.current&&(typeof u=="number"?l.navigate(u):await l.navigate(u,{fromRouteId:n,...f}))},[l,n])}var tg={};function Gy(l,n,a){!n&&!tg[l]&&(tg[l]=!0,Ft(!1,a))}U.memo(hR);function hR({routes:l,future:n,state:a}){return Yy(l,void 0,a,n)}function Or(l){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dR({basename:l="/",children:n=null,location:a,navigationType:r="POP",navigator:u,static:f=!1}){ze(!os(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=l.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:h,navigator:u,static:f,future:{}}),[h,u,f]);typeof a=="string"&&(a=zi(a));let{pathname:_="/",search:m="",hash:y="",state:v=null,key:S="default"}=a,O=U.useMemo(()=>{let N=Tn(_,h);return N==null?null:{location:{pathname:N,search:m,hash:y,state:v,key:S},navigationType:r}},[h,_,m,y,v,S,r]);return Ft(O!=null,`<Router basename="${h}"> is not able to match the URL "${_}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:U.createElement(tn.Provider,{value:p},U.createElement(us.Provider,{children:n,value:O}))}function mR({children:l,location:n}){return eR(df(l),n)}function df(l,n=[]){let a=[];return U.Children.forEach(l,(r,u)=>{if(!U.isValidElement(r))return;let f=[...n,u];if(r.type===U.Fragment){a.push.apply(a,df(r.props.children,f));return}ze(r.type===Or,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=df(r.props.children,f)),a.push(h)}),a}var xr="get",Mr="application/x-www-form-urlencoded";function ou(l){return l!=null&&typeof l.tagName=="string"}function pR(l){return ou(l)&&l.tagName.toLowerCase()==="button"}function _R(l){return ou(l)&&l.tagName.toLowerCase()==="form"}function gR(l){return ou(l)&&l.tagName.toLowerCase()==="input"}function yR(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function vR(l,n){return l.button===0&&(!n||n==="_self")&&!yR(l)}var Dr=null;function ER(){if(Dr===null)try{new FormData(document.createElement("form"),0),Dr=!1}catch{Dr=!0}return Dr}var SR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vc(l){return l!=null&&!SR.has(l)?(Ft(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mr}"`),null):l}function bR(l,n){let a,r,u,f,h;if(_R(l)){let p=l.getAttribute("action");r=p?Tn(p,n):null,a=l.getAttribute("method")||xr,u=Vc(l.getAttribute("enctype"))||Mr,f=new FormData(l)}else if(pR(l)||gR(l)&&(l.type==="submit"||l.type==="image")){let p=l.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=l.getAttribute("formaction")||p.getAttribute("action");if(r=_?Tn(_,n):null,a=l.getAttribute("formmethod")||p.getAttribute("method")||xr,u=Vc(l.getAttribute("formenctype"))||Vc(p.getAttribute("enctype"))||Mr,f=new FormData(p,l),!ER()){let{name:m,type:y,value:v}=l;if(y==="image"){let S=m?`${m}.`:"";f.append(`${S}x`,"0"),f.append(`${S}y`,"0")}else m&&f.append(m,v)}}else{if(ou(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=xr,r=null,u=Mr,h=l}return f&&u==="text/plain"&&(h=f,f=void 0),{action:r,method:a.toLowerCase(),encType:u,formData:f,body:h}}function th(l,n){if(l===!1||l===null||typeof l>"u")throw new Error(n)}async function CR(l,n){if(l.id in n)return n[l.id];try{let a=await import(l.module);return n[l.id]=a,a}catch(a){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TR(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function RR(l,n,a){let r=await Promise.all(l.map(async u=>{let f=n.routes[u.route.id];if(f){let h=await CR(f,a);return h.links?h.links():[]}return[]}));return wR(r.flat(1).filter(TR).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function ng(l,n,a,r,u,f){let h=(_,m)=>a[m]?_.route.id!==a[m].route.id:!0,p=(_,m)=>{var y;return a[m].pathname!==_.pathname||((y=a[m].route.path)==null?void 0:y.endsWith("*"))&&a[m].params["*"]!==_.params["*"]};return f==="assets"?n.filter((_,m)=>h(_,m)||p(_,m)):f==="data"?n.filter((_,m)=>{var v;let y=r.routes[_.route.id];if(!y||!y.hasLoader)return!1;if(h(_,m)||p(_,m))return!0;if(_.route.shouldRevalidate){let S=_.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((v=a[0])==null?void 0:v.params)||{},nextUrl:new URL(l,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function AR(l,n,{includeHydrateFallback:a}={}){return NR(l.map(r=>{let u=n.routes[r.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),a&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function NR(l){return[...new Set(l)]}function DR(l){let n={},a=Object.keys(l).sort();for(let r of a)n[r]=l[r];return n}function wR(l,n){let a=new Set;return new Set(n),l.reduce((r,u)=>{let f=JSON.stringify(DR(u));return a.has(f)||(a.add(f),r.push({key:f,link:u})),r},[])}var OR=new Set([100,101,204,205]);function xR(l,n){let a=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return a.pathname==="/"?a.pathname="_root.data":n&&Tn(a.pathname,n)==="/"?a.pathname=`${n.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function Vy(){let l=U.useContext(Ul);return th(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function MR(){let l=U.useContext(uu);return th(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var nh=U.createContext(void 0);nh.displayName="FrameworkContext";function Qy(){let l=U.useContext(nh);return th(l,"You must render this element inside a <HydratedRouter> element"),l}function zR(l,n){let a=U.useContext(nh),[r,u]=U.useState(!1),[f,h]=U.useState(!1),{onFocus:p,onBlur:_,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=n,S=U.useRef(null);U.useEffect(()=>{if(l==="render"&&h(!0),l==="viewport"){let k=I=>{I.forEach(F=>{h(F.isIntersecting)})},B=new IntersectionObserver(k,{threshold:.5});return S.current&&B.observe(S.current),()=>{B.disconnect()}}},[l]),U.useEffect(()=>{if(r){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[r]);let O=()=>{u(!0)},N=()=>{u(!1),h(!1)};return a?l!=="intent"?[f,S,{}]:[f,S,{onFocus:ka(p,O),onBlur:ka(_,N),onMouseEnter:ka(m,O),onMouseLeave:ka(y,N),onTouchStart:ka(v,O)}]:[!1,S,{}]}function ka(l,n){return a=>{l&&l(a),a.defaultPrevented||n(a)}}function UR({page:l,...n}){let{router:a}=Vy(),r=U.useMemo(()=>zy(a.routes,l,a.basename),[a.routes,l,a.basename]);return r?U.createElement(HR,{page:l,matches:r,...n}):null}function LR(l){let{manifest:n,routeModules:a}=Qy(),[r,u]=U.useState([]);return U.useEffect(()=>{let f=!1;return RR(l,n,a).then(h=>{f||u(h)}),()=>{f=!0}},[l,n,a]),r}function HR({page:l,matches:n,...a}){let r=Ui(),{manifest:u,routeModules:f}=Qy(),{basename:h}=Vy(),{loaderData:p,matches:_}=MR(),m=U.useMemo(()=>ng(l,n,_,u,r,"data"),[l,n,_,u,r]),y=U.useMemo(()=>ng(l,n,_,u,r,"assets"),[l,n,_,u,r]),v=U.useMemo(()=>{if(l===r.pathname+r.search+r.hash)return[];let N=new Set,k=!1;if(n.forEach(I=>{var Y;let F=u.routes[I.route.id];!F||!F.hasLoader||(!m.some(fe=>fe.route.id===I.route.id)&&I.route.id in p&&((Y=f[I.route.id])!=null&&Y.shouldRevalidate)||F.hasClientLoader?k=!0:N.add(I.route.id))}),N.size===0)return[];let B=xR(l,h);return k&&N.size>0&&B.searchParams.set("_routes",n.filter(I=>N.has(I.route.id)).map(I=>I.route.id).join(",")),[B.pathname+B.search]},[h,p,r,u,m,n,l,f]),S=U.useMemo(()=>AR(y,u),[y,u]),O=LR(y);return U.createElement(U.Fragment,null,v.map(N=>U.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...a})),S.map(N=>U.createElement("link",{key:N,rel:"modulepreload",href:N,...a})),O.map(({key:N,link:k})=>U.createElement("link",{key:N,...k})))}function IR(...l){return n=>{l.forEach(a=>{typeof a=="function"?a(n):a!=null&&(a.current=n)})}}var Xy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xy&&(window.__reactRouterVersion="7.5.3")}catch{}function BR({basename:l,children:n,window:a}){let r=U.useRef();r.current==null&&(r.current=RT({window:a,v5Compat:!0}));let u=r.current,[f,h]=U.useState({action:u.action,location:u.location}),p=U.useCallback(_=>{U.startTransition(()=>h(_))},[h]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(dR,{basename:l,children:n,location:f.location,navigationType:f.action,navigator:u})}var Ky=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fy=U.forwardRef(function({onClick:n,discover:a="render",prefetch:r="none",relative:u,reloadDocument:f,replace:h,state:p,target:_,to:m,preventScrollReset:y,viewTransition:v,...S},O){let{basename:N}=U.useContext(tn),k=typeof m=="string"&&Ky.test(m),B,I=!1;if(typeof m=="string"&&k&&(B=m,Xy))try{let we=new URL(window.location.href),ct=m.startsWith("//")?new URL(we.protocol+m):new URL(m),xt=Tn(ct.pathname,N);ct.origin===we.origin&&xt!=null?m=xt+ct.search+ct.hash:I=!0}catch{Ft(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=WT(m,{relative:u}),[Y,fe,te]=zR(r,S),je=YR(m,{replace:h,state:p,target:_,preventScrollReset:y,relative:u,viewTransition:v});function Ue(we){n&&n(we),we.defaultPrevented||je(we)}let Be=U.createElement("a",{...S,...te,href:B||F,onClick:I||f?n:Ue,ref:IR(O,fe),target:_,"data-discover":!k&&a==="render"?"true":void 0});return Y&&!k?U.createElement(U.Fragment,null,Be,U.createElement(UR,{page:F})):Be});Fy.displayName="Link";var kR=U.forwardRef(function({"aria-current":n="page",caseSensitive:a=!1,className:r="",end:u=!1,style:f,to:h,viewTransition:p,children:_,...m},y){let v=cs(h,{relative:m.relative}),S=Ui(),O=U.useContext(uu),{navigator:N,basename:k}=U.useContext(tn),B=O!=null&&KR(v)&&p===!0,I=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,F=S.pathname,Y=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;a||(F=F.toLowerCase(),Y=Y?Y.toLowerCase():null,I=I.toLowerCase()),Y&&k&&(Y=Tn(Y,k)||Y);const fe=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let te=F===I||!u&&F.startsWith(I)&&F.charAt(fe)==="/",je=Y!=null&&(Y===I||!u&&Y.startsWith(I)&&Y.charAt(I.length)==="/"),Ue={isActive:te,isPending:je,isTransitioning:B},Be=te?n:void 0,we;typeof r=="function"?we=r(Ue):we=[r,te?"active":null,je?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let ct=typeof f=="function"?f(Ue):f;return U.createElement(Fy,{...m,"aria-current":Be,className:we,ref:y,style:ct,to:h,viewTransition:p},typeof _=="function"?_(Ue):_)});kR.displayName="NavLink";var qR=U.forwardRef(({discover:l="render",fetcherKey:n,navigate:a,reloadDocument:r,replace:u,state:f,method:h=xr,action:p,onSubmit:_,relative:m,preventScrollReset:y,viewTransition:v,...S},O)=>{let N=QR(),k=XR(p,{relative:m}),B=h.toLowerCase()==="get"?"get":"post",I=typeof p=="string"&&Ky.test(p),F=Y=>{if(_&&_(Y),Y.defaultPrevented)return;Y.preventDefault();let fe=Y.nativeEvent.submitter,te=(fe==null?void 0:fe.getAttribute("formmethod"))||h;N(fe||Y.currentTarget,{fetcherKey:n,method:te,navigate:a,replace:u,state:f,relative:m,preventScrollReset:y,viewTransition:v})};return U.createElement("form",{ref:O,method:B,action:k,onSubmit:r?_:F,...S,"data-discover":!I&&l==="render"?"true":void 0})});qR.displayName="Form";function jR(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zy(l){let n=U.useContext(Ul);return ze(n,jR(l)),n}function YR(l,{target:n,replace:a,state:r,preventScrollReset:u,relative:f,viewTransition:h}={}){let p=JT(),_=Ui(),m=cs(l,{relative:f});return U.useCallback(y=>{if(vR(y,n)){y.preventDefault();let v=a!==void 0?a:es(_)===es(m);p(l,{replace:v,state:r,preventScrollReset:u,relative:f,viewTransition:h})}},[_,p,m,a,r,n,l,u,f,h])}var GR=0,VR=()=>`__${String(++GR)}__`;function QR(){let{router:l}=Zy("useSubmit"),{basename:n}=U.useContext(tn),a=oR();return U.useCallback(async(r,u={})=>{let{action:f,method:h,encType:p,formData:_,body:m}=bR(r,n);if(u.navigate===!1){let y=u.fetcherKey||VR();await l.fetch(y,a,u.action||f,{preventScrollReset:u.preventScrollReset,formData:_,body:m,formMethod:u.method||h,formEncType:u.encType||p,flushSync:u.flushSync})}else await l.navigate(u.action||f,{preventScrollReset:u.preventScrollReset,formData:_,body:m,formMethod:u.method||h,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:a,flushSync:u.flushSync,viewTransition:u.viewTransition})},[l,n,a])}function XR(l,{relative:n}={}){let{basename:a}=U.useContext(tn),r=U.useContext(An);ze(r,"useFormAction must be used inside a RouteContext");let[u]=r.matches.slice(-1),f={...cs(l||".",{relative:n})},h=Ui();if(l==null){f.search=h.search;let p=new URLSearchParams(f.search),_=p.getAll("index");if(_.some(y=>y==="")){p.delete("index"),_.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();f.search=y?`?${y}`:""}}return(!l||l===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(f.pathname=f.pathname==="/"?a:En([a,f.pathname])),es(f)}function KR(l,n={}){let a=U.useContext(ky);ze(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Zy("useViewTransitionState"),u=cs(l,{relative:n.relative});if(!a.isTransitioning)return!1;let f=Tn(a.currentLocation.pathname,r)||a.currentLocation.pathname,h=Tn(a.nextLocation.pathname,r)||a.nextLocation.pathname;return Wr(u.pathname,h)!=null||Wr(u.pathname,f)!=null}new TextEncoder;[...OR];const FR="/mtgxtream/assets/lemur-CccV2srw.png";function ig(){const[l,n]=U.useState([]);U.useEffect(()=>{const f=yf({apiKey:"AIzaSyDVKtaizSpvIQlHnZvNf3zYoEjw7cDzdfY",authDomain:"mtgxtream.firebaseapp.com",databaseURL:"https://mtgxtream-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mtgxtream",storageBucket:"mtgxtream.firebasestorage.app",messagingSenderId:"824568675870",appId:"1:824568675870:web:36cbbee547d61a6b03380f"}),h=My(f),p=of(h,"matchData");(()=>{xy(p,m=>{const y=m.val();if(y){const v=Object.values(y);n(v)}})})()},[]),console.log(l);const a=l[0],r=l[1],u=l[2];return!a||!r?Q.jsx(Q.Fragment,{children:"init"}):Q.jsxs("div",{className:"overlay-container",children:[Q.jsxs("div",{className:"overlay-top",children:[Q.jsx("div",{className:"player",children:Q.jsxs("div",{className:"player-data",children:[Q.jsx("div",{className:"player-data-top",children:a.name}),Q.jsxs("div",{className:"player-data-bottom",children:[Q.jsx("div",{className:"player-deck",children:a.deck}),Q.jsx("div",{className:"divider",children:"|"}),Q.jsx("div",{className:"player-record",children:a.record})]})]})}),Q.jsxs("div",{className:"match-data",children:[Q.jsxs("div",{className:"player-tracking",children:[Q.jsx("div",{className:"player-life-total",children:a.life}),Q.jsx("div",{className:"player-wins",children:a.wins})]}),Q.jsx("div",{className:"round-timer",children:Q.jsx("div",{className:"round",children:u})}),Q.jsxs("div",{className:"player-tracking",children:[Q.jsx("div",{className:"player-wins",children:r.wins}),Q.jsx("div",{className:"player-life-total",children:r.life})]})]}),Q.jsx("div",{className:"player",children:Q.jsxs("div",{className:"player-data",children:[Q.jsx("div",{className:"player-data-top",style:{textAlign:"right"},children:r.name}),Q.jsxs("div",{className:"player-data-bottom",style:{justifyContent:"flex-end"},children:[Q.jsx("div",{className:"player-record",children:r.record}),Q.jsx("div",{className:"divider",children:"|"}),Q.jsx("div",{className:"player-deck",children:r.deck})]})]})})]}),Q.jsxs("div",{className:"overlay-bottom",children:[Q.jsx("div",{className:"location",children:"O Cascabullo, Ourense"}),Q.jsx("div",{className:"logo",children:Q.jsx("img",{src:FR,height:90,width:100,alt:""})})]})]})}function ZR(){return Q.jsx(Q.Fragment,{children:Q.jsx(U.StrictMode,{children:Q.jsx(BR,{children:Q.jsxs(mR,{children:[Q.jsx(Or,{path:"/",element:Q.jsx(ig,{})}),Q.jsx(Or,{path:"/overlay",element:Q.jsx(ig,{})}),Q.jsx(Or,{path:"/controls",element:Q.jsx(CT,{})})]})})})})}NE.createRoot(document.getElementById("root")).render(Q.jsx(U.StrictMode,{children:Q.jsx(ZR,{})}));
